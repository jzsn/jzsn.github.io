I"ÚV<h2 id="å®éªŒé¢˜ç›®">å®éªŒé¢˜ç›®</h2>

<p>é™æ€è·¯ç”±å®éªŒ</p>

<h2 id="å®éªŒç›®çš„">å®éªŒç›®çš„</h2>

<p>æŒæ¡é™æ€è·¯ç”±çš„é…ç½®å’Œä½¿ç”¨æ–¹æ³•ã€‚</p>

<h2 id="å®éªŒå‘½ä»¤">å®éªŒå‘½ä»¤</h2>

<h3 id="æŸ¥çœ‹æ¥å£">æŸ¥çœ‹æ¥å£</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#show interface</span>
<span class="c">#show ip interface brief</span>
<span class="c">#show ip interface f0/1</span>
</code></pre></div></div>

<h3 id="é…ç½®-ip-åœ°å€å’Œå­ç½‘æ©ç ">é…ç½® IP åœ°å€å’Œå­ç½‘æ©ç </h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">(</span>config<span class="o">)</span><span class="c">#interface serial 1/2                       !è¿›è¡Œæ¥å£æ¨¡å¼</span>
<span class="o">(</span>config-if<span class="o">)</span><span class="c">#ip address 192.168.1.11  255.255.255.0   !é…ç½®æ¥å£çš„IPåœ°å€å’Œå­ç½‘æ©ç </span>
</code></pre></div></div>

<h3 id="é…ç½®ä¸²å£æ—¶é’Ÿå’Œå¸¦å®½">é…ç½®ä¸²å£æ—¶é’Ÿå’Œå¸¦å®½</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">(</span>config-if<span class="o">)</span><span class="c">#clock rate 64000               !é…ç½®æ—¶é’Ÿé¢‘ç‡64000ï¼ˆåœ¨DCEä¸Šé…ç½®ï¼ŒDTEä¸ç”¨é…ç½®ï¼‰</span>
<span class="o">(</span>config-if<span class="o">)</span><span class="c">#bandwidth 512                !é…ç½®ç«¯å£çš„å¸¦å®½é€Ÿç‡ä¸º512KB</span>
</code></pre></div></div>

<h3 id="é…ç½®é™æ€è·¯ç”±">é…ç½®é™æ€è·¯ç”±</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">(</span>config<span class="o">)</span><span class="c">#ip route network net-mask next-hop  ! next-hopå¯ä»¥ä¸ºè½¬å‘çš„ä¸²è¡Œæ¥å£åæˆ–ä¸‹ä¸€è·³çš„IPåœ°å€</span>
</code></pre></div></div>

<p>ä¾‹ï¼š</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ip route  192.168.3.0  255.255.255.0  192.168.2.2
ip route  192.168.3.0  255.255.255.0  S2/0
</code></pre></div></div>

<h3 id="æ˜¾ç¤ºè·¯ç”±è¡¨">æ˜¾ç¤ºè·¯ç”±è¡¨</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#show ip route</span>
</code></pre></div></div>

<h3 id="é…ç½®é™æ€è·¯ç”±å‚æ•°">é…ç½®é™æ€è·¯ç”±å‚æ•°</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">(</span>config<span class="o">)</span><span class="c">#ip route network net-mask next-hop  [distance]  [weight number]  [disable|enable]</span>
ï¼distanceè®¾ç½®ç®¡ç†è·ç¦»ï¼ˆé»˜è®¤ä¸º1ï¼‰ï¼Œweightä¸ºæƒé‡ã€‚
<span class="o">!</span> å°†distanceè®¾ç½®ä¸ºä¸€ä¸ªå¤§çš„å€¼<span class="o">(</span>ä¾‹å¦‚ï¼Œ125ã€‚è¿™å¤§äºOSPFçš„110<span class="o">)</span>å¯ä»¥ä½œä¸ºå¤‡ä»½è·¯ç”±ã€‚
</code></pre></div></div>

<h3 id="é…ç½®é»˜è®¤è·¯ç”±">é…ç½®é»˜è®¤è·¯ç”±</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">(</span>config<span class="o">)</span><span class="c"># ip route 0.0.0.0  0.0.0.0  next-hop</span>
</code></pre></div></div>

<p>ä¾‹ï¼š</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ip route  0.0.0.0  0.0.0.0  192.168.2.1
</code></pre></div></div>

<h3 id="é…ç½®äº¤æ¢æœºç«¯å£é•œåƒ">é…ç½®äº¤æ¢æœºç«¯å£é•œåƒ</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Switch<span class="o">(</span>config<span class="o">)</span><span class="c">#monitor  session 1  source  interface  f0/15    ! ç›‘æ§f0/15</span>
Switch<span class="o">(</span>config<span class="o">)</span><span class="c">#monitor  session 1  destination  interface  f0/5  ! ç”¨f0/5ç›‘æ§</span>
Switch<span class="o">(</span>config<span class="o">)</span><span class="c">#show  monitor  session  1                	! æ˜¾ç¤ºç›‘æ§æƒ…å†µ</span>
Switch<span class="o">(</span>config<span class="o">)</span><span class="c">#no  monitor  session  1                  	! å–æ¶ˆç›‘æ§</span>
</code></pre></div></div>

<h2 id="å®éªŒè¯´æ˜">å®éªŒè¯´æ˜</h2>

<ul>
  <li>é…ç½®å‰å…ˆé‡å¯è·¯ç”±å™¨<code class="highlighter-rouge">#reload</code></li>
  <li>å‚ä¸ ping çš„ä¸»æœºè¦åˆ é™¤æ ¡å›­ç½‘ç½‘å…³ã€‚</li>
  <li>æ³¨æ„å…³é—­ Windows çš„é˜²ç«å¢™</li>
</ul>

<h2 id="å®éªŒä»»åŠ¡">å®éªŒä»»åŠ¡</h2>

<p>ç”±äºå®é™…ä¸Šæ‰€ç”¨çš„æ¥å£åä¸ä¸€å®šæ˜¯ä¸Šé¢æ ‡æ˜çš„ï¼Œå…ˆç”¨#show interface æŸ¥çœ‹æ¥å£åï¼Œå¹¶æ ¹æ®å®é™…æ¥çº¿ä¿®æ”¹ä¸Šå›¾çš„æ¥å£å’Œ IP åœ°å€æ ‡è®°ã€‚
é…ç½®å¥½ PC æœºå®éªŒç½‘ç½‘å¡çš„ IP åœ°å€ã€å­ç½‘æ©ç å’Œé»˜è®¤ç½‘å…³ï¼ŒæŒ‰ä¸‹é¢æ­¥éª¤ä¾æ¬¡è¿›è¡Œé…ç½®å’Œæ£€æµ‹ï¼š</p>

<h3 id="é…ç½®-router1-å’Œ-router2-çš„-ip-åœ°å€å’Œå­ç½‘æ©ç -è§ä¸Šé¢å®éªŒå‘½ä»¤">é…ç½® Router1 å’Œ Router2 çš„ IP åœ°å€å’Œå­ç½‘æ©ç  (è§ä¸Šé¢â€œå®éªŒå‘½ä»¤â€)ã€‚</h3>

<h4 id="æ˜¾ç¤º-router1-çš„è·¯ç”±è¡¨å¹¶æˆªå±">æ˜¾ç¤º Router1 çš„è·¯ç”±è¡¨å¹¶æˆªå±</h4>

<p><img src="/assets/image/2019-05-05-1.jpg" alt="å›¾ç‰‡æè¿°" /></p>

<h4 id="æ˜¾ç¤º-router2-çš„è·¯ç”±è¡¨å¹¶æˆªå±">æ˜¾ç¤º Router2 çš„è·¯ç”±è¡¨å¹¶æˆªå±</h4>

<p><img src="/assets/image/2019-05-05-2.jpg" alt="å›¾ç‰‡æè¿°" /></p>

<h4 id="pc1-ä¾æ¬¡-ping-åˆ°-pc2-è·¯ç»ä¸Šçš„æ‰€æœ‰-ip-åœ°å€å¹¶æˆªå±">PC1 ä¾æ¬¡ ping åˆ° PC2 è·¯ç»ä¸Šçš„æ‰€æœ‰ IP åœ°å€ï¼Œå¹¶æˆªå±</h4>

<p><img src="/assets/image/2019-05-05-3.jpg" alt="å›¾ç‰‡æè¿°" /></p>

<h4 id="åˆ†æ-router1-è·¯ç”±è¡¨å’Œ-router2-è·¯ç”±è¡¨çš„è·¯ç”±ç»„æˆ">åˆ†æ Router1 è·¯ç”±è¡¨å’Œ Router2 è·¯ç”±è¡¨çš„è·¯ç”±ç»„æˆ</h4>

<p>ç¬¬ä¸€è¡Œå’Œç¬¬ä¸‰è¡Œæ˜¯æ­¤æ¬¡å®éªŒæ–°è®¾çš„ IP åœ°å€ä»¥åŠå¯¹åº”çš„è¿æ¥ç«¯å£ã€‚è€Œç¬¬äºŒå’Œç¬¬å››è¡Œåˆ™è¯´æ˜æœ¬è·¯ç”±å™¨æ‹¥æœ‰çš„ IP åœ°å€å’Œå¯¹åº”çš„ç«¯å£ã€‚</p>

<h3 id="åœ¨-router1-å’Œ-router2-ä¸Šé…ç½®é™æ€è·¯ç”±è§ä¸Šé¢å‘½ä»¤æˆ–è¯¾ä»¶è¦æ±‚-pc1-å¯ä»¥-ping-é€š-pc2">åœ¨ Router1 å’Œ Router2 ä¸Šé…ç½®é™æ€è·¯ç”±(è§ä¸Šé¢å‘½ä»¤æˆ–è¯¾ä»¶)ï¼Œè¦æ±‚ PC1 å¯ä»¥ ping é€š PC2ã€‚</h3>

<h4 id="æ˜¾ç¤º-router1-çš„è·¯ç”±è¡¨å¹¶æˆªå±-1">æ˜¾ç¤º Router1 çš„è·¯ç”±è¡¨å¹¶æˆªå±</h4>

<p><img src="/assets/image/2019-05-05-4.jpg" alt="å›¾ç‰‡æè¿°" /></p>

<h4 id="æ˜¾ç¤º-router2-çš„è·¯ç”±è¡¨å¹¶æˆªå±-1">æ˜¾ç¤º Router2 çš„è·¯ç”±è¡¨å¹¶æˆªå±</h4>

<p><img src="/assets/image/2019-05-05-5.jpg" alt="å›¾ç‰‡æè¿°" /></p>

<h4 id="pc1-ping-pc2-å¹¶æˆªå±">PC1 ping PC2 å¹¶æˆªå±</h4>

<p><img src="/assets/image/2019-05-05-6.jpg" alt="å›¾ç‰‡æè¿°" /></p>

<h4 id="åˆ†æ-router1-è·¯ç”±è¡¨å’Œ-router2-è·¯ç”±è¡¨çš„è·¯ç”±ç»„æˆ-1">åˆ†æ Router1 è·¯ç”±è¡¨å’Œ Router2 è·¯ç”±è¡¨çš„è·¯ç”±ç»„æˆ</h4>

<p>æ­¤æ—¶ç›¸æ¯”äºï¼ˆ1ï¼‰ï¼Œæ¯ä¸€ä¸ªè·¯ç”±å™¨å¤šäº†ä¸€è¡Œâ€œS 192.168.X.Xâ€ï¼Œè¿™æ˜¯æ–°é…ç½®çš„é™æ€è·¯ç”±ã€‚è·¯ç”±å™¨ 1 çš„é™æ€è·¯ç”±é…ç½®ä¸ºç½‘ç»œå·ï¼š192.168.3.0ï¼Œç«¯å£ä¸º 192.168.2.2.è·¯ç”±å™¨ 2 çš„é™æ€è·¯ç”±é…ç½®ä¸ºç½‘ç»œå·ï¼š192.168.1.0ï¼Œç«¯å£ä¸º 192.168.2.1.</p>

<h3 id="å¦‚æœåªåœ¨-router1-ä¸Šé…ç½®é™æ€è·¯ç”±åˆ é™¤-router2-ä¸Šé…ç½®çš„é™æ€è·¯ç”±-pc1-å’Œ-pc2-éƒ½-ping-åˆ°å¯¹æ–¹è·¯å¾„ä¸Šçš„-ip-åœ°å€æœ€è¿œå¯ä»¥-ping-é€šå“ªä¸ªæ¥å£ä¸ºä»€ä¹ˆ">å¦‚æœåªåœ¨ Router1 ä¸Šé…ç½®é™æ€è·¯ç”±ï¼ˆåˆ é™¤ Router2 ä¸Šé…ç½®çš„é™æ€è·¯ç”±ï¼‰, PC1 å’Œ PC2 éƒ½ ping åˆ°å¯¹æ–¹è·¯å¾„ä¸Šçš„ IP åœ°å€ï¼Œæœ€è¿œå¯ä»¥ ping é€šå“ªä¸ªæ¥å£ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ</h3>

<p>åˆ é™¤é…ç½®å‘½ä»¤çš„æ–¹æ³•æ˜¯åœ¨åŸé…ç½®å‘½ä»¤å‰åŠ  noï¼ˆå’Œä¸€ä¸ªç©ºæ ¼ï¼‰ã€‚ç”¨ä¸Šä¸‹é”®å¯ä»¥æ˜¾ç¤ºå‡ºå†å²å‘½ä»¤ã€‚</p>

<h4 id="pc1-ä¾æ¬¡-ping-åˆ°-pc2-è·¯ç»ä¸Šçš„æ‰€æœ‰-ip-åœ°å€å¹¶æˆªå±-1">PC1 ä¾æ¬¡ ping åˆ° PC2 è·¯ç»ä¸Šçš„æ‰€æœ‰ IP åœ°å€ï¼Œå¹¶æˆªå±</h4>

<p><img src="/assets/image/2019-05-05-7.jpg" alt="å›¾ç‰‡æè¿°" /></p>

<h4 id="pc2-ä¾æ¬¡-ping-åˆ°-pc1-è·¯ç»ä¸Šçš„æ‰€æœ‰-ip-åœ°å€å¹¶æˆªå±">PC2 ä¾æ¬¡ ping åˆ° PC1 è·¯ç»ä¸Šçš„æ‰€æœ‰ IP åœ°å€ï¼Œå¹¶æˆªå±</h4>

<p><img src="/puclic/image/2019-05-05-8.jpg" alt="å›¾ç‰‡æè¿°" /></p>

<h4 id="åˆ†æç»“æœ">åˆ†æç»“æœ</h4>

<p>æ­¤æ—¶çš„ PC2 ç”±äºè·¯ç”±å™¨ 1 çš„é™æ€è·¯ç”±æ²¡æœ‰åˆ é™¤ï¼Œæ‰€ä»¥å¯ä»¥æœ‰è·¯ç”±è¡¨æ‰¾åˆ°å‰å¾€ 192.168.2.1 çš„è·¯å¾„ï¼Œä½†ç”±äºè·¯ç”±å™¨ 2 çš„é™æ€è·¯ç”±åˆ é™¤ï¼Œæ‰€ä»¥å¹¶ä¸èƒ½æ‰¾åˆ°å¯¹åº”çš„è·¯å¾„å‰å¾€ PC1.</p>

<p>PC1 å¯ä»¥åˆ°è¾¾è·¯ç”±å™¨ 1 çš„ä¸¤ç«¯ã€‚ç”±äºè·¯ç”±å™¨ 2 çš„åŸå› ï¼Œä¸èƒ½ ping é€šè·¯ç”±å™¨ 2 çš„ä¸¤ä¸ªç«¯å£ä»¥åŠ PC2.</p>

<h3 id="å¦‚æœåœ¨è·¯ç”±å™¨-router1-å’Œ-router2-åªé…ç½®é»˜è®¤è·¯ç”±æŒ‡å‘å¯¹æ–¹è¦å…ˆåˆ é™¤åŸé™æ€è·¯ç”±pc1-æ˜¯å¦å¯ä»¥-ping-é€š-pc2ä¸ºä»€ä¹ˆå†™ä¸‹åˆ†æ">å¦‚æœåœ¨è·¯ç”±å™¨ Router1 å’Œ Router2 åªé…ç½®é»˜è®¤è·¯ç”±æŒ‡å‘å¯¹æ–¹ï¼ˆè¦å…ˆåˆ é™¤åŸé™æ€è·¯ç”±ï¼‰ï¼ŒPC1 æ˜¯å¦å¯ä»¥ ping é€š PC2ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿå†™ä¸‹åˆ†æã€‚</h3>

<h4 id="pc1-ping-pc2å¹¶æˆªå±">PC1 ping PC2ï¼Œå¹¶æˆªå±</h4>

<p><img src="/assets/image/2019-05-05-9.jpg" alt="å›¾ç‰‡æè¿°" /></p>

<h4 id="æ˜¾ç¤º-router1-çš„è·¯ç”±è¡¨å¹¶æˆªå±-2">æ˜¾ç¤º Router1 çš„è·¯ç”±è¡¨å¹¶æˆªå±</h4>

<p><img src="/assets/image/2019-05-05-10.jpg" alt="å›¾ç‰‡æè¿°" /></p>

<h4 id="åˆ†æç»“æœ-1">åˆ†æç»“æœ</h4>

<p>ç”±äºåœ¨ router1 çš„è·¯ç”±è¡¨ä¸­æ²¡æœ‰ç›®çš„åœ°å€ä¸è¦å‰å¾€çš„ç›®çš„åœ°å€ç¬¦åˆï¼Œæ‰€ä»¥é€‰æ‹©é»˜è®¤è·¯ç”±çš„è·¯å¾„ï¼Œå‘å¾€ router2ï¼Œè€Œ router2 çš„è·¯ç”±è¡¨é‡Œæœ‰å¯¹åº”çš„ç›®çš„åœ°å€ï¼Œä» 192.168.3.1 å‘åˆ° PC2.æ‰€ä»¥å¯ä»¥ ping é€šã€‚</p>

<h3 id="åœ¨è·¯ç”±å™¨ä¹‹é—´åŠ å…¥ä¸€å°äº¤æ¢æœº-switch1ä¸ç”¨é…ç½®å¹¶è¿ä¸Šä¸€å°ä¸»æœºpc3è§ä¸‹å›¾åœ¨-switch1-ä¸Šé…ç½®ç«¯å£é•œåƒè§ä¸Šé¢å®éªŒå‘½ä»¤æ•æ‰ç»è¿‡-f015-çš„-ip-åˆ†ç»„å¹¶é€å¾€-f05-pc3-å¯ä»¥ç”¨-wireshark-æ•æ‰-icmp-åŒ…filteripproto1">åœ¨è·¯ç”±å™¨ä¹‹é—´åŠ å…¥ä¸€å°äº¤æ¢æœº Switch1ï¼ˆä¸ç”¨é…ç½®ï¼‰ï¼Œå¹¶è¿ä¸Šä¸€å°ä¸»æœºï¼ˆPC3ï¼‰ï¼Œè§ä¸‹å›¾ã€‚åœ¨ Switch1 ä¸Šé…ç½®ç«¯å£é•œåƒ(è§ä¸Šé¢â€œå®éªŒå‘½ä»¤â€)ï¼Œæ•æ‰ç»è¿‡ F0/15 çš„ IP åˆ†ç»„ï¼Œå¹¶é€å¾€ F0/5ï¼Œ PC3 å¯ä»¥ç”¨ WireShark æ•æ‰ ICMP åŒ…ï¼ˆfilterï¼šip.proto==1ï¼‰ã€‚</h3>

<h4 id="ç”¨-pc1-ping-ä¸€ä¸ªå¤–éƒ¨ç½‘ç»œçš„æ— ä¸»-ip-åœ°å€ä¼šå‡ºç°ä»€ä¹ˆç°è±¡æˆªå±å¹¶åˆ†æç»“æœ">ç”¨ PC1 ping ä¸€ä¸ªå¤–éƒ¨ç½‘ç»œçš„æ— ä¸» IP åœ°å€ä¼šå‡ºç°ä»€ä¹ˆç°è±¡ï¼Ÿæˆªå±å¹¶åˆ†æç»“æœ</h4>

<p><img src="/assets/image/2019-05-05-11.jpg" alt="å›¾ç‰‡æè¿°" /></p>

<h3 id="è§ä¸‹å›¾æ‹†é™¤-router1-å’Œ-router2-ä¹‹é—´çš„ä»¥å¤ªç½‘çº¿å¹¶ç”¨ä¸²è¡Œæ¥å£åšå®éªŒä¸²è¡Œæ¥å£å·²ç»æ¥å¥½äº†ä½†ä¸ä¸€å®šæ˜¯ä¸‹å›¾æ ‡å¿—çš„åç§°è¦ç”¨show-interfaceæˆ–show-ip-interface-brief-æˆ–show-ip-interface-s01æŸ¥çœ‹å“ªä¸ªä¸²è¡Œæ¥å£å·²ç»æ¥å¥½line-is-upprotocol-is-upé…ç½®-router1-å’Œ-router2-ä¸²è¡Œå£çš„æ—¶é’Ÿip-åœ°å€å’Œå­ç½‘æ©ç åˆ é™¤é»˜è®¤è·¯ç”±é…ç½®é™æ€è·¯ç”±è§ä¸Šé¢å‘½ä»¤æˆ–è¯¾ä»¶ä»¤-pc1-å¯ä»¥-ping-é€š-pc2">è§ä¸‹å›¾ï¼Œæ‹†é™¤ Router1 å’Œ Router2 ä¹‹é—´çš„ä»¥å¤ªç½‘çº¿ï¼Œå¹¶ç”¨ä¸²è¡Œæ¥å£åšå®éªŒï¼Œä¸²è¡Œæ¥å£å·²ç»æ¥å¥½äº†ï¼Œä½†ä¸ä¸€å®šæ˜¯ä¸‹å›¾æ ‡å¿—çš„åç§°ï¼Œè¦ç”¨#show interfaceï¼ˆæˆ–#show ip interface brief æˆ–#show ip interface s0/1ï¼‰æŸ¥çœ‹å“ªä¸ªä¸²è¡Œæ¥å£å·²ç»æ¥å¥½(line is upï¼Œprotocol is up)ã€‚é…ç½® Router1 å’Œ Router2 ä¸²è¡Œå£çš„æ—¶é’Ÿã€IP åœ°å€å’Œå­ç½‘æ©ç ï¼Œåˆ é™¤é»˜è®¤è·¯ç”±ï¼Œé…ç½®é™æ€è·¯ç”±(è§ä¸Šé¢å‘½ä»¤æˆ–è¯¾ä»¶)ï¼Œä»¤ PC1 å¯ä»¥ ping é€š PC2ã€‚</h3>

<h4 id="ç”¨-pc1-ping-pc2-å¹¶æˆªå±">ç”¨ PC1 ping PC2 å¹¶æˆªå±</h4>

<p><img src="/assets/image/2019-05-05-12.jpg" alt="å›¾ç‰‡æè¿°" /></p>

<p>æ­¤æ—¶ç”±äº router1 çš„è·¯ç”±è¡¨é‡Œæ²¡æœ‰å¯¹åº”çš„ç›®çš„åœ°å€ï¼Œæ‰€ä»¥å‘å¾€é»˜è®¤è·¯ç”±ï¼Œå³ä» 12.0168.2.1 å‘å‡ºï¼Œç»è¿‡äº¤æ¢æœºï¼ŒPC3 æ”¶åˆ°ã€‚è€Œ router2 æ”¶åˆ°åï¼Œä¹Ÿæ˜¯æ²¡æœ‰ç¬¦åˆçš„ç›®çš„åœ°å€ï¼Œæ‰€ä»¥å‘å¾€é»˜è®¤è·¯ç”±ï¼Œç»è¿‡äº¤æ¢æœºï¼Œåˆ°è¾¾ router1.é‡å¤ä¸Šè¿°æ“ä½œï¼Œç›´è‡³è¯¥å¸§çš„ TTL å‡ä¸º 0,ã€‚åœ¨æ­¤è¿‡ç¨‹ä¸­ï¼ŒPC3 ä¸€ç›´æ”¶åˆ°ã€‚æ‰€ä»¥å‡ºç°äº†ä¸Šé¢çš„ç»“æœã€‚</p>

<h4 id="æ˜¾ç¤º-router1-çš„è·¯ç”±è¡¨å¹¶æˆªå±-3">æ˜¾ç¤º Router1 çš„è·¯ç”±è¡¨å¹¶æˆªå±</h4>

<p><img src="/assets/image/2019-05-05-13.jpg" alt="å›¾ç‰‡æè¿°" /></p>

<h4 id="æ˜¾ç¤º-router2-çš„è·¯ç”±è¡¨å¹¶æˆªå±-2">æ˜¾ç¤º Router2 çš„è·¯ç”±è¡¨å¹¶æˆªå±</h4>

<p><img src="/publuc/image/2019-05-05-14.jpg" alt="å›¾ç‰‡æè¿°" /></p>

<h4 id="ç”¨show-running-config-æ˜¾ç¤º-router1-çš„å½“å‰é…ç½®å¹¶ç²˜è´´åœ¨ä¸‹é¢">ç”¨#show running-config æ˜¾ç¤º Router1 çš„å½“å‰é…ç½®ï¼Œå¹¶ç²˜è´´åœ¨ä¸‹é¢</h4>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Building configuration...
Current configuration : 1913 bytes

<span class="o">!</span>
version RGOS 10.4<span class="o">(</span>3b23<span class="o">)</span> Release<span class="o">(</span>176514<span class="o">)(</span>Mon Jul 28 18:19:31 CST 2014 <span class="nt">-ngcf62</span><span class="o">)</span>
<span class="nb">hostname </span>18-RSR20-1
webmaster level 0 username admin password 7 06073a0e261b
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
diffserv domain default
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
cwmp
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
vlan 1
<span class="o">!</span>
<span class="o">!</span>
no service password-encryption
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
control-plane
<span class="o">!</span>
control-plane protocol
 no acpp
<span class="o">!</span>
control-plane manage
 no port-filter
 no arp-car
 no acpp
<span class="o">!</span>
control-plane data
 no glean-car
 no acpp
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="nb">enable </span>service web-server http
<span class="nb">enable </span>service web-server https
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
interface Serial 2/0
 encapsulation HDLC
 ip address 192.168.2.1 255.255.255.0
 bandwidth 512
<span class="o">!</span>
interface FastEthernet 1/0
<span class="o">!</span>
interface FastEthernet 1/1
<span class="o">!</span>
interface FastEthernet 1/2
<span class="o">!</span>
interface FastEthernet 1/3
<span class="o">!</span>
interface FastEthernet 1/4
<span class="o">!</span>
interface FastEthernet 1/5
<span class="o">!</span>
interface FastEthernet 1/6
<span class="o">!</span>
interface FastEthernet 1/7
<span class="o">!</span>
interface FastEthernet 1/8
<span class="o">!</span>
interface FastEthernet 1/9
<span class="o">!</span>
interface FastEthernet 1/10
<span class="o">!</span>
interface FastEthernet 1/11
<span class="o">!</span>
interface FastEthernet 1/12
<span class="o">!</span>
interface FastEthernet 1/13
<span class="o">!</span>
interface FastEthernet 1/14
<span class="o">!</span>
interface FastEthernet 1/15
<span class="o">!</span>
interface FastEthernet 1/16
<span class="o">!</span>
interface FastEthernet 1/17
<span class="o">!</span>
interface FastEthernet 1/18
<span class="o">!</span>
interface FastEthernet 1/19
<span class="o">!</span>
interface FastEthernet 1/20
<span class="o">!</span>
interface FastEthernet 1/21
<span class="o">!</span>
interface FastEthernet 1/22
<span class="o">!</span>
interface FastEthernet 1/23
<span class="o">!</span>
interface GigabitEthernet 0/0
 ip address 192.168.1.1 255.255.255.0
 duplex auto
 speed auto
<span class="o">!</span>
interface GigabitEthernet 0/1
 duplex auto
 speed auto
<span class="o">!</span>
interface VLAN 1
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
ip route 192.168.3.0 255.255.255.0 192.168.2.2
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
ref parameter 75 140
line con 0
line aux 0
line <span class="nb">tty </span>1
 modem InOut
line vty 0 4
 login
 password b402
<span class="o">!</span>
<span class="o">!</span>
end
</code></pre></div></div>

<h4 id="ç”¨show-running-config-æ˜¾ç¤º-router2-çš„å½“å‰é…ç½®å¹¶ç²˜è´´åœ¨ä¸‹é¢">ç”¨#show running-config æ˜¾ç¤º Router2 çš„å½“å‰é…ç½®ï¼Œå¹¶ç²˜è´´åœ¨ä¸‹é¢</h4>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>18-RSR20-2<span class="o">(</span>config<span class="o">)</span><span class="c">#show running-config</span>

Building configuration...
Current configuration : 1971 bytes

<span class="o">!</span>
version RGOS 10.4<span class="o">(</span>3b23<span class="o">)</span> Release<span class="o">(</span>176514<span class="o">)(</span>Mon Jul 28 18:19:31 CST 2014 <span class="nt">-ngcf62</span><span class="o">)</span>
<span class="nb">hostname </span>18-RSR20-2
webmaster level 0 username admin password 7 073f07221c1c
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
diffserv domain default
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
cwmp
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
vlan 1
<span class="o">!</span>
<span class="o">!</span>
no service password-encryption
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
control-plane
<span class="o">!</span>
control-plane protocol
 no acpp
<span class="o">!</span>
control-plane manage
 no port-filter
 no arp-car
 no acpp
<span class="o">!</span>
control-plane data
 no glean-car
 no acpp
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="nb">enable </span>service web-server http
<span class="nb">enable </span>service web-server https
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
interface Serial 2/0
 encapsulation HDLC
 ip address 192.168.2.2 255.255.255.0
 clock rate 64000
 bandwidth 512
<span class="o">!</span>
interface Serial 3/0
 encapsulation HDLC
 clock rate 64000
<span class="o">!</span>
interface FastEthernet 1/0
<span class="o">!</span>
interface FastEthernet 1/1
<span class="o">!</span>
interface FastEthernet 1/2
<span class="o">!</span>
interface FastEthernet 1/3
<span class="o">!</span>
interface FastEthernet 1/4
<span class="o">!</span>
interface FastEthernet 1/5
<span class="o">!</span>
interface FastEthernet 1/6
<span class="o">!</span>
interface FastEthernet 1/7
<span class="o">!</span>
interface FastEthernet 1/8
<span class="o">!</span>
interface FastEthernet 1/9
<span class="o">!</span>
interface FastEthernet 1/10
<span class="o">!</span>
interface FastEthernet 1/11
<span class="o">!</span>
interface FastEthernet 1/12
<span class="o">!</span>
interface FastEthernet 1/13
<span class="o">!</span>
interface FastEthernet 1/14
<span class="o">!</span>
interface FastEthernet 1/15
<span class="o">!</span>
interface FastEthernet 1/16
<span class="o">!</span>
interface FastEthernet 1/17
<span class="o">!</span>
interface FastEthernet 1/18
<span class="o">!</span>
interface FastEthernet 1/19
<span class="o">!</span>
interface FastEthernet 1/20
<span class="o">!</span>
interface FastEthernet 1/21
<span class="o">!</span>
interface FastEthernet 1/22
<span class="o">!</span>
interface FastEthernet 1/23
<span class="o">!</span>
interface GigabitEthernet 0/0
 duplex auto
 speed auto
<span class="o">!</span>
interface GigabitEthernet 0/1
 ip address 192.168.3.2 255.255.255.0
 duplex auto
 speed auto
<span class="o">!</span>
interface VLAN 1
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
ip route 192.168.1.0 255.255.255.0 192.168.2.1
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
<span class="o">!</span>
ref parameter 75 140
line con 0
line aux 0
line vty 0 4
 login
 password b402
<span class="o">!</span>
<span class="o">!</span>
end
</code></pre></div></div>

<h2 id="å®éªŒä½“ä¼š">å®éªŒä½“ä¼š</h2>

<p>æœ¬æ¬¡å®éªŒä¸­ï¼Œæˆ‘ä»¬é‡åˆ°äº†ä¸€äº›é—®é¢˜ï¼Œæœ‰æ—¶é…ç½®æ˜¯ï¼ˆæˆ‘ä»¬è®¤ä¸ºï¼‰æ­£ç¡®çš„ä½†æ˜¯æ€»æ˜¯ ping ä¸é€šï¼Œç„¶åè¿‡äº†ä¸€æ®µæ—¶é—´åç»“æœåˆæ­£å¸¸äº†ï¼Œæœ‰äº›è®©äººæŠ“ä¸åˆ°å¤´è„‘ã€‚æ‰€å¹¸æœ€ç»ˆæ˜¯æŠŠå®éªŒåšå®Œäº†ã€‚åœ¨æœ¬æ¬¡å®éªŒä¸­æˆ‘äº†è§£äº†é™æ€è·¯ç”±çš„ä¸€äº›é…ç½®ï¼Œå¯¹äºä¸€äº›æƒ…å†µä¹Ÿå¯ä»¥åˆ¤æ–­å‡ºé—®é¢˜æ‰€åœ¨ã€‚</p>
:ET