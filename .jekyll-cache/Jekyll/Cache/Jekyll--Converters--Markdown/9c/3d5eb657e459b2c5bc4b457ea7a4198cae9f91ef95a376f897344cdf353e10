I"&¸<h2 id="å®éªŒç®€ä»‹">å®éªŒç®€ä»‹</h2>

<ul>
  <li>ä»å›½å†…ä¸»æµæ–°é—»ç½‘ç«™ï¼ˆå¦‚è…¾è®¯ã€æ–°æµªã€ç½‘æ˜“ç­‰ï¼‰çš„ç§‘æŠ€é¢‘é“æŠ“å–æ–°é—»å†…å®¹</li>
  <li>å¯¹æ–°é—»æ•°æ®è¿›è¡Œé¢„å¤„ç†ï¼ˆåˆ†å¥ã€åˆ†è¯ã€å»å™ªï¼‰</li>
  <li>ä½¿ç”¨é¢„å¤„ç†åçš„æ–°é—»æ•°æ®è®­ç»ƒä¸¤ä¸ªè¯­è¨€æ¨¡å‹
    <ul>
      <li>ç®€å•çš„ n-gram è¯­è¨€æ¨¡å‹ï¼ˆn å– 2 æˆ–è€… 3ï¼‰</li>
      <li>åŸºäº RNN/LSTM/GRU çš„è¯­è¨€æ¨¡å‹</li>
    </ul>
  </li>
  <li>åœ¨æµ‹è¯•é›†æ£€éªŒè®­ç»ƒå¥½çš„æ¨¡å‹çš„æ€§èƒ½</li>
</ul>

<h2 id="å®éªŒç¯å¢ƒ">å®éªŒç¯å¢ƒ</h2>

<h3 id="æœ¬åœ°ç¯å¢ƒ">æœ¬åœ°ç¯å¢ƒ</h3>

<p>æ‰€ç”¨æœºå™¨å‹å·ä¸º VAIO Z Flip 2016ã€‚</p>

<ul>
  <li>Intel(R) Core(TM) i7-6567U CPU @3.30GHZ 3.31GHz</li>
  <li>8.00GB RAM</li>
  <li>Windows 10, 64-bit (Build 17763) 10.0.17763</li>
  <li>Visual Studio Code 1.39.2
    <ul>
      <li>Python 2019.10.41019ï¼šä¹æœˆåº•å‘å¸ƒçš„ VSCode Python æ’ä»¶æ”¯æŒåœ¨ç¼–è¾‘å™¨çª—å£å†…åŸç”Ÿè¿è¡Œ juyter nootbook äº†ï¼Œéå¸¸èµï¼</li>
      <li>Remote - WSL 0.39.9ï¼šé…åˆ WSLï¼Œåœ¨ Windows ä¸Šè·å¾— Linux æ¥è¿‘åŸç”Ÿç¯å¢ƒçš„ä½“éªŒã€‚</li>
    </ul>
  </li>
  <li>Windows Subsystem for Linux [Ubuntu 18.04.2 LTS]ï¼šWSL æ˜¯ä»¥è½¯ä»¶çš„å½¢å¼è¿è¡Œåœ¨ Windows ä¸‹çš„ Linux å­ç³»ç»Ÿï¼Œæ˜¯è¿‘äº›å¹´å¾®è½¯æ¨å‡ºæ¥çš„æ–°å·¥å…·ï¼Œå¯ä»¥åœ¨ Windows ç³»ç»Ÿä¸ŠåŸç”Ÿè¿è¡Œ Linuxã€‚
    <ul>
      <li>Python 3.7.4 64-bit (â€˜anaconda3â€™:virtualenv)ï¼šå®‰è£…åœ¨ WSL ä¸­ã€‚
        <ul>
          <li>requests==2.20.0</li>
          <li>beautifulsoup4==4.8.1</li>
          <li>jieba==0.39</li>
          <li>torch==1.1.0</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h3 id="é›†ç¾¤ç¯å¢ƒ">é›†ç¾¤ç¯å¢ƒ</h3>

<p>å€Ÿç”¨äº†è¶…ç®—é˜Ÿï¼ˆç¥–ä¼ çš„ï¼‰ä¸€ä¸ª K80 èŠ‚ç‚¹ã€‚</p>

<ul>
  <li>CPU æ˜¯åŒè·¯ intel Xeon e5-2660v3 å¤„ç†å™¨</li>
  <li>256GB RAM</li>
  <li>GPU æ¯èŠ‚ç‚¹ä¸ºä¸¤å¼  NVIDIA K80</li>
  <li>CUDA/8.0</li>
  <li>Python/3.6.4-anaconda2</li>
  <li>PyTorch/0.5a</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>yhcontrol show node gn21
<span class="nv">NodeName</span><span class="o">=</span>gn21 <span class="nv">Arch</span><span class="o">=</span>x86_64 <span class="nv">CoresPerSocket</span><span class="o">=</span>10
   <span class="nv">CPUAlloc</span><span class="o">=</span>0 <span class="nv">CPUErr</span><span class="o">=</span>0 <span class="nv">CPUTot</span><span class="o">=</span>20 <span class="nv">CPULoad</span><span class="o">=</span>1.84 <span class="nv">Features</span><span class="o">=(</span>null<span class="o">)</span>
   <span class="nv">Gres</span><span class="o">=(</span>null<span class="o">)</span>
   <span class="nv">NodeAddr</span><span class="o">=</span>gn21 <span class="nv">NodeHostName</span><span class="o">=</span>gn21
   <span class="nv">OS</span><span class="o">=</span>Linux <span class="nv">RealMemory</span><span class="o">=</span>256000 <span class="nv">AllocMem</span><span class="o">=</span>0 <span class="nv">Sockets</span><span class="o">=</span>2 <span class="nv">Boards</span><span class="o">=</span>1
   <span class="nv">State</span><span class="o">=</span>IDLE <span class="nv">ThreadsPerCore</span><span class="o">=</span>1 <span class="nv">TmpDisk</span><span class="o">=</span>0 <span class="nv">Weight</span><span class="o">=</span>1
   <span class="nv">BootTime</span><span class="o">=</span>2019-08-05T09:29:10 <span class="nv">SlurmdStartTime</span><span class="o">=</span>2019-08-05T09:29:34
   <span class="nv">CurrentWatts</span><span class="o">=</span>0 <span class="nv">LowestJoules</span><span class="o">=</span>0 <span class="nv">ConsumedJoules</span><span class="o">=</span>0
   <span class="nv">ExtSensorsJoules</span><span class="o">=</span>n/s <span class="nv">ExtSensorsWatts</span><span class="o">=</span>0 <span class="nv">ExtSensorsTemp</span><span class="o">=</span>n/s
<span class="nv">$ </span>nvidia-smi
Wed Nov 13 20:41:55 2019
+-----------------------------------------------------------------------------+
| NVIDIA-SMI 390.30                 Driver Version: 390.30                    |
|-------------------------------+----------------------+----------------------+
| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |
| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |
|<span class="o">===============================</span>+<span class="o">======================</span>+<span class="o">======================</span>|
|   0  Tesla K80           Off  | 00000000:04:00.0 Off |                    0 |
| N/A   51C    P0    59W / 149W |      0MiB / 11441MiB |      0%      Default |
+-------------------------------+----------------------+----------------------+
|   1  Tesla K80           Off  | 00000000:05:00.0 Off |                    0 |
| N/A   40C    P0    71W / 149W |      0MiB / 11441MiB |      0%      Default |
+-------------------------------+----------------------+----------------------+
|   2  Tesla K80           Off  | 00000000:84:00.0 Off |                    0 |
| N/A   50C    P0    60W / 149W |      0MiB / 11441MiB |      0%      Default |
+-------------------------------+----------------------+----------------------+
|   3  Tesla K80           Off  | 00000000:85:00.0 Off |                    0 |
| N/A   39C    P0    71W / 149W |      0MiB / 11441MiB |     98%      Default |
+-------------------------------+----------------------+----------------------+

+-----------------------------------------------------------------------------+
| Processes:                                                       GPU Memory |
|  GPU       PID   Type   Process name                             Usage      |
|<span class="o">=============================================================================</span>|
|  No running processes found                                                 |
+-----------------------------------------------------------------------------+
</code></pre></div></div>

<h2 id="å®éªŒè¿‡ç¨‹">å®éªŒè¿‡ç¨‹</h2>

<h3 id="spiderpyçˆ¬è™«è·å¾—è®­ç»ƒæ•°æ®"><code class="highlighter-rouge">spider.py</code>çˆ¬è™«ï¼Œè·å¾—è®­ç»ƒæ•°æ®</h3>

<blockquote>
  <p>ä»å›½å†…ä¸»æµæ–°é—»ç½‘ç«™ï¼ˆå¦‚è…¾è®¯ã€æ–°æµªã€ç½‘æ˜“ç­‰ï¼‰çš„ç§‘æŠ€é¢‘é“æŠ“å–æ–°é—»å†…å®¹ã€‚</p>

  <p>è¦æ±‚æ–°é—»è¯­è¨€ä¸ºä¸­æ–‡ï¼Œå‘å¸ƒæ—¥æœŸä¸º 2019 å¹´ 1 æœˆ 1 æ—¥ä»¥åï¼Œæ•°é‡è‡³å°‘ä¸º 1000 æ¡ã€‚</p>

  <p>å¯ä»¥è€ƒè™‘å°è¯•ç”¨ BeautifulSoup è¿›è¡Œ html å†…å®¹åˆ†æã€‚</p>
</blockquote>

<p>ä»<a href="https://tech.qq.com/l/201901/scroll_01.htm">è…¾è®¯æ»šåŠ¨æ–°é—»</a>è·å¾—æ–°é—» urlï¼Œç„¶åè§£ææ–°é—»æ­£æ–‡ä¿å­˜åˆ°æœ¬åœ°ã€‚</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># coding=UTF-8
</span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

<span class="n">newsList</span> <span class="o">=</span> <span class="p">[]</span>


<span class="k">def</span> <span class="nf">finNextPage</span><span class="p">(</span><span class="n">newsUrl</span><span class="p">):</span>
    <span class="n">url</span> <span class="o">=</span> <span class="n">newsUrl</span><span class="p">.</span><span class="n">split</span><span class="p">(</span><span class="s">".htm"</span><span class="p">)</span>
    <span class="n">url</span> <span class="o">=</span> <span class="n">url</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="s">'_2.htm'</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">200</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">url</span>


<span class="k">def</span> <span class="nf">getListPage</span><span class="p">(</span><span class="n">pageUrl</span><span class="p">):</span>
    <span class="n">reslistnew</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">pageUrl</span><span class="p">)</span>
    <span class="n">reslistnew</span><span class="p">.</span><span class="n">encoding</span> <span class="o">=</span> <span class="s">'gbk'</span>
    <span class="n">souplistnew</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">reslistnew</span><span class="p">.</span><span class="n">text</span><span class="p">,</span> <span class="s">'html.parser'</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">news</span> <span class="ow">in</span> <span class="n">souplistnew</span><span class="p">.</span><span class="n">select</span><span class="p">(</span><span class="s">'li'</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">news</span><span class="p">.</span><span class="n">select</span><span class="p">(</span><span class="s">'.pub_time'</span><span class="p">))</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">newsUrl</span> <span class="o">=</span> <span class="n">news</span><span class="p">.</span><span class="n">select</span><span class="p">(</span><span class="s">'a'</span><span class="p">)[</span><span class="mi">0</span><span class="p">].</span><span class="n">attrs</span><span class="p">[</span><span class="s">'href'</span><span class="p">]</span>
            <span class="c1"># getNewsDetail(newsUrl)
</span>            <span class="n">result</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">search</span><span class="p">(</span><span class="s">'http(.*?)html'</span><span class="p">,</span> <span class="n">newsUrl</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">result</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
                <span class="c1"># getNewsDetail(newsUrl)
</span>                <span class="n">newsList</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">newsUrl</span><span class="p">)</span>


<span class="c1"># åˆ¤æ–­å½“å¤©æ–°é—»æ˜¯å¦å­˜åœ¨ä¸‹ä¸€é¡µ
</span><span class="k">for</span> <span class="n">month</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">13</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">day</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">32</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">mon</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">month</span><span class="p">)</span>
            <span class="n">da</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">day</span><span class="p">)</span>
            <span class="k">if</span><span class="p">(</span><span class="n">month</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">):</span>
                <span class="n">mon</span> <span class="o">=</span> <span class="s">'0'</span><span class="o">+</span><span class="n">mon</span>
            <span class="k">if</span><span class="p">(</span><span class="n">day</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">):</span>
                <span class="n">da</span> <span class="o">=</span> <span class="s">'0'</span><span class="o">+</span><span class="n">da</span>
            <span class="n">url</span> <span class="o">=</span> <span class="s">'http://tech.qq.com/l/2019{mon}/scroll_{da}.htm'</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span>
                <span class="n">mon</span><span class="o">=</span><span class="n">mon</span><span class="p">,</span> <span class="n">da</span><span class="o">=</span><span class="n">da</span><span class="p">)</span>
            <span class="n">nextUrl</span> <span class="o">=</span> <span class="n">finNextPage</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">nextUrl</span><span class="p">:</span>
                <span class="n">getListPage</span><span class="p">(</span><span class="n">nextUrl</span><span class="p">)</span>
            <span class="n">getListPage</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="s">"Error: "</span><span class="o">+</span><span class="n">url</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">month</span><span class="p">)</span><span class="o">+</span><span class="s">" "</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">newsList</span><span class="p">)))</span>
<span class="c1"># æ ¹æ®ä¸Šä¸€æ­¥è·å¾—çš„UrlæŠ“å–æ–°é—»
</span><span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">exists</span><span class="p">(</span><span class="s">"å´å_17341163_æ–°é—»æ•°æ®/"</span><span class="p">):</span>
    <span class="n">os</span><span class="p">.</span><span class="n">mkdir</span><span class="p">(</span><span class="s">"å´å_17341163_æ–°é—»æ•°æ®/"</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">newsList</span><span class="p">)):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">newsUrl</span> <span class="o">=</span> <span class="n">newsList</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="n">resd</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">newsUrl</span><span class="p">)</span>
        <span class="n">resd</span><span class="p">.</span><span class="n">encoding</span> <span class="o">=</span> <span class="s">'gbk'</span>
        <span class="n">soupd</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">resd</span><span class="p">.</span><span class="n">text</span><span class="p">,</span> <span class="s">'html.parser'</span><span class="p">)</span>
        <span class="n">news</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">Cnt_Main_Article</span> <span class="o">=</span> <span class="n">soupd</span><span class="p">.</span><span class="n">select</span><span class="p">(</span><span class="s">'.Cnt-Main-Article-QQ'</span><span class="p">)</span>
        <span class="n">Main_P_QQ</span> <span class="o">=</span> <span class="n">soupd</span><span class="p">.</span><span class="n">select</span><span class="p">(</span><span class="s">'Main-P-QQ'</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">soupd</span><span class="p">.</span><span class="n">select</span><span class="p">(</span><span class="s">'.rv-middle'</span><span class="p">):</span>
            <span class="n">news</span><span class="p">[</span><span class="s">'content'</span><span class="p">]</span> <span class="o">=</span> <span class="n">soupd</span><span class="p">.</span><span class="n">select</span><span class="p">(</span><span class="s">'h1'</span><span class="p">)[</span><span class="mi">0</span><span class="p">].</span><span class="n">text</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">news</span><span class="p">[</span><span class="s">'title'</span><span class="p">]</span> <span class="o">=</span> <span class="n">soupd</span><span class="p">.</span><span class="n">select</span><span class="p">(</span><span class="s">'h1'</span><span class="p">)[</span><span class="mi">0</span><span class="p">].</span><span class="n">text</span>
            <span class="k">if</span> <span class="n">Cnt_Main_Article</span><span class="p">:</span>
                <span class="n">news</span><span class="p">[</span><span class="s">'content'</span><span class="p">]</span> <span class="o">=</span> <span class="n">Cnt_Main_Article</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">text</span>
            <span class="k">elif</span> <span class="n">Main_P_QQ</span><span class="p">:</span>
                <span class="n">news</span><span class="p">[</span><span class="s">'content'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'ç©º'</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">news</span><span class="p">[</span><span class="s">'content'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'ç©º'</span>
        <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">"å´å_17341163_æ–°é—»æ•°æ®/"</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">+</span><span class="s">".txt"</span><span class="p">,</span> <span class="s">'w'</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s">'utf-8'</span><span class="p">)</span>
        <span class="n">f</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="n">news</span><span class="p">[</span><span class="s">'content'</span><span class="p">])</span>
        <span class="n">f</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s">"Error: "</span><span class="o">+</span><span class="n">newsList</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
</code></pre></div></div>

<h3 id="jiebacutpy"><code class="highlighter-rouge">jiebaCut.py</code></h3>

<blockquote>
  <p>å¯¹æ–°é—»æ•°æ®è¿›è¡Œé¢„å¤„ç†ï¼ˆåˆ†å¥ã€åˆ†è¯ã€å»å™ªï¼‰ï¼Œå¯ä»¥ä½¿ç”¨å·²æœ‰çš„ä¸€äº›ä¸­æ–‡åˆ†è¯å·¥å…·</p>
</blockquote>

<p>æ ¹æ®<a href="https://wu-kan.cn/_posts/2019-09-23-%E8%87%AA%E7%84%B6%E8%AF%AD%E8%A8%80%E5%A4%84%E7%90%86-%E4%BD%9C%E4%B8%9A%E4%B8%80/">å‰ä¸€æ¬¡ä½œä¸š</a>çš„ç»éªŒï¼Œè¿™é‡Œä»ç„¶ä½¿ç”¨<code class="highlighter-rouge">jieba</code>è¿›è¡Œåˆ†è¯ã€‚</p>

<p>æˆ‘åˆ†å¥çš„é€»è¾‘æ¯”è¾ƒç®€å•ï¼Œç›´æ¥æ ¹æ®å¸¸è§çš„ç»ˆæ­¢æ ‡ç‚¹ç¬¦å·ï¼ˆ<code class="highlighter-rouge">(ã€‚|ï¼|\!|\.|ï¼Ÿ|\?)</code>ï¼‰è¿›è¡Œåˆ†å¥ï¼›è€Œæ•°æ®æ¸…æ´—è¿‡ç¨‹æ›´åŠ ç²—æš´ï¼Œè¿™é‡Œç›´æ¥æ ¹æ®å­—ç¬¦çš„ UTF ç¼–ç ç­›æ‰å…¶ä¸­éä¸­æ–‡æ±‰å­—çš„éƒ¨åˆ†ã€‚</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># coding=UTF-8
</span><span class="kn">import</span> <span class="nn">io</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">jieba</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">'__main__'</span><span class="p">:</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">exists</span><span class="p">(</span><span class="s">"å´å_17341163_é¢„å¤„ç†ç»“æœ/"</span><span class="p">):</span>
        <span class="n">os</span><span class="p">.</span><span class="n">mkdir</span><span class="p">(</span><span class="s">"å´å_17341163_é¢„å¤„ç†ç»“æœ/"</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">os</span><span class="p">.</span><span class="n">listdir</span><span class="p">(</span><span class="s">"å´å_17341163_æ–°é—»æ•°æ®/"</span><span class="p">):</span>
        <span class="n">f</span> <span class="o">=</span> <span class="n">io</span><span class="p">.</span><span class="nb">open</span><span class="p">(</span><span class="s">"å´å_17341163_æ–°é—»æ•°æ®/"</span><span class="o">+</span><span class="n">filename</span><span class="p">,</span> <span class="s">'r'</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s">'utf-8'</span><span class="p">)</span>
        <span class="n">sentences</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">split</span><span class="p">(</span><span class="s">"(ã€‚|ï¼|</span><span class="si">\</span><span class="err">!|</span><span class="se">\</span><span class="s">.|ï¼Ÿ|</span><span class="si">\</span><span class="err">?)</span><span class="se">"</span><span class="s">, f.read())
        f.close()
        f = io.open("</span><span class="err">å´å</span><span class="n">_17341163_</span><span class="err">é¢„å¤„ç†ç»“æœ</span><span class="o">/</span><span class="s">"+filename, 'w', encoding='utf-8')
        for s in sentences:
            for w in jieba.cut(s):
                is_all_chinese = True
                for _char in w:
                    if not '</span><span class="si">\</span><span class="se">u4e00</span><span class="s">' &lt;= _char &lt;= '</span><span class="si">\</span><span class="se">u9fa5</span><span class="s">':
                        is_all_chinese = False
                        break
                if is_all_chinese:
                    f.write(w+"</span> <span class="s">")
            f.write("</span>\<span class="n">n</span><span class="s">")
        f.close()
</span></code></pre></div></div>

<h3 id="wordslistpyå®Œæˆå»ºç«‹è¯è¡¨çš„å·¥ä½œ"><code class="highlighter-rouge">wordsList.py</code>å®Œæˆå»ºç«‹è¯è¡¨çš„å·¥ä½œ</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># coding=UTF-8
</span><span class="kn">import</span> <span class="nn">io</span>
<span class="kn">import</span> <span class="nn">os</span>


<span class="k">def</span> <span class="nf">getWordsList</span><span class="p">():</span>
    <span class="n">sentence_set</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">word_set</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">os</span><span class="p">.</span><span class="n">listdir</span><span class="p">(</span><span class="s">"å´å_17341163_é¢„å¤„ç†ç»“æœ/"</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">filename</span> <span class="o">!=</span> <span class="s">"wordsList.txt"</span><span class="p">:</span>
            <span class="k">with</span> <span class="n">io</span><span class="p">.</span><span class="nb">open</span><span class="p">(</span><span class="s">"å´å_17341163_é¢„å¤„ç†ç»“æœ/"</span><span class="o">+</span><span class="n">filename</span><span class="p">,</span> <span class="s">'r'</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s">'utf-8'</span><span class="p">)</span><span class="k">as</span> <span class="n">f</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">sentence</span> <span class="ow">in</span> <span class="n">f</span><span class="p">.</span><span class="n">readlines</span><span class="p">():</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">sentence</span><span class="p">.</span><span class="n">isspace</span><span class="p">():</span>
                        <span class="n">sentence_set</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">sentence</span><span class="p">)</span>
                        <span class="n">word_set</span><span class="p">.</span><span class="n">update</span><span class="p">(</span><span class="n">sentence</span><span class="p">.</span><span class="n">split</span><span class="p">())</span>

    <span class="c1"># æ„å»ºè¯å…¸ï¼Œæ³¨æ„ï¼šword_to_ixç”¨äºå¯¹å­—è¯è¿›è¡Œç¼–å·,ix_to_wordç”¨äºå°†æ¨¡å‹çš„è¾“å‡ºè½¬åŒ–ä¸ºå­—è¯
</span>    <span class="c1"># 'EOS': end of sentence
</span>    <span class="c1"># 'SOS': start of sentencex
</span>    <span class="c1"># 'UNK': unknown token
</span>    <span class="n">word_to_ix</span> <span class="o">=</span> <span class="p">{</span><span class="s">'SOS'</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s">'EOS'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s">'UNK'</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
    <span class="n">ix_to_word</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s">'SOS'</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="s">'EOS'</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s">'UNK'</span><span class="p">}</span>
    <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">word_set</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">word</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">word_to_ix</span><span class="p">:</span>
            <span class="n">word_to_ix</span><span class="p">[</span><span class="n">word</span><span class="p">]</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">word_to_ix</span><span class="p">)</span>
            <span class="n">ix_to_word</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">ix_to_word</span><span class="p">)]</span> <span class="o">=</span> <span class="n">word</span>
    <span class="k">return</span> <span class="n">sentence_set</span><span class="p">,</span> <span class="n">word_to_ix</span><span class="p">,</span> <span class="n">ix_to_word</span>


<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">'__main__'</span><span class="p">:</span>
    <span class="n">_</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">ix_to_word</span> <span class="o">=</span> <span class="n">getWordsList</span><span class="p">()</span>
    <span class="k">with</span> <span class="n">io</span><span class="p">.</span><span class="nb">open</span><span class="p">(</span><span class="s">'å´å_17341163_é¢„å¤„ç†ç»“æœ/wordsList.txt'</span><span class="p">,</span> <span class="s">'w'</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s">'UTF-8'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>  <span class="c1"># ä¿å­˜è¯å…¸
</span>        <span class="k">for</span> <span class="n">vocab</span> <span class="ow">in</span> <span class="n">ix_to_word</span><span class="p">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">f</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">vocab</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">+</span><span class="s">' '</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">vocab</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">+</span><span class="s">'</span><span class="si">\</span><span class="se">n</span><span class="s">'</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="ä½¿ç”¨é¢„å¤„ç†åçš„æ–°é—»æ•°æ®è®­ç»ƒä¸¤ä¸ªè¯­è¨€æ¨¡å‹å¹¶åœ¨æµ‹è¯•é›†æ£€éªŒè®­ç»ƒå¥½çš„æ¨¡å‹çš„æ€§èƒ½">ä½¿ç”¨é¢„å¤„ç†åçš„æ–°é—»æ•°æ®è®­ç»ƒä¸¤ä¸ªè¯­è¨€æ¨¡å‹ï¼Œå¹¶åœ¨æµ‹è¯•é›†æ£€éªŒè®­ç»ƒå¥½çš„æ¨¡å‹çš„æ€§èƒ½</h3>

<blockquote>
  <p>å…¶ä¸€ä¸ºç®€å•çš„ n-gram è¯­è¨€æ¨¡å‹ï¼ˆn å– 2 æˆ–è€… 3ï¼‰ï¼›å…¶äºŒä¸ºåŸºäº RNN/LSTM/GRU çš„è¯­è¨€æ¨¡å‹ã€‚è¯å…¸å¤§å°ã€ç½‘ç»œå’Œè®­ç»ƒçš„è¶…å‚æ•°ç­‰å¯ä»¥è‡ªå·±æŒ‡å®šã€‚</p>

  <p>æˆ‘ä»¬æä¾›çš„æµ‹è¯•æ•°æ®æ˜¯åœ¨åŒä¸€æ¥æºçš„æ–°é—»ä¸­éšæœºæŠ½å–çš„ 100 ä¸ªå¥å­ï¼Œå…¶ä¸­æ¯ä¸ªå¥å­æœ‰ä¸€ä¸ªè¯è¢«æŒ–ç©ºï¼Œè¦æ±‚é¢„æµ‹å‡ºè¿™äº›è¯ã€‚é¢„æµ‹çš„ç»“æœå¥½åä»…ä½œä¸ºæœ€ç»ˆçš„åˆ†æ•°çš„å‚è€ƒï¼Œé‡ç‚¹åœ¨å®éªŒè¿‡ç¨‹ã€‚</p>

  <p>åœ¨ n-gram æ¨¡å‹ä¸­ï¼Œå»æ‰åœæ­¢è¯èƒ½èŠ‚çœèµ„æºã€æé«˜æ•ˆç‡ã€‚å¯å‚è€ƒ<a href="https://github.com/goto456/stopwords">https://github.com/goto456/stopwords</a></p>

  <p>æ˜¾å¡èµ„æºä¸è¶³æ—¶ï¼Œå¯è€ƒè™‘é‡‡ç”¨æ¢¯åº¦ç´¯ç§¯çš„æ–¹æ³•è¿›è¡Œè®­ç»ƒã€‚</p>

  <p>æ²¡æ¥è§¦è¿‡æ·±åº¦å­¦ä¹ çš„åŒå­¦å¯ä»¥å…ˆåš Pytorch å®˜ç½‘çš„ tutorialsï¼Œæœ‰ä¸ªåˆæ­¥äº†è§£ã€‚</p>
</blockquote>

<p>è¿™é‡Œå€Ÿç”¨äº†ï¼ˆæ²¡äººç”¨ï¼‰çš„ K80 èŠ‚ç‚¹ï¼ˆV100 é›†ç¾¤ä¸Šçš„è°ƒåº¦é˜Ÿåˆ—è¦ç­‰åˆ°ç¬¬äºŒå¤©â€¦</p>

<h4 id="n-grampy"><code class="highlighter-rouge">N-Gram.py</code></h4>

<p>å‚è€ƒäº†<a href="https://blog.csdn.net/Answer3664/article/details/90666454">PyTorch æ­å»º N-gram æ¨¡å‹å®ç°å•è¯é¢„æµ‹</a>ã€‚è¿™ä¸ªæ¨¡å‹æ˜¯åœ¨æœ¬åœ°ä½¿ç”¨ CPU è·‘çš„ï¼Œå› æ­¤ä½¿ç”¨çš„æ ·æœ¬é›†åˆéå¸¸å°ã€‚</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># coding=UTF-8
</span><span class="kn">import</span> <span class="nn">torch</span>
<span class="kn">import</span> <span class="nn">torch.nn</span> <span class="k">as</span> <span class="n">nn</span>
<span class="kn">from</span> <span class="nn">torch.autograd</span> <span class="kn">import</span> <span class="n">Variable</span>
<span class="kn">import</span> <span class="nn">torch.nn.functional</span> <span class="k">as</span> <span class="n">F</span>
<span class="kn">import</span> <span class="nn">torch.optim</span> <span class="k">as</span> <span class="n">optim</span>
<span class="kn">from</span> <span class="nn">wordsList</span> <span class="kn">import</span> <span class="n">getWordsList</span>
<span class="kn">import</span> <span class="nn">io</span>

<span class="n">CONTEXT_SIZE</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">EMBEDDING_DIM</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">EPOCH</span> <span class="o">=</span> <span class="mi">7</span>
<span class="n">Sentence_Num</span> <span class="o">=</span> <span class="mi">31</span>


<span class="k">class</span> <span class="nc">NgramModel</span><span class="p">(</span><span class="n">nn</span><span class="p">.</span><span class="n">Module</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vocb_size</span><span class="p">,</span> <span class="n">context_size</span><span class="p">,</span> <span class="n">n_dim</span><span class="p">):</span>
        <span class="c1"># super(NgramModel, self)._init_()
</span>        <span class="nb">super</span><span class="p">().</span><span class="n">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">n_word</span> <span class="o">=</span> <span class="n">vocb_size</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">embedding</span> <span class="o">=</span> <span class="n">nn</span><span class="p">.</span><span class="n">Embedding</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">n_word</span><span class="p">,</span> <span class="n">n_dim</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">linear1</span> <span class="o">=</span> <span class="n">nn</span><span class="p">.</span><span class="n">Linear</span><span class="p">(</span><span class="n">context_size</span><span class="o">*</span><span class="n">n_dim</span><span class="p">,</span> <span class="mi">128</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">linear2</span> <span class="o">=</span> <span class="n">nn</span><span class="p">.</span><span class="n">Linear</span><span class="p">(</span><span class="mi">128</span><span class="p">,</span> <span class="bp">self</span><span class="p">.</span><span class="n">n_word</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">forward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="c1"># the first step: transmit words and achieve word embedding. eg. transmit two words, and then achieve (2, 100)
</span>        <span class="n">emb</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">embedding</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
        <span class="c1"># the second step: word wmbedding unfold to (1,200)
</span>        <span class="n">emb</span> <span class="o">=</span> <span class="n">emb</span><span class="p">.</span><span class="n">view</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="c1"># the third step: transmit to linear model, and then use relu, at last, transmit to linear model again
</span>        <span class="n">out</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">linear1</span><span class="p">(</span><span class="n">emb</span><span class="p">)</span>
        <span class="n">out</span> <span class="o">=</span> <span class="n">F</span><span class="p">.</span><span class="n">relu</span><span class="p">(</span><span class="n">out</span><span class="p">)</span>
        <span class="n">out</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">linear2</span><span class="p">(</span><span class="n">out</span><span class="p">)</span>
        <span class="c1"># the output dim of last step is the number of words, wo can view as a classification problem
</span>        <span class="c1"># if we want to predict the max probability of the words, finally we need use log softmax
</span>        <span class="n">log_prob</span> <span class="o">=</span> <span class="n">F</span><span class="p">.</span><span class="n">log_softmax</span><span class="p">(</span><span class="n">out</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">log_prob</span>


<span class="k">def</span> <span class="nf">getNgram</span><span class="p">(</span><span class="n">trigram</span><span class="p">,</span> <span class="n">word2id</span><span class="p">,</span> <span class="n">id2word</span><span class="p">):</span>
    <span class="n">ngrammodel</span> <span class="o">=</span> <span class="n">NgramModel</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">word2id</span><span class="p">),</span> <span class="n">CONTEXT_SIZE</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
    <span class="n">criterion</span> <span class="o">=</span> <span class="n">nn</span><span class="p">.</span><span class="n">NLLLoss</span><span class="p">()</span>
    <span class="n">optimizer</span> <span class="o">=</span> <span class="n">optim</span><span class="p">.</span><span class="n">SGD</span><span class="p">(</span><span class="n">ngrammodel</span><span class="p">.</span><span class="n">parameters</span><span class="p">(),</span> <span class="n">lr</span><span class="o">=</span><span class="mf">1e-3</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">epoch</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">EPOCH</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="s">'epoch: {}'</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">epoch</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>
        <span class="k">print</span><span class="p">(</span><span class="s">'*'</span><span class="o">*</span><span class="mi">10</span><span class="p">)</span>
        <span class="n">running_loss</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">trigram</span><span class="p">:</span>
            <span class="c1"># we use 'word' to represent the two words forward the predict word, we use 'label' to represent the predict word
</span>            <span class="n">word</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="n">data</span>                          <span class="c1"># attention
</span>            <span class="n">word</span> <span class="o">=</span> <span class="n">Variable</span><span class="p">(</span><span class="n">torch</span><span class="p">.</span><span class="n">LongTensor</span><span class="p">([</span><span class="n">word2id</span><span class="p">[</span><span class="n">e</span><span class="p">]</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">word</span><span class="p">]))</span>
            <span class="n">label</span> <span class="o">=</span> <span class="n">Variable</span><span class="p">(</span><span class="n">torch</span><span class="p">.</span><span class="n">LongTensor</span><span class="p">([</span><span class="n">word2id</span><span class="p">[</span><span class="n">label</span><span class="p">]]))</span>
            <span class="c1"># forward
</span>            <span class="n">out</span> <span class="o">=</span> <span class="n">ngrammodel</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
            <span class="n">loss</span> <span class="o">=</span> <span class="n">criterion</span><span class="p">(</span><span class="n">out</span><span class="p">,</span> <span class="n">label</span><span class="p">)</span>
            <span class="n">running_loss</span> <span class="o">+=</span> <span class="n">loss</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="n">item</span><span class="p">()</span>
            <span class="c1"># backward
</span>            <span class="n">optimizer</span><span class="p">.</span><span class="n">zero_grad</span><span class="p">()</span>
            <span class="n">loss</span><span class="p">.</span><span class="n">backward</span><span class="p">()</span>
            <span class="n">optimizer</span><span class="p">.</span><span class="n">step</span><span class="p">()</span>
        <span class="k">print</span><span class="p">(</span><span class="s">'loss: {:.6f}'</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">running_loss</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">word2id</span><span class="p">)))</span>
    <span class="k">return</span> <span class="n">ngrammodel</span>


<span class="c1"># predict
</span><span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">'__main__'</span><span class="p">:</span>
    <span class="n">sentence_set</span><span class="p">,</span> <span class="n">word2id</span><span class="p">,</span> <span class="n">id2word</span> <span class="o">=</span> <span class="n">getWordsList</span><span class="p">()</span>
    <span class="n">trigram</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">Sentence_Num</span><span class="p">):</span>
        <span class="n">test_sentence</span> <span class="o">=</span> <span class="n">sentence_set</span><span class="p">[</span><span class="n">j</span><span class="p">].</span><span class="n">split</span><span class="p">()</span>
        <span class="n">test_sentence</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s">'SOS'</span><span class="p">)</span>
        <span class="n">test_sentence</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="s">'EOS'</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">test_sentence</span><span class="p">)</span><span class="o">-</span><span class="mi">2</span><span class="p">):</span>
            <span class="n">trigram</span><span class="p">.</span><span class="n">append</span><span class="p">(</span>
                <span class="p">((</span><span class="n">test_sentence</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">test_sentence</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]),</span> <span class="n">test_sentence</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">2</span><span class="p">]))</span>

    <span class="n">ngrammodel</span> <span class="o">=</span> <span class="n">torch</span><span class="p">.</span><span class="n">load</span><span class="p">(</span><span class="s">'å´å_17341163_é¢„æµ‹ç»“æœ/ngrammodel.pkl'</span><span class="p">)</span>
    <span class="c1">#ngrammodel = getNgram(trigram, word2id, id2word)
</span>    <span class="n">torch</span><span class="p">.</span><span class="n">save</span><span class="p">(</span><span class="n">ngrammodel</span><span class="p">,</span> <span class="s">'å´å_17341163_é¢„æµ‹ç»“æœ/ngrammodel.pkl'</span><span class="p">)</span>

    <span class="n">fout</span> <span class="o">=</span> <span class="n">io</span><span class="p">.</span><span class="nb">open</span><span class="p">(</span><span class="s">"å´å_17341163_é¢„æµ‹ç»“æœ/prediction.ngram.txt"</span><span class="p">,</span>
                   <span class="s">"w"</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s">"utf-8"</span><span class="p">)</span>
    <span class="k">with</span> <span class="n">io</span><span class="p">.</span><span class="nb">open</span><span class="p">(</span><span class="s">"å´å_17341163_é¢„æµ‹ç»“æœ/questions.1.txt"</span><span class="p">,</span> <span class="s">"r"</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s">"utf-8"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">sentence</span> <span class="ow">in</span> <span class="n">f</span><span class="p">.</span><span class="n">readlines</span><span class="p">():</span>
            <span class="n">wordss</span> <span class="o">=</span> <span class="n">sentence</span><span class="p">.</span><span class="n">split</span><span class="p">()</span>
            <span class="n">wordss</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s">'SOS'</span><span class="p">)</span>
            <span class="n">wordss</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="s">'EOS'</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">wordss</span><span class="p">)):</span>
                <span class="k">if</span> <span class="n">j</span><span class="o">+</span><span class="mi">6</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">wordss</span><span class="p">):</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">wordss</span><span class="p">[</span><span class="n">j</span><span class="o">+</span><span class="mi">2</span><span class="p">],</span> <span class="n">wordss</span><span class="p">[</span><span class="n">j</span><span class="o">+</span><span class="mi">3</span><span class="p">]</span>
                    <span class="k">break</span>
                <span class="k">if</span> <span class="n">wordss</span><span class="p">[</span><span class="n">j</span><span class="o">+</span><span class="mi">5</span><span class="p">]</span> <span class="o">==</span> <span class="s">"[MASK]"</span><span class="p">:</span>
                    <span class="n">word</span> <span class="o">=</span> <span class="n">wordss</span><span class="p">[</span><span class="n">j</span><span class="o">+</span><span class="mi">3</span><span class="p">],</span> <span class="n">wordss</span><span class="p">[</span><span class="n">j</span><span class="o">+</span><span class="mi">4</span><span class="p">]</span>
                    <span class="k">break</span>
            <span class="n">word</span> <span class="o">=</span> <span class="n">Variable</span><span class="p">(</span><span class="n">torch</span><span class="p">.</span><span class="n">LongTensor</span><span class="p">([</span><span class="n">word2id</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">word</span><span class="p">]))</span>
            <span class="n">out</span> <span class="o">=</span> <span class="n">ngrammodel</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
            <span class="n">_</span><span class="p">,</span> <span class="n">predict_label</span> <span class="o">=</span> <span class="n">torch</span><span class="p">.</span><span class="nb">max</span><span class="p">(</span><span class="n">out</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">fout</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="n">id2word</span><span class="p">[</span><span class="n">out</span><span class="p">.</span><span class="nb">max</span><span class="p">(</span><span class="mi">1</span><span class="p">)[</span><span class="mi">1</span><span class="p">].</span><span class="n">item</span><span class="p">()]</span><span class="o">+</span><span class="s">"</span><span class="si">\</span><span class="se">n</span><span class="s">"</span><span class="p">)</span>
    <span class="n">fout</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div></div>

<h5 id="screenlog"><code class="highlighter-rouge">screen.log</code></h5>

<p><code class="highlighter-rouge">python N-Gram.py &gt; screen.log</code>çš„è¿è¡Œè®°å½•ã€‚å¯ä»¥çœ‹åˆ°è¿™é‡Œè®­ç»ƒè¿­ä»£å‡ ä¹æ²¡æœ‰ä»€ä¹ˆæ•ˆæœï¼Œå¯ä»¥å’Œä¸‹é¢æ­å»ºçš„ GRU è¿›è¡Œå¯¹æ¯”ã€‚</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>epoch: 1
<span class="k">**********</span>
/home/wuk/N-Gram.py:36: UserWarning: Implicit dimension choice <span class="k">for </span>log_softmax has been deprecated. Change the call to include <span class="nv">dim</span><span class="o">=</span>X as an argument.
  log_prob <span class="o">=</span> F.log_softmax<span class="o">(</span>out<span class="o">)</span>
loss: 0.041276
epoch: 2
<span class="k">**********</span>
loss: 0.040883
epoch: 3
<span class="k">**********</span>
loss: 0.040478
epoch: 4
<span class="k">**********</span>
loss: 0.040048
epoch: 5
<span class="k">**********</span>
loss: 0.039582
epoch: 6
<span class="k">**********</span>
loss: 0.039063
epoch: 7
<span class="k">**********</span>
loss: 0.039042

real	42m35.763s
user	27m15.786s
sys	9m6.868s
</code></pre></div></div>

<h5 id="predictionngramtxt"><code class="highlighter-rouge">prediction.ngram.txt</code></h5>

<p>åªé¢„æµ‹æˆåŠŸä¸€ä¸ªç¬¬åè¡Œçš„<code class="highlighter-rouge">æ‰‹æœº</code>ã€‚</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>å†»èƒ€
å·ç¨
å‘Šåˆ«
æ— æ‰€ä¸ç”¨å…¶æ
å°Šé‡çŸ¥è¯†
ä½æ±¡æŸ“
è¿ªä¿¡é€š
é™†éœ†
å‡ æŠ¹
æ‰‹æœº
åˆ†ä¸­å¿ƒ
æŠ¥åè¡¨
å°èŠ±æ‹›
ä¼¯ä¹
ä¸­å¤®ç¤¾
å®œå®¶
é”¥åˆ‡
æ¶Œå…¥
é—»æ‰€æœªé—»
æˆéƒ½å¸‚å§”
éš†é‡å¼€å¹•
å‡ºä½
å®¡è®¡é•¿
è¯•ç‚¹å·¥ä½œ
æˆ˜ä¸Š
è¯´ç†
å·´ä¼åˆ©äºšå·
å•†æ•‘
æ€¨è¨€
æ°æ‰€ç§°
å…«ç§
äº”å…­ä¸‡
ä¸Šè¿‡
è¶³å›
ç¨æ—©
æ
ç¯æœˆ
ç¡®ç¡®å®å®
å¹²æ´—
ç­‰å€¼
é¡¹åŸ
æ”¿æ²»ç«‹åœº
æ°¸å­˜
äº¤è¡¨
å¼ å®ä¼Ÿ
æç‰ç¢
å¤–äº‹æ´»åŠ¨
ç ä»·
äº”é‡‘æ¨¡å…·
è¯„
é“¶
æ­£ç•¸
è¿‡é—®
æ˜Ÿç­‰
æ–‡å
çˆ±å¥½è€…
ç˜«ç—ªç—…äºº
æ©æ–½
ç”Ÿäº§å·¥å…·
æ¶Œå…¥
ç§¯æå‘ä¸Š
å½±è¸ª
èšæ‰
å®æ“æ€§
çƒ­åŒº
æ¨¡æ‹ŸåŒ–
è¶Šé€‰è¶Š
åˆ†é…ç¨‹åº
é©¬äº‘èƒ½
ä¸¥
å±•äº
èŒä¸šç»ç†
è´¹å¾·æ—
æ ¼é›·æˆˆ
ä¸¤ä½æ•°
å…¬è®¤
åä»½
è­¦æ–¹æ­£
ä¸“ä¸šäººå£«
ä»Šå¤©ä¸Šåˆ
å·²åˆ°
æ‘¸æ‘¸åº•
åˆ†ä¸­å¿ƒ
å­—æ•°
å»ºé€ æˆ
ç¼“å­˜æ•°æ®
å°šæŸ¿
ä¸æ„§
æ˜ åƒç®¡
å®˜æ–¹ç‰ˆ
ç¾å›½åœ¨çº¿
å®œè´·
æ£è‚˜
å¼ å®ä¼Ÿ
å·å·¥å‡æ–™
å¤§ç­
ç§¯æå‘ä¸Š
å£éšœ
è¶Šé€‰è¶Š
ç»“æ ¸ç—…
</code></pre></div></div>

<h4 id="grupy"><code class="highlighter-rouge">GRU.py</code></h4>

<p>å‚è€ƒäº†<a href="https://blog.csdn.net/Code_Mart/article/details/86978470">[å®ç°] åˆ©ç”¨ Seq2Seq é¢„æµ‹å¥å­åç»­å­—è¯ ï¼ˆPytorchï¼‰</a>ã€‚</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># coding=UTF-8
</span><span class="kn">import</span> <span class="nn">torch</span>
<span class="kn">import</span> <span class="nn">torch.nn</span> <span class="k">as</span> <span class="n">nn</span>
<span class="kn">import</span> <span class="nn">torch.nn.functional</span> <span class="k">as</span> <span class="n">F</span>
<span class="kn">import</span> <span class="nn">torch.optim</span> <span class="k">as</span> <span class="n">optim</span>
<span class="kn">from</span> <span class="nn">torch.autograd</span> <span class="kn">import</span> <span class="n">Variable</span>
<span class="kn">from</span> <span class="nn">torch.utils.data</span> <span class="kn">import</span> <span class="n">DataLoader</span><span class="p">,</span> <span class="n">Dataset</span>
<span class="kn">import</span> <span class="nn">numpy</span>
<span class="kn">import</span> <span class="nn">io</span>
<span class="kn">from</span> <span class="nn">wordsList</span> <span class="kn">import</span> <span class="n">getWordsList</span>

<span class="c1"># Set Hyper Parameters
</span><span class="n">sentence_set</span><span class="p">,</span> <span class="n">word_to_ix</span><span class="p">,</span> <span class="n">ix_to_word</span> <span class="o">=</span> <span class="n">getWordsList</span><span class="p">()</span>
<span class="n">Sentence_Num</span> <span class="o">=</span> <span class="mi">300</span>
<span class="n">Embedding_Dim</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">word_to_ix</span><span class="p">)</span>
<span class="n">LR</span> <span class="o">=</span> <span class="mf">0.005</span>
<span class="n">EPOCH</span> <span class="o">=</span> <span class="mi">31</span>
<span class="n">BATCH_SIZE</span> <span class="o">=</span> <span class="mi">1</span>


<span class="k">class</span> <span class="nc">MyDataset</span><span class="p">(</span><span class="n">Dataset</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">words</span><span class="p">,</span> <span class="n">labels</span><span class="p">,</span> <span class="n">transform</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">target_transform</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">words</span> <span class="o">=</span> <span class="n">words</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">labels</span> <span class="o">=</span> <span class="n">labels</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">transform</span> <span class="o">=</span> <span class="n">transform</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">target_transform</span> <span class="o">=</span> <span class="n">target_transform</span>

    <span class="k">def</span> <span class="nf">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
        <span class="n">words</span><span class="p">,</span> <span class="n">labels</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">words</span><span class="p">[</span><span class="n">index</span><span class="p">],</span> <span class="bp">self</span><span class="p">.</span><span class="n">labels</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="p">.</span><span class="n">transform</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">words</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="p">.</span><span class="n">transform</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">words</span><span class="p">]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="p">.</span><span class="n">target_transform</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">labels</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">target_transform</span><span class="p">(</span><span class="n">labels</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">words</span><span class="p">,</span> <span class="n">labels</span>

    <span class="k">def</span> <span class="nf">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">labels</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">bulid_one_hot</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">word_dict</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">word_dict</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">torch</span><span class="p">.</span><span class="n">LongTensor</span><span class="p">([</span><span class="n">word_dict</span><span class="p">[</span><span class="n">word</span><span class="p">]])</span>
    <span class="k">return</span> <span class="n">torch</span><span class="p">.</span><span class="n">LongTensor</span><span class="p">([</span><span class="n">word_dict</span><span class="p">[</span><span class="s">'UNK'</span><span class="p">]])</span>


<span class="k">def</span> <span class="nf">getTrainDataSetLoader</span><span class="p">():</span>
    <span class="c1"># transforms.ToTensor(), transforms.ToTensor()
</span>    <span class="n">train_words</span><span class="p">,</span> <span class="n">train_labels</span><span class="p">,</span> <span class="n">trans</span><span class="p">,</span> <span class="n">target_trans</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[],</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">Sentence_Num</span><span class="p">):</span>
        <span class="n">words</span> <span class="o">=</span> <span class="n">sentence_set</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">split</span><span class="p">()</span>
        <span class="n">words</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s">'SOS'</span><span class="p">)</span>
        <span class="n">words</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="s">'EOS'</span><span class="p">)</span>
        <span class="n">words</span> <span class="o">=</span> <span class="p">[</span><span class="n">bulid_one_hot</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">word_to_ix</span><span class="p">)</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">words</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">words</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">j</span><span class="o">+</span><span class="mi">6</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">words</span><span class="p">):</span>
                <span class="k">break</span>
            <span class="n">train_words</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">words</span><span class="p">[</span><span class="n">j</span><span class="p">:</span><span class="n">j</span><span class="o">+</span><span class="mi">5</span><span class="p">])</span>
            <span class="n">train_labels</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">words</span><span class="p">[</span><span class="n">j</span><span class="o">+</span><span class="mi">5</span><span class="p">])</span>

    <span class="k">return</span> <span class="n">DataLoader</span><span class="p">(</span><span class="n">dataset</span><span class="o">=</span><span class="n">MyDataset</span><span class="p">(</span><span class="n">train_words</span><span class="p">,</span> <span class="n">train_labels</span><span class="p">,</span> <span class="n">trans</span><span class="p">,</span> <span class="n">target_trans</span><span class="p">),</span> <span class="n">batch_size</span><span class="o">=</span><span class="n">BATCH_SIZE</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">getTestDataSetLoader</span><span class="p">():</span>
    <span class="n">test_words</span><span class="p">,</span> <span class="n">test_labels</span><span class="p">,</span> <span class="n">trans</span><span class="p">,</span> <span class="n">target_trans</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[],</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span>
    <span class="c1"># transforms.ToTensor(), transforms.ToTensor()
</span>    <span class="n">fquestion</span> <span class="o">=</span> <span class="n">io</span><span class="p">.</span><span class="nb">open</span><span class="p">(</span><span class="s">"å´å_17341163_é¢„æµ‹ç»“æœ/questions.1.txt"</span><span class="p">,</span>
                        <span class="s">"r"</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s">"utf-8"</span><span class="p">)</span>
    <span class="n">fanswer</span> <span class="o">=</span> <span class="n">io</span><span class="p">.</span><span class="nb">open</span><span class="p">(</span><span class="s">"å´å_17341163_é¢„æµ‹ç»“æœ/answer.txt"</span><span class="p">,</span> <span class="s">"r"</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s">"utf-8"</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">sentence</span> <span class="ow">in</span> <span class="n">fquestion</span><span class="p">.</span><span class="n">readlines</span><span class="p">():</span>
        <span class="n">ans</span> <span class="o">=</span> <span class="n">fanswer</span><span class="p">.</span><span class="n">readline</span><span class="p">().</span><span class="n">split</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">test_labels</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">bulid_one_hot</span><span class="p">(</span><span class="n">ans</span><span class="p">,</span> <span class="n">word_to_ix</span><span class="p">))</span>
        <span class="n">wordss</span> <span class="o">=</span> <span class="n">sentence</span><span class="p">.</span><span class="n">split</span><span class="p">()</span>
        <span class="n">wordss</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s">'SOS'</span><span class="p">)</span>
        <span class="n">wordss</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="s">'EOS'</span><span class="p">)</span>
        <span class="n">words</span> <span class="o">=</span> <span class="p">[</span><span class="n">bulid_one_hot</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">word_to_ix</span><span class="p">)</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">wordss</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">words</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">j</span><span class="o">+</span><span class="mi">6</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">words</span><span class="p">):</span>
                <span class="n">test_words</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">words</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span><span class="n">j</span><span class="o">+</span><span class="mi">4</span><span class="p">])</span>
                <span class="k">break</span>
            <span class="k">if</span> <span class="n">wordss</span><span class="p">[</span><span class="n">j</span><span class="o">+</span><span class="mi">5</span><span class="p">]</span> <span class="o">==</span> <span class="s">"[MASK]"</span><span class="p">:</span>
                <span class="n">test_words</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">words</span><span class="p">[</span><span class="n">j</span><span class="p">:</span><span class="n">j</span><span class="o">+</span><span class="mi">5</span><span class="p">])</span>
                <span class="k">break</span>
    <span class="n">fquestion</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">fanswer</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">DataLoader</span><span class="p">(</span><span class="n">dataset</span><span class="o">=</span><span class="n">MyDataset</span><span class="p">(</span><span class="n">test_words</span><span class="p">,</span> <span class="n">test_labels</span><span class="p">,</span> <span class="n">trans</span><span class="p">,</span> <span class="n">target_trans</span><span class="p">),</span> <span class="n">batch_size</span><span class="o">=</span><span class="n">BATCH_SIZE</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Encoder</span><span class="p">(</span><span class="n">nn</span><span class="p">.</span><span class="n">Module</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_size</span><span class="p">,</span> <span class="n">hidden_size</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Encoder</span><span class="p">,</span> <span class="bp">self</span><span class="p">).</span><span class="n">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">hidden_size</span> <span class="o">=</span> <span class="n">hidden_size</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">embedding</span> <span class="o">=</span> <span class="n">nn</span><span class="p">.</span><span class="n">Embedding</span><span class="p">(</span>
            <span class="n">input_size</span><span class="p">,</span> <span class="n">hidden_size</span><span class="p">)</span>     <span class="c1"># å°†one-hotå‘é‡embeddingä¸ºè¯å‘é‡
</span>        <span class="c1"># GRUçš„hidden layerçš„sizeä¸è¯å‘é‡çš„sizeä¸€æ ·ï¼Œå¹¶éå¿…é¡»
</span>        <span class="bp">self</span><span class="p">.</span><span class="n">gru</span> <span class="o">=</span> <span class="n">nn</span><span class="p">.</span><span class="n">GRU</span><span class="p">(</span><span class="n">hidden_size</span><span class="p">,</span> <span class="n">hidden_size</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">forward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">input</span><span class="p">,</span> <span class="n">hidden</span><span class="p">):</span>
        <span class="c1"># RNNçš„è¾“å…¥æ ¼å¼ä¸º (seq_len, batch, input_size)
</span>        <span class="n">embedded</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">embedding</span><span class="p">(</span><span class="nb">input</span><span class="p">).</span><span class="n">view</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">output</span> <span class="o">=</span> <span class="n">embedded</span>
        <span class="n">output</span><span class="p">,</span> <span class="n">hidden</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">gru</span><span class="p">(</span><span class="n">output</span><span class="p">,</span> <span class="n">hidden</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">output</span><span class="p">,</span> <span class="n">hidden</span>

    <span class="k">def</span> <span class="nf">initHidden</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># åˆå§‹åŒ–Encoderçš„éšçŠ¶æ€
</span>        <span class="k">return</span> <span class="n">torch</span><span class="p">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="p">.</span><span class="n">hidden_size</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Decoder</span><span class="p">(</span><span class="n">nn</span><span class="p">.</span><span class="n">Module</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_size</span><span class="p">,</span> <span class="n">hidden_size</span><span class="p">,</span> <span class="n">output_size</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Decoder</span><span class="p">,</span> <span class="bp">self</span><span class="p">).</span><span class="n">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">hidden_size</span> <span class="o">=</span> <span class="n">hidden_size</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">embedding</span> <span class="o">=</span> <span class="n">nn</span><span class="p">.</span><span class="n">Embedding</span><span class="p">(</span><span class="n">input_size</span><span class="p">,</span> <span class="n">hidden_size</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">gru</span> <span class="o">=</span> <span class="n">nn</span><span class="p">.</span><span class="n">GRU</span><span class="p">(</span><span class="n">hidden_size</span><span class="p">,</span> <span class="n">hidden_size</span><span class="p">)</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">out</span> <span class="o">=</span> <span class="n">nn</span><span class="p">.</span><span class="n">Linear</span><span class="p">(</span><span class="n">hidden_size</span><span class="p">,</span> <span class="n">output_size</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">forward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">input</span><span class="p">,</span> <span class="n">hidden</span><span class="p">):</span>
        <span class="n">output</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">embedding</span><span class="p">(</span><span class="nb">input</span><span class="p">).</span><span class="n">view</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">output</span> <span class="o">=</span> <span class="n">F</span><span class="p">.</span><span class="n">relu</span><span class="p">(</span><span class="n">output</span><span class="p">)</span>
        <span class="n">output</span><span class="p">,</span> <span class="n">hidden</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">gru</span><span class="p">(</span><span class="n">output</span><span class="p">,</span> <span class="n">hidden</span><span class="p">)</span>
        <span class="n">output</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">out</span><span class="p">(</span><span class="n">output</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">output</span><span class="p">,</span> <span class="n">hidden</span>

    <span class="k">def</span> <span class="nf">initHidden</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">torch</span><span class="p">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="p">.</span><span class="n">hidden_size</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Seq2Seq</span><span class="p">(</span><span class="n">nn</span><span class="p">.</span><span class="n">Module</span><span class="p">):</span>  <span class="c1"># Bulid Seq2Seq Model
</span>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">encoder</span><span class="p">,</span> <span class="n">decoder</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Seq2Seq</span><span class="p">,</span> <span class="bp">self</span><span class="p">).</span><span class="n">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">encoder</span> <span class="o">=</span> <span class="n">encoder</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">decoder</span> <span class="o">=</span> <span class="n">decoder</span>

    <span class="k">def</span> <span class="nf">forward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inputs</span><span class="p">):</span>
        <span class="n">encoder_hidden</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">encoder</span><span class="p">.</span><span class="n">initHidden</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">torch</span><span class="p">.</span><span class="n">cuda</span><span class="p">.</span><span class="n">is_available</span><span class="p">():</span>
            <span class="n">encoder_hidden</span> <span class="o">=</span> <span class="n">encoder_hidden</span><span class="p">.</span><span class="n">cuda</span><span class="p">()</span>

        <span class="c1"># encode
</span>        <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">inputs</span><span class="p">:</span>
            <span class="n">encoder_out</span><span class="p">,</span> <span class="n">encoder_hidden</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">encoder</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">encoder_hidden</span><span class="p">)</span>

        <span class="c1"># decode
</span>        <span class="n">decoder_hidden</span> <span class="o">=</span> <span class="n">encoder_hidden</span>
        <span class="n">pred</span><span class="p">,</span> <span class="n">decoder_hidden</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">decoder</span><span class="p">(</span><span class="n">inputs</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">decoder_hidden</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">pred</span>


<span class="k">def</span> <span class="nf">getSeq2Seq</span><span class="p">():</span>
    <span class="n">encoder</span> <span class="o">=</span> <span class="n">Encoder</span><span class="p">(</span><span class="n">Embedding_Dim</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
    <span class="n">decoder</span> <span class="o">=</span> <span class="n">Decoder</span><span class="p">(</span><span class="n">Embedding_Dim</span><span class="p">,</span> <span class="mi">1000</span><span class="p">,</span> <span class="n">Embedding_Dim</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">torch</span><span class="p">.</span><span class="n">cuda</span><span class="p">.</span><span class="n">is_available</span><span class="p">():</span>
        <span class="n">encoder</span> <span class="o">=</span> <span class="n">encoder</span><span class="p">.</span><span class="n">cuda</span><span class="p">()</span>
        <span class="n">decoder</span> <span class="o">=</span> <span class="n">decoder</span><span class="p">.</span><span class="n">cuda</span><span class="p">()</span>
    <span class="n">seq2seq</span> <span class="o">=</span> <span class="n">Seq2Seq</span><span class="p">(</span><span class="n">encoder</span><span class="p">,</span> <span class="n">decoder</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">torch</span><span class="p">.</span><span class="n">cuda</span><span class="p">.</span><span class="n">is_available</span><span class="p">():</span>
        <span class="n">seq2seq</span> <span class="o">=</span> <span class="n">seq2seq</span><span class="p">.</span><span class="n">cuda</span><span class="p">()</span>

    <span class="c1"># Bulid loss function and optimizer
</span>
    <span class="n">loss_func</span> <span class="o">=</span> <span class="n">nn</span><span class="p">.</span><span class="n">CrossEntropyLoss</span><span class="p">()</span>
    <span class="c1">#encoder_optimizer = optim.SGD(encoder.parameters(), lr=LR, momentum=0.9)
</span>    <span class="c1">#decoder_optimizer = optim.SGD(decoder.parameters(), lr=LR, momentum=0.9)
</span>    <span class="n">seq2seq_optimizer</span> <span class="o">=</span> <span class="n">optim</span><span class="p">.</span><span class="n">SGD</span><span class="p">(</span><span class="n">seq2seq</span><span class="p">.</span><span class="n">parameters</span><span class="p">(),</span> <span class="n">lr</span><span class="o">=</span><span class="n">LR</span><span class="p">,</span> <span class="n">momentum</span><span class="o">=</span><span class="mf">0.9</span><span class="p">)</span>
    <span class="c1"># Train Seq2Seq Model
</span>
    <span class="n">train_loader</span> <span class="o">=</span> <span class="n">getTrainDataSetLoader</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">epoch</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">EPOCH</span><span class="p">):</span>
        <span class="n">loss_sum</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">step</span><span class="p">,</span> <span class="p">(</span><span class="n">inputs</span><span class="p">,</span> <span class="n">labels</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">train_loader</span><span class="p">):</span>
            <span class="c1"># encoder_hidden = encoder.initHidden()
</span>            <span class="n">label</span> <span class="o">=</span> <span class="n">torch</span><span class="p">.</span><span class="n">LongTensor</span><span class="p">((</span><span class="mi">1</span><span class="p">,))</span>
            <span class="n">label</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">labels</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="n">numpy</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span>

            <span class="k">if</span> <span class="n">torch</span><span class="p">.</span><span class="n">cuda</span><span class="p">.</span><span class="n">is_available</span><span class="p">():</span>
                <span class="n">inputs</span> <span class="o">=</span> <span class="p">[</span><span class="n">word</span><span class="p">.</span><span class="n">cuda</span><span class="p">()</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">inputs</span><span class="p">]</span>
                <span class="n">label</span> <span class="o">=</span> <span class="n">label</span><span class="p">.</span><span class="n">cuda</span><span class="p">()</span>
                <span class="c1"># encoder_hidden = encoder_hidden.cuda()
</span>
            <span class="c1"># forward
</span>            <span class="n">pred</span> <span class="o">=</span> <span class="n">seq2seq</span><span class="p">(</span><span class="n">inputs</span><span class="p">)</span>
            <span class="n">loss</span> <span class="o">=</span> <span class="n">loss_func</span><span class="p">(</span><span class="n">pred</span><span class="p">,</span> <span class="n">label</span><span class="p">)</span>

            <span class="c1"># backward
</span>            <span class="n">seq2seq_optimizer</span><span class="p">.</span><span class="n">zero_grad</span><span class="p">()</span>
            <span class="n">loss</span><span class="p">.</span><span class="n">backward</span><span class="p">()</span>
            <span class="n">seq2seq_optimizer</span><span class="p">.</span><span class="n">step</span><span class="p">()</span>

            <span class="s">'''
            for word in inputs:
                encoder_out, encoder_hidden = encoder(word, encoder_hidden)
            decoder_hidden = encoder_hidden
            decoder_out, decoder_hidden = decoder(inputs[-1], decoder_hidden)

            loss = loss_func(decoder_out,label)

            #backward
            encoder_optimizer.zero_grad()
            decoder_optimizer.zero_grad()
            loss.backward()
            encoder_optimizer.step()
            decoder_optimizer.step()
            '''</span>

            <span class="n">loss_sum</span> <span class="o">+=</span> <span class="n">loss</span><span class="p">.</span><span class="n">item</span><span class="p">()</span>
        <span class="k">print</span><span class="p">(</span><span class="s">'Epoch: %2d train loss: %.4f'</span> <span class="o">%</span> <span class="p">(</span><span class="n">epoch</span><span class="p">,</span> <span class="n">loss_sum</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">seq2seq</span>


<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">'__main__'</span><span class="p">:</span>
    <span class="c1">#seq2seq = torch.load('å´å_17341163_é¢„æµ‹ç»“æœ/seq2seq.pkl')
</span>    <span class="n">seq2seq</span> <span class="o">=</span> <span class="n">getSeq2Seq</span><span class="p">()</span>
    <span class="s">'''
    torch.save(encoder.state_dict(),'å´å_17341163_é¢„æµ‹ç»“æœ/encoder_params.pkl')
    torch.save(decoder.state_dict(),'å´å_17341163_é¢„æµ‹ç»“æœ/decoder_params.pkl')

    torch.save(encoder,'å´å_17341163_é¢„æµ‹ç»“æœ/encoder.pkl')
    torch.save(decoder,'å´å_17341163_é¢„æµ‹ç»“æœ/decoder.pkl')
    torch.save(seq2seq.state_dict(), 'å´å_17341163_é¢„æµ‹ç»“æœ/seq2seq_params.pkl')
    '''</span>
    <span class="n">torch</span><span class="p">.</span><span class="n">save</span><span class="p">(</span><span class="n">seq2seq</span><span class="p">,</span> <span class="s">'å´å_17341163_é¢„æµ‹ç»“æœ/seq2seq.pkl'</span><span class="p">)</span>
    <span class="n">test_loader</span> <span class="o">=</span> <span class="n">getTestDataSetLoader</span><span class="p">()</span>
    <span class="k">with</span> <span class="n">io</span><span class="p">.</span><span class="nb">open</span><span class="p">(</span><span class="s">"å´å_17341163_é¢„æµ‹ç»“æœ/prediction.txt"</span><span class="p">,</span> <span class="s">"w"</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s">"utf-8"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">step</span><span class="p">,</span> <span class="p">(</span><span class="n">inputs</span><span class="p">,</span> <span class="n">labels</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">test_loader</span><span class="p">):</span>
            <span class="c1"># encoder_hidden = encoder.initHidden()
</span>            <span class="n">label</span> <span class="o">=</span> <span class="n">torch</span><span class="p">.</span><span class="n">LongTensor</span><span class="p">((</span><span class="mi">1</span><span class="p">,))</span>
            <span class="n">label</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">labels</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="n">numpy</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span>

            <span class="k">if</span> <span class="n">torch</span><span class="p">.</span><span class="n">cuda</span><span class="p">.</span><span class="n">is_available</span><span class="p">():</span>
                <span class="n">inputs</span> <span class="o">=</span> <span class="p">[</span><span class="n">word</span><span class="p">.</span><span class="n">cuda</span><span class="p">()</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">inputs</span><span class="p">]</span>
                <span class="n">label</span> <span class="o">=</span> <span class="n">label</span><span class="p">.</span><span class="n">cuda</span><span class="p">()</span>
                <span class="c1"># encoder_hidden = encoder_hidden.cuda()
</span>
            <span class="n">decoder_output</span> <span class="o">=</span> <span class="n">seq2seq</span><span class="p">(</span><span class="n">inputs</span><span class="p">)</span>

            <span class="s">'''
            # forward
            for word in inputs:
                encoder_out, encoder_hidden = encoder(word, encoder_hidden)
            decoder_hidden = encoder_hidden
            decoder_out, decoder_hidden = decoder(inputs[-1], decoder_hidden)
            '''</span>

            <span class="c1">#ans = ix_to_word[int(labels.data.numpy()[0])]
</span>            <span class="n">pred</span> <span class="o">=</span> <span class="n">ix_to_word</span><span class="p">[</span><span class="n">numpy</span><span class="p">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">decoder_output</span><span class="p">.</span><span class="n">cpu</span><span class="p">().</span><span class="n">data</span><span class="p">.</span><span class="n">numpy</span><span class="p">())]</span>
            <span class="n">f</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="n">pred</span><span class="o">+</span><span class="s">"</span><span class="si">\</span><span class="se">n</span><span class="s">"</span><span class="p">)</span>
</code></pre></div></div>

<h5 id="slurm-89265out"><code class="highlighter-rouge">slurm-89265.out</code></h5>

<p>ä¸Šè¿° GRU ä»£ç çš„è¿è¡Œè®°å½•ã€‚å¯ä»¥çœ‹åˆ°ï¼Œåæ¬¡è¿­ä»£ä¹‹åæŸå¤±å‡½æ•°å°±ä¸æ€ä¹ˆå˜åŒ–äº†ã€‚</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Epoch:  0 train loss: 5104.7179
Epoch:  1 train loss: 2278.6186
Epoch:  2 train loss: 1007.3043
Epoch:  3 train loss: 576.0494
Epoch:  4 train loss: 376.3167
Epoch:  5 train loss: 229.3300
Epoch:  6 train loss: 113.6827
Epoch:  7 train loss: 40.9807
Epoch:  8 train loss: 36.9288
Epoch:  9 train loss: 3.0620
Epoch: 10 train loss: 0.8962
Epoch: 11 train loss: 0.7600
Epoch: 12 train loss: 0.6700
Epoch: 13 train loss: 0.6037
Epoch: 14 train loss: 0.5522
Epoch: 15 train loss: 0.5106
Epoch: 16 train loss: 0.4762
Epoch: 17 train loss: 0.4471
Epoch: 18 train loss: 0.4221
Epoch: 19 train loss: 0.4003
Epoch: 20 train loss: 0.3811
Epoch: 21 train loss: 0.3640
Epoch: 22 train loss: 0.3487
Epoch: 23 train loss: 0.3349
Epoch: 24 train loss: 0.3224
Epoch: 25 train loss: 0.3109
Epoch: 26 train loss: 0.3004
Epoch: 27 train loss: 0.2908
Epoch: 28 train loss: 0.2818
Epoch: 29 train loss: 0.2735
Epoch: 30 train loss: 0.2657

real	61m35.763s
user	39m15.786s
sys	11m6.868s
</code></pre></div></div>

<h5 id="predictiontxt"><code class="highlighter-rouge">prediction.txt</code></h5>

<p>GRU çš„é¢„æµ‹ç»“æœï¼ŒæˆåŠŸé¢„æµ‹äº†åå…­è¡Œçš„â€œé—¨åº—â€ã€äºŒåä¸ƒè¡Œçš„â€œä¸­å¿ƒâ€ã€ä¹åäº”è¡Œçš„â€œäº§å“â€ã€‚</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ä¸‰å¹´
é—¨åº—
äº†
åŸºç¡€
çš„
æ¶¨è·Œ
é›†å›¢
çš„
æ¨¡å¼
çš„
ä¾¿åˆ©
çš„
è‡³
æå‡
åš
é—¨åº—
ä¾¿åˆ©
ä»¥æ¥
ä¾¿åˆ©
åŸºç¡€
ä»–ä»¬
åˆ†å¸ƒ
å®ç°
çš„
è‡³
ä¾¿åˆ©
ä¸­å¿ƒ
ä¾¿åˆ©
æ¨¡å¼
åŠ é€Ÿ
å®ç°
é²œåº¦
æå‡
æœ€å¤§
ä¾¿åˆ©
åš
é²œé£Ÿ
åŒ»é™¢
åŒ»é™¢
æ¨¡å¼
ç³»ç»Ÿ
åŒ»é™¢
æ•°æ®
æ–°
çš„
é²œé£Ÿ
æ¨¡å¼
åŸºç¡€
ç¨‹åº¦
å®ç°
ä¸Š
çš„
ä¾¿åˆ©
åš
ä¾¿åˆ©
å¸ƒå±€
é—¨åº—
äº†
äº†
çš„
å¸‚å€¼
ç»è¥
æ¨¡å¼
é²œé£Ÿ
ç§‘å­¦
é¦–æ‰¹
ä¸åŒ
é²œé£Ÿ
ä¸Š
å®ç°
æ–°
ä¸ª
å®ç°
äº†
åŸå¸‚
çš„
é—¨åº—
æ¨¡å¼
åˆ
è¿™
å…¨
ä¸Š
çš„
è¿™
ä¸Š
ä¸Š
ä¸ª
ä»¥æ¥
ååŒ—
åŸºç¡€
æ–°
é²œé£Ÿ
ä¼ ç»Ÿ
åŸå¸‚
äº§å“
ä»¥æ¥
å¸‚å€¼
æ§
è‡ªåŠ¨
ä¸Š
</code></pre></div></div>

<h4 id="questiontxt"><code class="highlighter-rouge">question.txt</code></h4>

<p>æµ‹è¯•é›†ã€‚</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ä¸€ç›´ä»¥æ¥ï¼Œæœ‰ä¸å°‘å®¶é•¿è¯¯è®¤ä¸ºï¼Œåœ¨å¼€è½¦æ—¶å°†å­©å­æ”¾åœ¨å„¿ç«¥å®‰å…¨[MASK]ä¸Šæ˜¯æœ€ä¸ºå®‰å…¨çš„æ–¹å¼ã€‚
åœ¨è¿™ä¸ªæ±½è½¦æŠ€æœ¯é£é€Ÿå‘å±•çš„æ—¶ä»£ï¼Œ[MASK]å·²ç»æˆä¸ºä¸»è¦çš„äº¤é€šå·¥å…·ã€‚
2020å¹´å¼€å§‹ï¼Œæ‹œè…¾å°†æ¥å—æ¥è‡ª[MASK]å’ŒåŒ—ç¾åœ°åŒºçš„é¢„å®šï¼Œå¹¶å°†äº2021å¹´è¿›å…¥æ¬§ç¾å¸‚åœºã€‚
èƒŒé¢åˆ™é‡‡ç”¨å…¨æ–°çš„[MASK]æè´¨ï¼Œæ›´åŠ åšå›ºä¸æ˜“ç ´ç¢ï¼Œç»ç’ƒæœ¬èº«ä¹Ÿæ˜¯å“‘å…‰è´¨æ„Ÿè€Œä¸æ˜¯å…‰æ»‘çš„ã€‚
è¯¥åº—å‘˜é€éœ²ï¼Œæ­¤é­…æ—ä¸“å–åº—åœ¨2å¹´å‰å°±å¼€å§‹ä¸èµšé’±ï¼Œ[MASK]ä¸€ç›´ä¸‹æ»‘ã€‚
ä½“éªŒäººå‘˜åœ¨é©´å¦ˆå¦ˆå¹³å°ä½“éªŒé¢„è®¢æ™¯ç‚¹é—¨ç¥¨æ—¶ï¼Œå‘ç°[MASK]é—¨ç¥¨å‡ç»‘å®šäº†å†…é¦†é—¨ç¥¨ã€å¯¼è§ˆã€è®²è§£ç­‰æ”¶è´¹é¡¹ç›®ï¼Œæ²¡æœ‰å•å–çš„æ•…å®«é—¨ç¥¨ä¾›é€‰æ‹©ï¼Œæ¶‰å«Œå¼ºåˆ¶æ¶ˆè´¹ã€‚
è·å…°è½¦è¾†ç®¡ç†å±€æ˜¯æ¬§æ´²è´Ÿè´£å‘è½¦è¾†å’Œæ±½è½¦é›¶éƒ¨ä»¶ä¼ä¸š[MASK]è®¸å¯è¯çš„æœºæ„ä¹‹ä¸€ã€‚
è€Œç›¸æ¯”äºå›½å†…çš„æ”¯ä»˜é¢†åŸŸå‘å±•ï¼Œè·¨å¢ƒæ”¯ä»˜çš„å‰æ™¯ä¹Ÿæ›´åŠ [MASK]ï¼ŒPayPalè¿›å…¥ä¸­å›½åï¼Œå¾ˆå¯èƒ½å‘æŒ¥å…¶ç‹¬ç‰¹ä¼˜åŠ¿ï¼Œåœ¨è·¨å¢ƒæ”¯ä»˜é¢†åŸŸå‘åŠ›ã€‚
æˆ‘ä»¬è‡´åŠ›äºä»¥å¼€æ”¾çš„æ€åº¦å‚ä¸[MASK]ï¼Œè€Œä¸”ä¸é™„å¸¦ä»»ä½•æ¡ä»¶ã€‚æˆ‘ä»¬çš„æ‹¼è½¦æœåŠ¡å¯èƒ½ä¼šå–æ¶ˆã€‚
9æœˆ20æ—¥ï¼Œå·¥ä¸šå’Œä¿¡æ¯åŒ–éƒ¨éƒ¨é•¿è‹—åœ©åœ¨å›½æ–°åŠæ–°é—»å‘å¸ƒä¼šä¸Šè¡¨ç¤ºï¼Œç°åœ¨ä¸­å›½å¸‚åœºä¸Šå•†ä¸šå‘å¸ƒçš„5Gæ‰‹æœºæœ‰11æ¬¾ï¼Œå¤§éƒ¨åˆ†[MASK]éƒ½æ˜¯éç‹¬ç«‹ç»„ç½‘ã€‚
ç ”ç©¶è€…åœ¨ç­–ç•¥ç½‘ç»œä¸Šä½¿ç”¨äº†å¾ªç¯[MASK]çš„æ¶æ„ã€‚ä»–ä»¬ä½¿ç”¨æœ‰ç€ ReLU æ¿€æ´»å‡½æ•°çš„å…¨è¿æ¥å±‚ä½œä¸ºè¾“å…¥å±‚ï¼Œå¹¶ä½¿ç”¨ä¸€ä¸ªå•å±‚ LSTM å±‚è¿›è¡Œå¤„ç†ã€‚
æ€»è€Œè¨€ä¹‹ï¼Œä»å¤§ç¯å¢ƒä¸Šæ¥è¯´ï¼Œç›®å‰ä»ç„¶æ˜¯å¤„äºæ•™è‚²ç”¨æˆ·çš„é˜¶æ®µï¼ŒåŠ ä¸Šæ‰«åœ°[MASK]å“ç±»çš„ä¸‹é™å¾ˆä½ï¼Œå¸‚åœºè¿˜æ²¡æœ‰å½¢æˆä¸€ä¸ªè¶³å¤Ÿæ¸…æ™°çš„è®¤çŸ¥ã€‚
TOFæŠ€æœ¯è™½ç„¶åœ¨æ‰‹æœºåº”ç”¨ä¸Šå æ®äº†å¤§é‡çš„å¸‚åœºï¼Œä½†å¤§å¤šæ•°[MASK]ç”±äºæ¯”è¾ƒâ€œé¸¡è‚‹â€è€Œéš¾ä»¥æ”¯æ’‘å…¶è¿›ä¸€æ­¥å‘å±•ã€‚
ä¸­å›½æ˜¯ä¸–ç•Œç¬¬äºŒå¤§ç»æµä½“ï¼Œå±…æ°‘äººå‡å¯æ”¯é…æ”¶å…¥æŒç»­[MASK]ï¼Œæ¶ˆè´¹äº§å“çš„æ„æˆä¹Ÿé€æ¸å‘å‘è¾¾å›½å®¶è¶‹åŒã€‚
åœ¨è°ˆåˆ°ä¸ç‰¹æ–¯æ‹‰çš„ç«äº‰æ—¶ï¼Œå°é¹æ±½è½¦é«˜ç®¡è¡¨ç¤ºï¼Œå°é¹æ²¡æœ‰ç…§æ¬ç‰¹æ–¯æ‹‰çš„ç³»ç»Ÿï¼Œä½†ç‰¹æ–¯æ‹‰ç³»ç»Ÿä¸­å¾ˆå¥½çš„éƒ¨åˆ†ä¼šå»[MASK]ï¼Œä¸æ­¤åŒæ—¶ç‰¹æ–¯æ‹‰è¸©è¿‡å‘æˆ‘ä»¬å¯ä»¥é¿å…ã€‚
ä¾¿åˆ©èœ‚ä»¥â€œæ•°å­—é©±åŠ¨â€çš„åˆ›æ–°æ¨¡å¼å®ç°äº†å¯¹å¤§è§„æ¨¡[MASK]çš„å…¨ç›´è¥ç®¡ç†ã€‚
æŠ¥é“ç§°ï¼Œæ¥ä¸‹æ¥å‡ å‘¨ï¼Œå·´è¥¿å¢ƒå†…äºšé©¬å­™é›¨æ—çš„åè¿œè¥¿åŒ—éƒ¨åŠè¥¿éƒ¨åœ°åŒºä¼šæœ‰æ›´å¤šé™é›¨ï¼Œä½†ä¸œéƒ¨åŒºåŸŸä»ç»´æŒéå¸¸[MASK]çš„çŠ¶æ€.
è¿™ä¸€äº‹ä»¶ä¹Ÿè®©æ–°è¥¿å…°[MASK]æ„è¯†åˆ°ï¼ŒåŠ å¼ºå›½å†…çš„é˜²èŒƒå’Œåº”å¯¹èƒ½åŠ›æ˜¯éåˆ¶ææ€–ä¸»ä¹‰ã€æç«¯ä¸»ä¹‰ä¿¡æ¯ä¼ æ’­ä¸å¯æˆ–ç¼ºçš„ä¸€ç¯ã€‚
åœ¨ä¸‰å¤§è¿è¥å•†ç§¯æå±•å¼€5Géƒ¨ç½²å·¥ä½œçš„åŒæ—¶ï¼Œå„å¤§æ‰‹æœº[MASK]ä¹Ÿåœ¨ç§¯æå¸ƒå±€5Gäº§å“ï¼Œè¯´åˆ°è¿™é‡Œå°±ä¸èƒ½ä¸æåˆ°OPPOäº†ã€‚
æ®å½­åšç¤¾æŠ¥é“ï¼Œç”±äºä¸šç»©ä¸ä½³ï¼ŒåŠ¨è§†æš´é›ªè®¡åˆ’åœ¨ä¸‹å‘¨äºŒå®£å¸ƒè§„æ¨¡è¾¾æ•°ç™¾äººçš„[MASK]ï¼Œæœ‰çŸ¥æƒ…äººå£«é€éœ²è¿™æ˜¯å…¬å¸å†…éƒ¨é‡ç»„è®¡åˆ’çš„ä¸€éƒ¨åˆ†ï¼Œæ—¨åœ¨é›†ä¸­èŒèƒ½å’Œæå‡åˆ©æ¶¦ã€‚
å…³äºæ‰‹æœºåƒç´ ä¸€ç›´éƒ½æ˜¯çƒ­é—¨è¯é¢˜ï¼Œä¹Ÿæ˜¯å¾ˆå¤šç”¨æˆ·è´­æœºçš„ä¸»è¦[MASK]ä¹‹ä¸€ã€‚
è‹¹æœçªç„¶ä¸Šçº¿äº†AirPods Proï¼Œè€Œæ¥ä¸‹æ¥[MASK]è¿˜æœ‰å¤šæ¬¾æ–°å“ä¸Šå¸‚ï¼Œå³å°†åˆ°æ¥çš„æ˜¯Mac Proã€‚
è™½ç„¶æ–°è®¾è®¡ä¸ç°åœ¨çš„èˆªå¤©æœå¾ˆåƒï¼Œæ¯”å¦‚å®ƒä»¬éƒ½è£…é¥°æœ‰[MASK]çš„çº¢è“è‰²æ¡çº¹ï¼Œä½†æ˜¯æ–°èˆªå¤©æœä»æœ‰è®¸å¤šæ–°ç‰¹ç‚¹ã€‚
å¿«æ‰‹æ–¹é¢è¡¨ç¤ºï¼Œé æ¶æ„ç‚’ä½œå¸å¼•ç²‰ä¸å…³æ³¨æœ¬è´¨ä¸Šä¼¤å®³äº†å¿«æ‰‹è®°å½•ä¸åˆ†äº«çš„åˆå¿ƒï¼Œä¹Ÿä¼¤å®³äº†ç¤¾åŒºå…¬å¹³ï¼Œå¿…é¡»ä¸¥å‰[MASK]ï¼Œ å¦åˆ™ä¼šè´¥åæ•´ä¸ªç”Ÿæ€ï¼Œæœ€ç»ˆå—ä¼¤çš„æ˜¯å¹³å°ã€‚
æ˜“è€Œè¨€ä¹‹ï¼Œåœ¨é¼“åŠ±çš„åŒæ—¶ï¼Œéœ€è¦åŠ å¤§åŠ›åº¦æ‰“å‡»å›½å†…å¤§é‡æ¶‰å«Œ[MASK]ã€è¯ˆéª—çš„æ‰€è°“å¸åœˆã€é“¾åœˆã€‚
å½“ä¸‹è·å–ç®€å†æœ€ä¸»è¦æ–¹å¼æ˜¯é€šè¿‡ä¼ä¸šè´¦å·å‘å¸ƒ[MASK]ä¿¡æ¯ï¼Œç­‰å¾…æ±‚èŒè€…æŠ•é€’ç®€å†ï¼Œå†å°†ç®€å†æå–å‡ºæ¥å”®å–æˆ–ç›´æ¥åˆ©ç”¨ã€‚
å®‰å¾½åˆè‚¥æ˜¯ç›®å‰å›½å®¶æ‰¹å‡†å»ºè®¾çš„ä¸‰å¤§ç»¼åˆæ€§å›½å®¶ç§‘å­¦[MASK]ä¹‹ä¸€ï¼Œæ‹¥æœ‰å…¨çƒé¦–ä¸ªå…¨è¶…å¯¼æ‰˜å¡é©¬å…‹EASTæ ¸èšå˜å®éªŒè£…ç½®ï¼Œä»¥åŠè®¤çŸ¥æ™ºèƒ½å›½å®¶é‡ç‚¹å®éªŒå®¤ã€ç±»è„‘æ™ºèƒ½æŠ€æœ¯åŠåº”ç”¨å›½å®¶å·¥ç¨‹å®éªŒå®¤ç­‰é‡ç‚¹ç§‘ç ”æœºæ„ã€‚
ä¼—è¯´çº·çº­çš„ä¸€ä¸ªé‡è¦åŸå› ï¼Œæ˜¯ä»¥ç›®å‰[MASK]çš„æŠ€æœ¯æ°´å¹³ï¼Œè§‚æµ‹æµ·ç‹æ˜Ÿå¤–å¤©ä½“è¿˜å¾ˆå›°éš¾ã€‚
æœˆå¤œç»“æŸåï¼Œå—é˜³å…‰ç…§å°„ä½œç”¨ï¼Œå½“ä¸¤å™¨å¤ªé˜³ç¿¼å¸†æ¿è¾“å‡ºåŠŸç‡è¾¾åˆ°å”¤é†’é˜ˆå€¼æ—¶ï¼Œä¸¤å™¨å°±èƒ½æŒ‰ç…§é¢„å®š[MASK]å°†ä¸€äº›å…³é”®è®¾å¤‡é€šç”µå¼€æœºï¼Œæ¢å¤ä¸åœ°é¢çš„é€šè®¯è”ç³»ã€‚
å­¦ç”Ÿç¦å¸¦æ‰‹æœºè¿›æ ¡å›­çš„è§„å®šè½å®ä¹‹åˆï¼Œè¢«æŠ“åˆ°ç©æ‰‹æœºçš„å­¦ç”Ÿä¼šç”±[MASK]è°ˆè¯ï¼Œæ²¡æ”¶çš„æ‰‹æœºäº¤ç»™å®¶é•¿ã€‚
æ•°å­—è‡ªåŠ¨åŒ–ç¨‹åº¦æé«˜çš„åŒæ—¶ï¼Œä¹Ÿæ„å‘³ç€äººåŠ›å‹˜æ¢éœ€æ±‚çš„é™ä½ï¼Œè¿™ä¹Ÿæœ‰åŠ©äºå‡å°‘ç¢³æ’æ”¾ä¸èµ„æº[MASK]ï¼Œæ›´å¥½åœ°å®ç°æˆæœ¬æ§åˆ¶ã€‚
ä¸­å›½è”é€šè‘£äº‹é•¿ç‹æ™“åˆä¼šä¸Šè¡¨ç¤ºä¸­å›½è”é€šä»Šå¹´è®¡åˆ’[MASK]çš„5ä¸‡ä¸ª5GåŸºç«™ï¼Œå·²ç»å¤§éƒ¨åˆ†å¼€é€šï¼Œå¼€é€šäº†2.8ä¸‡ä¸ªåŸºç«™ã€‚
æ»´æ»´å‡ºè¡Œè‘£äº‹é•¿å…¼CEOç¨‹ç»´ç§°ï¼šè‡ªåŠ¨é©¾é©¶å°†å¤§å¹…æå‡å‡ºè¡Œå®‰å…¨ã€æ•ˆç‡ï¼ŒåŠ©åŠ›åŸå¸‚æ›´æ™ºèƒ½å¯æŒç»­[MASK]ã€‚
1947å¹´ï¼Œç¬¬ä¸€ä¸ªåŒæç»“å‹æ™¶ä½“ç®¡è¯ç”Ÿäºè´å°”å®éªŒå®¤ï¼Œå¼•é¢†äº†äººç±»ç¤¾ä¼šè¿›å…¥[MASK]çš„æ–°æ—¶ä»£ã€‚
æ•°å­—åŒ–è´§å¸å‘å±•å¯ä»¥åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼šç¬¬ä¸€ä¸ª[MASK]æ˜¯ä»¥æ¯”ç‰¹å¸ä¸ºä»£è¡¨çš„æ•°å­—åŒ–è´§å¸ã€‚
è€Œé’ˆå¯¹ç›®å‰å­˜åœ¨çš„æ³¨é”€éš¾ï¼Œæ³¨é”€è¿‡ç¨‹ä¸­å‡ºç°éœ€è¦ç”¨æˆ·å»[MASK]å¼€å…·è¯æ˜æˆ–æ‰‹æŒèº«ä»½è¯æ‹ç…§ç­‰ç¹çç¨‹åºã€‚
éšåæå›½åº†å¾®åšå‘é•¿æ–‡å›åº”ï¼Œç§°ä¿æ¸å¯¹æˆ‘ç§ç”Ÿæ´»åšå‡ºçš„[MASK]å’Œè¯¬è”‘ï¼Œæˆ‘åªæƒ³åœ¨è¿™é‡Œå›åº”ä¸€å¥è¯ï¼šç­‰ç€æ”¶å¾‹å¸ˆå‡½å§ã€‚
å°ç§¯ç”µè‘£äº‹é•¿åˆ˜å¾·éŸ³è¡¨ç¤ºï¼Œä»–æœ€è¿‘ä¸ç¾å›½[MASK]è®¨è®ºäº†åœ¨ç¾æ–°å»ºå·¥å‚äº‹å®œã€‚
ä¸è¿‡ï¼Œä¸€ä¸ªç°è±¡ä¹Ÿç‰¹åˆ«å€¼å¾—å…³æ³¨ï¼šæœ‰äº›å‚å•†å¼€å§‹[MASK]æœºå™¨äººèƒŒåçš„äººï¼Œåœ¨è¿‘å‡ å¹´å…´èµ·çš„æœºå™¨äººæ•™è‚²åŸ¹è®­å¸‚åœºæ˜é‡‘ã€‚
å¯¹å¤§å¤šæ•°äººæ¥è¯´ï¼Œå†èŠ±é’±è´­ä¹°å¦ä¸€é¡¹è®¢é˜…[MASK]å¯èƒ½å¬èµ·æ¥å¹¶ä¸æ˜¯å¾ˆæœ‰å¸å¼•åŠ›ï¼Œä½†è‹¹æœæŠ¼æ³¨å…¶åˆåˆ›å…¬å¸äº‘é›†çš„å†…å®¹ï¼Œå³ä½¿æ˜¯æœ€èŠ‚ä¿­çš„å®¢æˆ·ä¹Ÿä¼šè¢«è¯´æœã€‚
å®¶ç”¨æŠ•å½±ä»ªç°åœ¨åŸºæœ¬å·²ç»æ— äººä¸çŸ¥æ— äººä¸æ™“ï¼Œä¸è¿‡è¿˜æ˜¯ä¼šæœ‰å¾ˆå¤šæœ‹å‹ä»¬å‡ºäºèŠ‚çº¦[MASK]è€ƒè™‘ï¼Œåœ¨é€‰æ‹©ç¬¬ä¸€å°æŠ•å½±ä»ªæ—¶ä¹°äº†é‚£äº›åƒå…ƒä»¥ä¸‹çš„â€œå»‰ä»·æœºå‹â€ã€‚
å»å¹´ï¼Œä¸‡è±ªé…’åº—é›†å›¢å°±è¢«æ›æœ€å¤šæœ‰5äº¿å®¢äººä¿¡æ¯[MASK]ï¼Œæ‹¥æœ‰è¶…è¿‡1äº¿ä¼šå‘˜æ•°æ®çš„åä½ä¹ŸåŒæ ·é¢ä¸´é£é™©ã€‚
æˆ‘è®¤ä¸ºï¼Œåä¸ºå…¬å¸æä¾›äº†æŠ€æœ¯ï¼Œæˆ‘ä»¬ä¿è¯éµå®ˆç½‘ç»œå®‰å…¨å’ŒGDPRéšç§ä¿æŠ¤ä½“ç³»ã€‚ä½†æ˜¯ç½‘ç»œæœ€ç»ˆæ˜¯æ§åˆ¶åœ¨ä¸»æƒå›½å®¶æ‰‹é‡Œçš„ï¼Œä¸»æƒå›½å®¶é€šè¿‡[MASK]æ¥ç®¡ç†å’Œæ§åˆ¶ç½‘ç»œï¼Œå› æ­¤è¿™ä¸æ˜¯åä¸ºèƒ½åšåˆ°ä¸åšä¸åˆ°çš„é—®é¢˜ã€‚
æ­¤æ¬¡çŸ³å¤´ç§‘æŠ€åœ¨æ—¥æœ¬ä¸Šçº¿çš„ç¬¬ä¸€æ¬¾äº§å“â€œ Roborock S6â€ï¼ŒåŒæ—¶æ‹¥æœ‰æ‰«åœ°å’Œ[MASK]ä¸¤ç§åŠŸèƒ½ã€‚
æˆªæ­¢å‘ç¨¿ï¼Œç‰¹æœ—æ™®æ€»ç»Ÿåœ¨Twitchä¸Šå·²ç»æ‹¥æœ‰äº†9000ä¸ªå…³æ³¨ï¼Œçº¦æœ‰8700å[MASK]æ­£åœ¨è§‚çœ‹ä»–æ­£åœ¨å¬å¼€çš„é›†ä¼šã€‚
åŒæ—¶ï¼Œåœ¨å®éªŒè§‚æµ‹ç»“æœçš„[MASK]ä¸Šï¼Œè¯¥å·¥ä½œåˆå¯¹ä¹‹å‰çš„ç†è®ºæ¨¡å‹è¿›è¡Œäº†ä¿®æ­£å’Œå®Œå–„ã€‚
æ‰€è°“â€œå¼€æºâ€ï¼Œå°±æ˜¯å°†è½¯ä»¶çš„æºä»£ç å‘å¸ƒåˆ°æŸä¸€ç¤¾åŒºï¼Œå…è®¸æ‰€æœ‰çš„ç¤¾åŒº[MASK]å¯¹å…¶è¿›è¡Œä¿®æ­£ã€æ”¹è¿›å’Œåˆ›æ–°ï¼Œå¹¶å°†å…¶æˆæœä¸ç¤¾åŒºå†…çš„æ‰€æœ‰æˆå‘˜å…±äº«ã€‚
æ­¤å¤–ï¼Œå¦‚æœä½ ä»ç„¶åœ¨ä½¿ç”¨æœ€ä¾¿å®œçš„æ•°æ®å¥—é¤ï¼Œé‚£ä¹ˆä½ ä¸åº”è¯¥æœŸæœ›ä½ çš„æ•°å­—ç”Ÿæ´»ä¼šå‡ºç°ä»»ä½•çš„[MASK]ã€‚
æŒç»­çš„ç§‘æŠ€ç¹è£èƒŒåçš„ä¿¡å¿µæ˜¯ï¼Œåœ¨æ‹¥æœ‰è¶³å¤Ÿ[MASK]çš„å·¨å¤§å¸‚åœºä¸­ï¼Œç²¾æ˜çš„ä¼ä¸šå®¶å¯ä»¥è®¾è®¡å‡ºè‡ªå·±çš„æ–¹å¼ï¼Œå³ä½¿æ˜¯åº”å¯¹æœ€å…·æŒ‘æˆ˜æ€§çš„é—®é¢˜ã€‚
æ®æ‚‰ï¼Œé…’æ°´ä½œä¸ºå¤©çŒ«è¶…å¸‚é‡ç‚¹ç±»ç›®ï¼Œ[MASK]çš„é”€å”®å æ¯”è¾¾åˆ°ä¸€åŠä»¥ä¸Šã€‚æ­¤å‰ï¼Œå¤©çŒ«è¶…å¸‚ä¸èŒ…å°ã€äº”ç²®æ¶²ã€æ´‹æ²³è‚¡ä»½ã€æ³¸å·è€çª–ã€éƒé…’ç­‰ç™½é…’åä¼å‡å·²å»ºç«‹æ·±åº¦åˆä½œã€‚
ã€ŠæŠ¥å‘Šã€‹è¡¨ç¤ºï¼Œ2017å¹´ã€Šä¸­åäººæ°‘å…±å’Œå›½ç½‘ç»œå®‰å…¨æ³•ã€‹çš„æ­£å¼å®æ–½ï¼Œä»¥åŠç›¸å…³é…å¥—æ³•è§„çš„é™†ç»­å‡ºå°ï¼Œä¸ºæ­¤åå¼€å±•çš„ç½‘ç»œ[MASK]å·¥ä½œæä¾›äº†åˆ‡å®çš„æ³•å¾‹ä¿éšœã€‚
å°ç¨‹åºè½»ä¾¿æ˜“æ“ä½œçš„äº§å“ç‰¹æ€§ä»¥åŠå¼ºå¤§çš„è¿æ¥èƒ½åŠ›ï¼Œèƒ½å¸®åŠ©çº¿ä¸‹é›¶å”®ä¸šæ›´é«˜æ•ˆåœ°è¿æ¥çº¿ä¸Šä¸çº¿ä¸‹æµé‡ã€æ‹“å±•æœåŠ¡åŠå¾„å’Œå“ç±»ã€å¢å¼ºæ¸ é“å½±å“åŠ›ï¼Œå·²æˆä¸º[MASK]çš„â€œå¿…å¤‡å·¥å…·â€ä¹‹ä¸€ã€‚
9æœˆ10æ—¥æ™šé—´æ¶ˆæ¯ï¼Œé˜¿é‡Œ20å‘¨å¹´å¹´ä¼šä»Šæ—¥ä¸¾è¡Œï¼Œé©¬äº‘ç™»å°å‘è¨€æ­£å¼[MASK]å¸ä»»é˜¿é‡Œå·´å·´è‘£äº‹å±€ä¸»å¸­ã€‚
æ¶ˆè´¹è€…æ™®éæ¥å—äº†è¿™ç§æ¶¨ä»·ã€‚åªæœ‰30%çš„å—è®¿è€…è¡¨ç¤ºï¼Œä»–ä»¬æ­£åœ¨å‡å°‘ä½¿ç”¨å…±äº«å•è½¦æœåŠ¡ï¼Œæˆ–è€…å¹²è„†åœæ­¢ä½¿ç”¨ã€‚53%çš„å—è®¿è€…è¡¨ç¤ºä»·æ ¼ä¸Šæ¶¨å¯¹ä»–ä»¬æ²¡æœ‰å½±å“ï¼Œæˆ–è€…ä¸çŸ¥é“[MASK]ä¸Šæ¶¨äº†ã€‚
ç„¶è€Œï¼Œè‹¥å«è§†ä¸ºäº†æŒ½æ•‘ä¸šç»©ï¼Œä¸€å‘³å‘å¹¿å‘Šå•†ä½å¤´ï¼Œå°†èŠ‚ç›®å†…å®¹æ›´å¤šåœ°å€¾å‘äºå¹¿å‘Šå•†ï¼Œå¿…å°†åœ¨ä¸€å®šç¨‹åº¦ä¸Šç‰ºç‰²ç”¨æˆ·ä½“éªŒï¼Œè¿›è€Œé™·å…¥[MASK]æµå¤±ã€æ”¶è§†ä¸‹é™ã€å¹¿å‘Šå•†ç¦»åœºã€ä¸šç»©æŒç»­ä¸‹æ»‘çš„æ¶æ€§å¾ªç¯ã€‚
å¯¹è‹¹æœä»Šå¹´è¿™ä¸‰æ¬¾æ–°æ‰‹æœºçš„[MASK]ç»­èˆªæ—¶é—´ï¼Œåå°”è¡—æ—¥æŠ¥ä¸“æ ä½œå®¶ä¹”å®‰å¨œæ–¯ç‰¹æ©ä¼¼ä¹éƒ½ç‰¹åˆ«æ»¡æ„ã€‚
è™½ç„¶ç°åœ¨è°ˆæ˜å¹´çš„iPhoneè¿˜æœ‰äº›æ—©ï¼Œä½†æ˜¯è‹¹æœæ—©å·²è¡ŒåŠ¨èµ·æ¥ã€‚ä»äº§ä¸šé“¾ä¼ å‡ºçš„æœ€æ–°æ¶ˆæ¯ç§°ï¼Œè‹¹æœiPhoneæ˜å¹´å°†é…å¤‡120Hzå±å¹•ï¼Œæé«˜[MASK]çš„åˆ·æ–°ç‡ã€‚
è™½ç„¶ç‡ƒæ²¹æ±½è½¦ä¸šåŠ¡æœ‰ä¸é”™çš„è¡¨ç°ï¼Œä½†æ–°èƒ½æº[MASK]ä»æ˜¯è€ƒéªŒæ¯”äºšè¿ªç›ˆåˆ©çš„é‡ä¸­ä¹‹é‡ï¼Œè·å¾—çš„å·¨é¢è¡¥è´´æ˜¯åŸå› ä¹‹ä¸€ã€‚
ç‰¹åˆ«æ˜¯è¿‘å¹´æ¥ï¼Œäº¬ä¸œã€å°ç±³ã€å¥‡è™360ã€æ»´æ»´ã€ç¾å›¢ã€æ—·è§†ã€å•†æ±¤ã€é©­åŠ¿ç§‘æŠ€ã€å¯’æ­¦çºªã€åœ°å¹³çº¿ç­‰ä¸€æ‰¹æ–°ç”Ÿä»£ç§‘æŠ€[MASK]å¿«é€Ÿå´›èµ·ï¼Œåœ¨å›½é™…ç«äº‰ä¸­å´­éœ²å¤´è§’ï¼Œä½¿ä¸­å…³æ‘ä¼ä¸šå®¶ç²¾ç¥ä»£ä»£ç›¸ä¼ ã€å‘æ‰¬å…‰å¤§ã€‚
åŸå¸‚äº¤é€šï¼Œæ­å·æœ‰æ¡ç©¿åŸè€Œè¿‡çš„é«˜æ¶è·¯å…¨é•¿22å…¬é‡Œï¼ŒåŸå¸‚å¤§è„‘æ¥å…¥åï¼Œå‡ºè¡Œæ—¶é—´å¹³å‡èŠ‚çœäº†4.6åˆ†é’Ÿï¼Œå¤§æ¦‚æ˜¯10%çš„æ—¶é—´ï¼›è§å±±åŒº104ä¸ªè·¯å£ä¿¡å·ç¯è‡ªåŠ¨è°ƒæ§ï¼Œè½¦è¾†é€šè¿‡é€Ÿåº¦æå‡äº†15%ï¼Œå¹³å‡èŠ‚çœ[MASK]3åˆ†é’Ÿã€‚
æ¶ˆæ¯äººå£«æ­¤å‰å‘Šè¯‰å¤–åª’ç§°ï¼Œè¯ºä¾æ›¼æœ‰æƒä»¥é«˜è¾¾9.7äº¿ç¾å…ƒçš„[MASK]å‡ºå”®å…¶åœ¨è¯¥å…¬å¸çš„è‚¡ä»½ï¼Œä½œä¸ºè½¯é“¶å°†ä»æŠ•èµ„è€…å’Œå‘˜å·¥æ‰‹ä¸­è´­ä¹°é«˜è¾¾30äº¿ç¾å…ƒçš„WeWorkè‚¡ä»½çš„è¦çº¦çš„ä¸€éƒ¨åˆ†ã€‚
ç”µå™¨åº—åœ¨æ•´ä¸ªå®¶ä¹ç¦æ•°ä¸‡å¹³ç±³çš„å–åœºä¸­ï¼Œå ç”¨çš„[MASK]å¹¶ä¸å¤§ã€‚
æ³¢å£«é¡¿å’¨è¯¢å…¬å¸åˆ™åœ¨ä¸€ä»½æŠ¥å‘Šä¸­æŒ‡å‡ºï¼Œç”µåŠ¨åŒ–ã€è‡ªåŠ¨é©¾é©¶æ±½è½¦å’Œå…±äº«å‡ºè¡Œåˆ›é€ çš„åˆ©æ¶¦[MASK]ï¼Œé¢„è®¡å°†ä»2017å¹´çš„1%å°†å¢é•¿è‡³2035å¹´çš„40%ã€‚
åœ¨å¼€æ”¾æ”¿ç­–å’Œè¥å•†ç¯å¢ƒä¼˜åŒ–æ–¹é¢ï¼Œä¸­å›½æ”¿åºœå¯¹äºå¤–èµ„ä¼ä¸šåœ¨åæŠ•èµ„å’Œå‘å±•æ–°äº§ä¸šç­‰æä¾›çš„æ”¯æŒ[MASK]å—åˆ°æ¬¢è¿ã€‚
ä»æ”¿ç­–ä¸Šæ¥è®²ï¼Œä¸€æ–¹é¢ï¼Œåœ¨[MASK]å±‚é¢éœ€è¦åˆ¶å®šè§„èŒƒåˆ¶åº¦ï¼Œæ¯”å¦‚ä»€ä¹ˆæ ·çš„è½¦å¯ä»¥åšè‡ªåŠ¨é©¾é©¶æµ‹è¯•<span class="p">;</span>è‡ªåŠ¨é©¾é©¶å°†æ¥è¿è¥çš„æ—¶å€™ï¼Œéœ€è¦éµå¾ªå“ªäº›è§„åˆ™<span class="p">;</span>æ€ä¹ˆè§£å†³å®‰å…¨é—®é¢˜ç­‰ã€‚
å¹´å‰9ä¸ªæœˆï¼Œåœ¨ä¸­å›½ï¼Œå®é™…å–ç»™çœŸå®æ¶ˆè´¹è€…ç”µåŠ¨è½¦å¤§æ¦‚åªæœ‰åå‡ ä¸‡è¾†ï¼Œä¸ç‰¹æ–¯æ‹‰åœ¨ç¾å›½å‰9æœˆ[MASK]14ä¸‡è¾†å·®è·ä¸å¤§ã€‚
ä¸­å›½è½½äººèˆªå¤©å·¥ç¨‹ç½‘å‘å¸ƒæ¶ˆæ¯ï¼Œè°´è´£é€ è°£è¯½è°¤æ¨åˆ©ä¼Ÿçš„è¨€è®ºï¼Œå°†ä¾æ³•ä¸¥è‚ƒè¿½ç©¶æœ‰å…³å½“äº‹äººçš„[MASK]è´£ä»»ã€‚
æœ¬æ¬¡â€œæœˆé¢å¾®å‹ç”Ÿæ€åœˆâ€å®éªŒä½ç½®è·ç¦»åœ°çƒ38ä¸‡å…¬é‡Œï¼Œæ¯”ç¦»åœ°300å¤šå…¬é‡Œçš„å›½é™…ç©ºé—´ç«™é¥[MASK]å¾—å¤šï¼Œæ‰€å¤„æœˆé¢ç¯å¢ƒä¹Ÿæ¯”å›½é™…ç©ºé—´ç«™å†…éƒ¨å¤æ‚å¾—å¤šã€‚
è€Œé’±ä¸å¤Ÿã€èƒ½æ»¡è¶³è¶…å‰æ¶ˆè´¹çš„éœ€æ±‚æ˜¯90åç”¨æˆ·é€‰æ‹©æ¶ˆè´¹é‡‘èäº§å“çš„é¦–è¦[MASK]ã€‚
è¿‘æ—¥ï¼Œä¸€åŠ [MASK]äº†7Tç³»åˆ—æ–°å“æ‰‹æœºã€‚
æ¸²æŸ“å›¾æ˜¾ç¤ºï¼Œæ–°æ¬¾AirPodsé™¤äº†æ­¤å‰æ›å…‰çš„ç™½è‰²å’Œé»‘è‰²ç‰ˆæœ¬å¤–ï¼Œè¿˜æ–°å¢äº†å…¨æ–°çš„ç°è‰²å’Œé‡‘è‰²[MASK]ã€‚
å…¨é€šæ•™è‚²å‘å¸ƒå…¬å‘Šï¼Œå—å®è§‚ç»æµç¯å¢ƒã€ä¸Šå¸‚å…¬å¸åŠæ ‡çš„èµ„äº§ç»è¥æƒ…å†µã€é‡ç»„æ”¿ç­–å˜åŒ–ä»¥åŠè‚¡ç¥¨äºŒçº§å¸‚åœºä»·æ ¼æ³¢åŠ¨ç­‰[MASK]å½±å“ï¼Œäº¤æ˜“åŒæ–¹æœªèƒ½å°±æœ¬æ¬¡é‡ç»„æ–¹æ¡ˆæ‰€æ¶‰äº¤æ˜“å®šä»·ã€ä¸šç»©æ‰¿è¯ºä¸è¡¥å¿å®‰æ’ç­‰è¦ç´ è¾¾æˆæœ€ç»ˆå…±è¯†ï¼Œå…¬å¸å†³å®šç»ˆæ­¢ç­¹åˆ’æœ¬æ¬¡é‡å¤§èµ„äº§é‡ç»„äº‹é¡¹ï¼Œå¹¶ç­¾è®¢æœ‰å…³ç»ˆæ­¢åè®®ã€‚
å…¨é€šæ•™è‚²å‘å¸ƒå…¬å‘Šï¼Œå—å®è§‚ç»æµç¯å¢ƒã€ä¸Šå¸‚å…¬å¸åŠæ ‡çš„èµ„äº§ç»è¥æƒ…å†µã€é‡ç»„æ”¿ç­–å˜åŒ–ä»¥åŠè‚¡ç¥¨äºŒçº§å¸‚åœºä»·æ ¼æ³¢åŠ¨ç­‰å› ç´ [MASK]ï¼Œäº¤æ˜“åŒæ–¹æœªèƒ½å°±æœ¬æ¬¡é‡ç»„æ–¹æ¡ˆæ‰€æ¶‰äº¤æ˜“å®šä»·ã€ä¸šç»©æ‰¿è¯ºä¸è¡¥å¿å®‰æ’ç­‰è¦ç´ è¾¾æˆæœ€ç»ˆå…±è¯†ï¼Œå…¬å¸å†³å®šç»ˆæ­¢ç­¹åˆ’æœ¬æ¬¡é‡å¤§èµ„äº§é‡ç»„äº‹é¡¹ï¼Œå¹¶ç­¾è®¢æœ‰å…³ç»ˆæ­¢åè®®ã€‚
è‹å®é‡‘æœç›¸å…³è´Ÿè´£äººåœ¨æ¥å—[MASK]é‡‡è®¿æ—¶è¡¨ç¤ºï¼Œã€ŠåŠæ³•ã€‹å‡ºå°åï¼Œå…¬å¸ä¹Ÿå°†ç§¯æé…åˆç›‘ç®¡æœºæ„å¼€å±•ç›¸å…³å·¥ä½œã€‚
ä»Šå¹´7æœˆåˆï¼Œè°·æ­Œåœ°å›¾ä¸ºå°åº¦ç”¨æˆ·å¢åŠ äº†ä¸‰é¡¹æ–°[MASK]ï¼Œå¸®åŠ©ä»–ä»¬å‘ç°å½“åœ°ä½“éªŒï¼Œå¹¶è·å¾—ä¸ªæ€§åŒ–çš„æ¨èï¼Œä»¥è·å¾—æ›´å¥½çš„ç”¨é¤ä½“éªŒï¼Œå…¶ä¸­åŒ…æ‹¬â€œä¼˜æƒ â€éƒ¨åˆ†ï¼Œå¸®åŠ©ä»–ä»¬æ‰¾åˆ°ä¼˜æƒ åˆ¸ï¼Œå¹¶åœ¨11ä¸ªåŸå¸‚çš„é¤å…è®¤é¢†ã€‚
æœ‰è¶…è¿‡å…­æˆè¢«è°ƒæŸ¥è€…è¡¨ç¤ºå¯ä»¥æ¥å—å…¬å¼€é€æ˜æ”¶å–é€‚å½“æœåŠ¡è´¹ç”¨ï¼Œä½†å‰ææ˜¯è¦è®©æ¶ˆè´¹è€…å……åˆ†çŸ¥æƒ…ï¼Œå¹¶ä¸”è®©[MASK]è‡ªä¸»é€‰æ‹©ã€‚
ä½†æ˜¯æ”¶é›†æ•°æ®ã€å¤„ç†æ•°æ®çš„æ•ˆç‡éå¸¸ä½ã€‚ä½†æ˜¯ç°åœ¨ç”¨äº†æœºå™¨å­¦ä¹ çš„æ–¹æ³•ä¹‹åï¼Œèƒ½æå¤§æé«˜[MASK]ï¼Œæå‡åˆ¤æ–­ç®¡é“äº‹ä»¶çš„åŠæ—¶æ€§å’Œå‡†ç¡®æ€§ã€‚
å…¨çƒå„¿ç«¥æ­»äº¡æ•°é‡å·²ä»1950å¹´çš„1960ä¸‡ä¾‹[MASK]è‡³2017å¹´çš„540ä¸‡ä¾‹ã€‚
å®è´¨ä¸Šå¢ä¼Ÿå†°çš„è¿™ä¸ªç‚¹è¯„æœ€é‡è¦çš„ç‚¹åœ¨äºå®£ä¼ å°ç±³çš„ä»·å€¼è§‚ï¼Œé‚£å°±æ˜¯èŠ±åŒæ ·çš„é’±ä¹°åˆ°æ›´å¥½çš„äº§å“ï¼Œè€Œä¸æ˜¯èŠ±æ›´å¤šçš„é’±ä¹°åˆ°ä½“éªŒä¸€èˆ¬çš„[MASK]ã€‚
å®‰ä¿¡è¯åˆ¸ç ”æŠ¥æŒ‡å‡ºï¼Œéšç€èµ„æœ¬å¸‚åœºå¯¹äººå·¥æ™ºèƒ½è®¤çŸ¥çš„ä¸æ–­æ·±å…¥ï¼Œå¸‚åœºå¯¹[MASK]çš„æŠ•èµ„æ—¥è¶‹æˆç†Ÿå’Œç†æ€§ï¼ŒæŠ•èèµ„é¢‘æ¬¡åœ¨2018å¹´ä»¥æ¥æœ‰æ‰€æ”¾ç¼“ï¼Œä½†æŠ•èµ„é‡‘é¢æŒç»­å¢åŠ ã€‚
5Gå’Œé«˜é€Ÿå…‰çº¤å®½å¸¦çš„å‘å±•ï¼Œä½¿ç”¨æˆ·å¯¹ç½‘ç»œçš„[MASK]æ—¥ç›Šå¢é•¿ï¼Œä¹Ÿé—´æ¥å¯¹Starlinkçš„ç½‘ç»œå®¹é‡æå‡ºäº†æ›´é«˜çš„è¦æ±‚ã€‚
ä¸Šæµ·ç§»åŠ¨çš„å·¥ä½œäººå‘˜ä¹Ÿå‘è®°è€…è¡¨ç¤ºï¼Œæš‚æ—¶æ²¡æœ‰å¬è¯´åœæ­¢é”€å”®è¯¥ç±»å¥—é¤ã€‚ç›®å‰ä¸‰å¤§è¿è¥å•†ä¸­ï¼Œåªæœ‰ä¸­å›½ç”µä¿¡æ˜ç¡®å°†åœå”®è¾¾é‡é™é€Ÿ[MASK]ã€‚
è‡ªä»æé€Ÿé™è´¹çš„æ”¿ç­–å®æ–½ä»¥åï¼Œä¸­å›½ç§»åŠ¨çš„ä¸šç»©å¼€å§‹æ‰¿å‹ï¼Œå‡ºç°äº†é²œè§çš„è¥æ”¶ã€åˆ©æ¶¦åŒè·Œã€‚ä¸­å›½ç§»åŠ¨æ­¤å‰æŠ«éœ²çš„2019å¹´åŠå¹´æ˜¾ç¤ºï¼Œå…¬å¸ä¸ŠåŠå¹´[MASK]3894äº¿å…ƒï¼ŒåŒæ¯”ä¸‹é™0.6%ï¼Œè‚¡ä¸œåº”å åˆ©æ¶¦561äº¿å…ƒï¼ŒåŒæ¯”ä¸‹é™14.6%ã€‚
å°±åƒå‡ ä¹æ‰€æœ‰äººç±»ç”Ÿäº§æ´»åŠ¨ä¸€æ ·ï¼Œé”‚ç¦»å­ç”µæ± çš„ç”Ÿäº§ä¹Ÿå¯¹[MASK]é€ æˆäº†ä¸€å®šå½±å“ï¼Œä½†ä¹Ÿä¸ºç¯å¢ƒå¸¦æ¥äº†å·¨å¤§çš„ç›Šå¤„ã€‚æœ‰äº†é”‚ç¦»å­ç”µæ± ï¼Œç ”ç©¶äººå‘˜å¾—ä»¥å‘æ˜æ›´æ¸…æ´çš„èƒ½æºæŠ€æœ¯å’Œç”µåŠ¨æ±½è½¦ï¼Œä»è€Œæœ‰åŠ›å‡å°‘äº†æ¸©å®¤æ°”ä½“å’Œé¢—ç²’ç‰©çš„æ’æ”¾ã€‚
ç¬¬äºŒä¸ªé—¨æ§›å°±æ˜¯[MASK]ä¸Šçš„é—¨æ§›äº†ã€‚äº‘è®¡ç®—çš„åˆ›ä¸šå¯¹äºèµ„é‡‘çš„è¦æ±‚ä¼šæ¯”è¾ƒé«˜ï¼Œå¾ˆå¤šæ²¡æœ‰èµ„é‡‘å®åŠ›çš„åˆ›ä¸šè€…ä¹Ÿå°±è¦æƒ³è½»æ¾ä»‹å…¥åˆ°äº‘è®¡ç®—å’Œå¤§æ•°æ®ç›¸å…³é¢†åŸŸåˆ›ä¸šä¼šç›¸å½“éš¾ï¼Œè¿™å°±éœ€è¦æ”¿åºœä»¥åŠèµ„æœ¬å¸‚åœºæ¥åŠ å¤§å¯¹äºäº‘è®¡ç®—ã€å¤§æ•°æ®åˆ›ä¸šçš„æ‰¶æŒåŠ›åº¦ã€‚
â€œç½‘ç»œå®‰å…¨å½¢åŠ¿å‘ç”Ÿäº†çªå˜ï¼Œæˆ‘ä»¬éœ€è¦æºæ‰‹æ„å»ºç½‘ç»œ[MASK]å‘½è¿å…±åŒä½“ã€‚â€360é›†å›¢è‘£äº‹é•¿å…¼CEOå‘¨é¸¿ç¥è¯´ã€‚
è‹¹æœæ­£åœ¨æŠŠè‡ªå·±é‡å¡‘ä¸ºä¸€å®¶ä»¥æœåŠ¡ä¸ºåŸºç¡€çš„å…¬å¸ï¼Œå¹¶ä¸”æ¨å‡ºäº†æµåª’ä½“è§†é¢‘ã€è§†é¢‘æ¸¸æˆå’Œä¿¡ç”¨å¡ç­‰[MASK]ã€‚
ä»è´¢åŠ¡æ•°æ®æ¥çœ‹ï¼Œ2016å¹´ä¼˜åˆ»å¾—å‡ºç°[MASK]ï¼Œä½†2017å¹´èµ·æ‰­äºä¸ºç›ˆï¼Œæ­¤åä¿æŒè¾ƒå¿«å¢é•¿ã€‚
é™¤äº†æ¬§ç›Ÿã€ç¾å›½ä¹‹å¤–ï¼ŒåŒ…æ‹¬éŸ©å›½ã€æ—¥æœ¬åœ¨å†…çš„å…¶ä»–[MASK]åœ°åŒºçš„æ”¿åºœï¼Œä¹Ÿæ›¾ç»æˆ–è€…æ­£åœ¨å¯¹è‹¹æœè¿›è¡Œå„ç§åå„æ–­è°ƒæŸ¥ã€‚
è¿™ä¸€æ•°å­—ä¹Ÿè§£é‡Šäº†è½¯é“¶åœ¨å…¬å¼€å¸‚åœºæŠ•èµ„è‹±ä¼Ÿè¾¾è‚¡ç¥¨é­é‡çš„é‡å¤§æŸå¤±ã€‚è½¯é“¶è®°å½•çš„[MASK]ä¸º2995äº¿æ—¥å…ƒï¼Œçº¦åˆ27äº¿ç¾å…ƒã€‚
åŒæ–¹ç§°ï¼Œå°†ä»¥ç­¾ç½²æˆ˜ç•¥åˆä½œåè®®ä¸ºå¥‘æœºï¼ŒæŒç»­æ¨è¿›5Gé¢†åŸŸçš„å®è´¨æ€§ä¸šåŠ¡åˆä½œï¼Œåœ¨5Gã€AIã€äº‘è®¡ç®—ã€ç‰©è”ç½‘ç­‰æ–°æŠ€æœ¯é¢†åŸŸï¼Œå¼€å±•æ›´å¹¿æ³›çš„äº¤æµå’Œ[MASK]ã€‚
ä»æ¥æ²¡æœ‰ä¸€ä¸ªäº§ä¸šï¼Œåƒä¸­å›½äº’è”ç½‘äº§ä¸šä¸€æ ·ï¼Œå‘å±•çš„[MASK]å¦‚æ­¤æƒŠäººã€‚
äº’è”ç½‘å’Œäººå·¥æ™ºèƒ½æŠ€æœ¯ä¸ºå…¨ä¸–ç•Œçš„å„ä¸ªå›½å®¶éƒ½å¸¦æ¥å·¨å˜ã€‚åœ¨è¿™ä¸€æ–¹é¢ï¼Œä¸­å›½åšå¾—éå¸¸ä¼˜ç§€ï¼Œä¸­å›½å°†äº’è”ç½‘ä¸[MASK]æŠ€æœ¯ç»“åˆå¾—â€œç‚‰ç«çº¯é’â€ï¼Œè¿™äº›ç»éªŒå€¼å¾—å„ä¸ªå›½å®¶å­¦ä¹ ã€‚
æ€»ä¹‹ï¼Œ5Gå°†å¼€å¯ä¸€ä¸ªæ–°æ™ºèƒ½æœºæ—¶ä»£ï¼Œè€Œåˆ›æ–°å°†æ˜¯æ–°æ™ºèƒ½æœºæ—¶ä»£çš„ç¬¬ä¸€å‘å±•åŠ¨åŠ›ï¼ŒæœŸå¾…å›½äº§å“ç‰Œåœ¨æ–°[MASK]æ—¶ä»£å¤§æœ‰ä½œä¸ºã€‚
é¢å¯¹å±±æ²³æ—¥ä¸‹çš„æƒ…å†µï¼Œæ¼«æ­¥è€…æ¨å‡ºæ——ä¸‹å®šä½äºé«˜ç«¯æ— çº¿ä¾¿æºéŸ³å“çš„[MASK]ï¼Œèšç„¦æ‰“é€ å”®ä»·ã€åˆ©æ¶¦ç‡æ›´é«˜çš„é«˜ç«¯äº§å“çº¿ï¼Œä»¥æœŸæé«˜åˆ©æ¶¦ç‡ã€‚
å·¥ä¸šå’Œä¿¡æ¯åŒ–éƒ¨æ— çº¿ç”µç®¡ç†å±€ç»„ç»‡å¬å¼€äº†æ— çº¿ç”µç®¡ç†å®£ä¼ å·¥ä½œåº§è°ˆä¼šï¼Œä»£è¡¨ä»¬å°±[MASK]ç®¡ç†å®£ä¼ å·¥ä½œå¼€å±•æƒ…å†µã€å­˜åœ¨çš„é—®é¢˜å’Œå›°éš¾ã€ä¸‹ä¸€æ­¥å·¥ä½œæ€è·¯ç­‰è¿›è¡Œäº†çƒ­çƒˆè®¨è®ºï¼Œå¹¶å°±å¦‚ä½•è¿›ä¸€æ­¥æå‡æ— çº¿ç”µç®¡ç†å®£ä¼ çš„æ•ˆç‡å’Œæ•ˆæœæå‡ºäº†æ„è§å’Œå»ºè®®ã€‚
ä¸­å›½å…¬å¸å¼€å‘çš„åº”ç”¨ä»Šå¹´ç¬¬ä¸€å­£åº¦åœ¨ç¾å›½å…±è®¡å®ç°äº†6.748äº¿ç¾å…ƒçš„[MASK]ï¼ŒåŒæ¯”å¢é•¿67%ï¼Œä¼°è®¡å ä»Šå¹´ç¬¬ä¸€å­£åº¦å‰100å¼ºåº”ç”¨æ€»è¥æ”¶çš„22%ã€‚
è…¾è®¯å®‰å…¨å¹³å°éƒ¨ä½œä¸ºä¸“æ³¨è…¾è®¯ä¼ä¸šå†…éƒ¨å®‰å…¨çš„å›¢é˜Ÿï¼Œä¹ŸæŠŠåä½™å¹´è…¾è®¯è‡ªèº«å®‰å…¨æœ€ä½³å®è·µå¯¹å¤–å¼€æ”¾èµ‹èƒ½ï¼Œå¹¶é€æ­¥æŠŠ[MASK]èƒ½åŠ›å‘è…¾è®¯äº‘ä¸Šå¼€æ”¾ï¼Œåšå¥½äº§ä¸šäº’è”æ—¶ä»£çš„æ•°å­—åŒ–å®‰å…¨åŠ©æ‰‹ã€‚
åä¸ºnova5åœ¨ç”µå•†å¹³å°å°±æ‹ç½‘æœ€æ–°ä¸€æœŸçš„ç«æ‹æ´»åŠ¨ä¸­ä»¥ä½è‡³199å…ƒçš„[MASK]æˆäº¤ï¼Œä¸ä»…åˆ›ä¸‹äº†è¯¥æœºä¸Šå¸‚ä»¥æ¥çš„ä»·æ ¼æ–°ä½ï¼Œä¹Ÿæ˜¯æ™ºèƒ½æœºä»·æ ¼å²ä¸Šçš„é‡Œç¨‹ç¢‘ã€‚
æºç¨‹çš„ç›®æ ‡æ˜¯ä¸‰å¹´å†…æˆä¸ºäºšæ´²æœ€å¤§çš„å›½é™…æ—…æ¸¸ä¼ä¸šï¼Œäº”å¹´å†…æˆä¸ºå…¨çƒæœ€å¤§çš„å›½é™…æ—…æ¸¸ä¼ä¸šï¼Œåå¹´å†…æˆä¸ºæœ€å…·ä»·å€¼å’Œæœ€å—å°Šæ•¬çš„åœ¨çº¿æ—…æ¸¸[MASK]ã€‚
</code></pre></div></div>

<h4 id="answertxt"><code class="highlighter-rouge">answer.txt</code></h4>

<p>æµ‹è¯•ç­”æ¡ˆã€‚</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>åº§æ¤…
æ±½è½¦
æ¬§æ´²
ç»ç’ƒ
åˆ©æ¶¦
æ•…å®«
é¢å‘
å¹¿é˜”
å¯¹è¯
æ‰‹æœº
ç¥ç»ç½‘ç»œ
æœºå™¨äºº
åº”ç”¨
å¢é•¿
å­¦ä¹ 
é—¨åº—
å¹²ç‡¥
æ”¿åºœ
å‚å•†
è£å‘˜
éœ€æ±‚
ä»–ä»¬
é²œè‰³
æ‰“å‡»
ä¼ é”€
æ‹›è˜
ä¸­å¿ƒ
äººç±»
ç¨‹åº
ç­ä¸»ä»»
æµªè´¹
å»ºè®¾
å‘å±•
ä¿¡æ¯æŠ€æœ¯
é˜¶æ®µ
å…¬å®‰å±€
è¯½è°¤
å•†åŠ¡éƒ¨
å…³æ³¨
æœåŠ¡
æˆæœ¬
æ³„éœ²
è¿è¥å•†
æ‹–åœ°
è§‚ä¼—
åŸºç¡€
æˆå‘˜
æ”¹å–„
èµ„æœ¬
ç™½é…’
å®‰å…¨
é›¶å”®ä¸š
å®£å¸ƒ
ä»·æ ¼
ç”¨æˆ·
ç”µæ± 
å±å¹•
æ±½è½¦
ä¼ä¸š
æ—¶é—´
ä»·æ ¼
é¢ç§¯
å æ¯”
æ”¿ç­–
æ³•å¾‹
é”€é‡
æ³•å¾‹
è¿œ
åŸå› 
å‘å¸ƒ
ç‰ˆæœ¬
å› ç´ 
å½±å“
åª’ä½“
åŠŸèƒ½
æ¶ˆè´¹è€…
æ•ˆç‡
é™
äº§å“
äººå·¥æ™ºèƒ½
éœ€æ±‚
å¥—é¤
è¥æ”¶
ç¯å¢ƒ
èµ„é‡‘
å®‰å…¨
æœåŠ¡
äºæŸ
å›½å®¶
æŸå¤±
åˆä½œ
é€Ÿåº¦
äººå·¥æ™ºèƒ½
æ™ºèƒ½æœº
äº§å“
æ— çº¿ç”µ
è¥æ”¶
å®‰å…¨
ä»·æ ¼
ä¼ä¸š
</code></pre></div></div>

<h2 id="æ€»ç»“ä¸æ€è€ƒé‡åˆ°çš„å›°éš¾åŠé‡‡ç”¨çš„è§£å†³æ–¹æ³•åç»­æ”¹è¿›æ–¹å‘ç­‰">æ€»ç»“ä¸æ€è€ƒï¼ˆé‡åˆ°çš„å›°éš¾åŠé‡‡ç”¨çš„è§£å†³æ–¹æ³•ã€åç»­æ”¹è¿›æ–¹å‘ç­‰ï¼‰</h2>

<h3 id="æ•°æ®æ¥æº">æ•°æ®æ¥æº</h3>

<p>è¿™é‡Œé€‰æ‹©äº†<a href="https://new.qq.com/ch/tech/">è…¾è®¯ç½‘çš„ç§‘æŠ€é¢‘é“</a>ä½œä¸ºæ•°æ®æ¥æºã€‚è¿™é‡Œé‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œä»–çš„ç§‘æŠ€é¢‘é“é¦–é¡µæ˜¯ç”¨ js è„šæœ¬åŠ¨æ€ä»æœåŠ¡å™¨ä¸­æŠ“å–æ–°é—»çš„ï¼Œä¸èƒ½ç›´æ¥è§£æå‡ºæ–°é—»çš„ urlã€‚è®¤è¯†çš„æœ‰äº›åŒå­¦æ˜¯æ¨¡æ‹Ÿæµè§ˆæ“ä½œå‘æœåŠ¡å™¨å‘åŒ…è·å¾—æ–°é—»é“¾æ¥ï¼Œä¸è¿‡æˆ‘åœ¨è¿™é‡Œé€‰æ‹©äº†æ›´ç®€å•çš„åšæ³•ï¼šä»<a href="https://tech.qq.com/l/201901/scroll_01.htm">è…¾è®¯æ»šåŠ¨æ–°é—»</a>ç›´æ¥æŠ“å–ä¿¡æ¯ï¼Œå…¶é“¾æ¥æœ‰å¾ˆæ˜æ˜¾çš„è§„å¾‹ï¼Œhtml è§£æèµ·æ¥ä¹Ÿä¸æ˜¯é‚£ä¹ˆéº»çƒ¦ã€‚</p>

<h3 id="çˆ¬å–æ•°æ®æ—¶è¿æ¥è¢«ä¸­æ–­">çˆ¬å–æ•°æ®æ—¶è¿æ¥è¢«ä¸­æ–­</h3>

<p>çˆ¬çš„æ—¶å€™å¤šç”¨ä¸€ç”¨<code class="highlighter-rouge">try:</code>è¯­å¥å—è·³è¿‡å¼‚å¸¸ï¼ˆå› ä¸ºæ•°æ®é‡å¾ˆå¤§ï¼Œç›´æ¥è·³è¿‡ä¸€ä¸¤æ¡ä¹Ÿä¸ä¼šæœ‰ä»€ä¹ˆå½±å“ï¼‰</p>

<h3 id="pytorch">PyTorch</h3>

<p>ä¹‹å‰æ²¡æœ‰åšè¿‡æœºå™¨å­¦ä¹ ç›¸å…³çš„çŸ¥è¯†ï¼Œç¿»äº†ä¸å°‘åšå®¢å’Œå®˜æ–¹æ–‡æ¡£æ¥å­¦ä¹ ã€‚å¥½åœ¨åœ¨ PyTorch ä¸­æ­å»ºç¥ç»ç½‘ç»œæ¨¡å‹æ¯”è¾ƒå®¹æ˜“ä¸Šæ‰‹ï¼Œåªéœ€å®šä¹‰å¥½ç›¸å…³å˜é‡ï¼Œä»¥åŠå¯¹åº”çš„å‰å‘ä¼ æ’­è¿‡ç¨‹ï¼Œå…¶ä»–çš„è¿‡ç¨‹éƒ½å¯ä»¥è‡ªåŠ¨ç”Ÿæˆã€‚</p>

<h3 id="è®¡ç®—èµ„æº">è®¡ç®—èµ„æº</h3>

<p>æˆ‘è‡ªå·±ä½¿ç”¨çš„æœºå™¨æ²¡æœ‰ç‹¬ç«‹æ˜¾å¡ï¼Œåœ¨æœ¬åœ°è®­ç»ƒåªå¥½ä½¿ç”¨ CPU è¿›è¡Œè®¡ç®—ï¼Œå› æ­¤åªèƒ½ä½¿ç”¨ä½¿ç”¨éå¸¸å°‘çš„è¾“å…¥æ•°æ®ï¼ˆä¸åˆ° 100 æ¡å¥å­ï¼‰ï¼Œå¯¹åº”çš„å‡†ç¡®ç‡åŸºæœ¬ä¸Šéƒ½æ˜¯ 0ã€‚æ¢ç”¨é›†ç¾¤è¿›è¡Œè®¡ç®—ä¹‹åè®­ç»ƒçš„é€Ÿåº¦ç¡®å®å¤§å¤§åŠ å¿«ï¼Œä¹Ÿå°±æ˜¯èƒ½å¤Ÿå¡æ›´å¤šçš„è®­ç»ƒæ•°æ®ã€‚å¬è¯´å¤§å…¬å¸è®­ç»ƒå‡ºçš„æˆç†Ÿå¯¹è¯æ¨¡å‹çš„åŸºæœ¬ä¸Šéƒ½ç”¨äº†ä¸Š GB çº§åˆ«çš„è¯­æ–™é›†åˆè¿›è¡Œè®­ç»ƒï¼Œé‚£ä¹ˆçœ‹æ¥åšæœºå™¨å­¦ä¹ ç¡®å®å¾ˆåƒè®¡ç®—èµ„æºã€‚åé¢è‡ªå·±æœ‰ç©ºã€V100 é›†ç¾¤ä¹Ÿç©ºé—²çš„æ—¶å€™è€ƒè™‘æ¢æ›´å¼ºçš„æ˜¾å¡å†è·‘ä¸€ä¸‹çœ‹çœ‹æ•ˆæœã€‚</p>

<h3 id="é¢„æµ‹ç»“æœ">é¢„æµ‹ç»“æœ</h3>

<p>ä¸¤ä¸ªæ¨¡å‹é¢„æµ‹çš„æˆåŠŸç‡éƒ½åªæœ‰ä¸ªä½æ•°ï¼Œæœ€å¤§çš„é—®é¢˜æ‰€åœ¨å…¶å®æ˜¯è®­ç»ƒé›†ä¸å¤Ÿå¤§ï¼Œå¤§éƒ¨åˆ†è¦é¢„æµ‹çš„å•è¯éƒ½æ²¡æœ‰åœ¨é€‰æ‹©çš„ä¸€ç™¾å¥ä¸Šä¸‹çš„æ ·æœ¬é›†çš„è¯è¡¨é‡Œé¢å‡ºç°è¿‡ã€‚ç”¨è®­ç»ƒçš„æ ·æœ¬é›†è¿›è¡Œæ£€æµ‹çš„æ—¶å€™ï¼Œn-gram æ­å»ºçš„æ¨¡å‹å¯ä»¥è¾¾åˆ° 30%å·¦å³çš„å‡†ç¡®ç‡ï¼ŒGRU çš„å‡†ç¡®ç‡ä¹Ÿæœ‰ 12%å·¦å³ã€‚ä¸è¿‡ï¼Œåº”å¯¹å®é™…é—®é¢˜çš„æ—¶å€™æ˜¾ç„¶è¿™æ ·è¿˜è¿œè¿œä¸å¤Ÿï¼Œç”¨æ ·æœ¬é›†æµ‹è¯•çš„ç»“æœä¹Ÿä¸èƒ½è®©äººä¿¡æœã€‚æˆ‘è§‰å¾—ï¼Œå…¶å®è¿™ä¸¤ä¸ªæ¨¡å‹éƒ½æ˜¯æŒ‰ç…§æ—¢å®šçš„ç»Ÿè®¡æ–¹æ³•è¿›è¡Œé¢„æµ‹ï¼Œä¸èƒ½ç®—ä½œçœŸæ­£çš„äººå·¥æ™ºèƒ½ï¼Œä¹Ÿä¸èƒ½çœŸçš„å–ä»£äººå·¥ï¼ˆä¸è¿‡è®­ç»ƒæ•°æ®é‡ä¸Šå»äº†ä¹Ÿè®¸å¯ä»¥åº”ä»˜ä¸€äº›å°ä¼—çš„ä¸“ä¸šé¢†åŸŸï¼‰ï¼Œè¿˜éœ€è¦æ›´å¥½çš„è¯­è¨€æ¨¡å‹ã€‚å°¤å…¶æ˜¯ n-gramï¼Œè™½ç„¶æœ‰ä¸€ç‚¹ç»Ÿè®¡ä¸Šæå¤§ä¼¼ç„¶çš„é“ç†ï¼ˆå¹¶ä¸”åœ¨è®­ç»ƒé›†ä¸Šçš„æ•ˆæœæ˜æ˜¾ä¼˜äº GRUï¼‰ï¼Œä½†æ˜¯ä¸ç†è§£å¥å­è¯­ä¹‰çš„æå¤§ä¼¼ç„¶å¾ˆå¯èƒ½å°±æ˜¯æ–­ç« å–ä¹‰çš„è¡Œä¸ºï¼Œä¹Ÿä¸èƒ½å¾ˆå¥½çš„é¢„æµ‹æ–°å‡ºç°çš„è¯æ±‡ã€‚</p>

<p>å†çœ‹ä¸€ä¸‹é¢„æµ‹å‡ºæ¥çš„å››ä¸ªè¯â€œæ‰‹æœºâ€ã€â€œé—¨åº—â€ã€â€œä¸­å¿ƒâ€ã€â€œäº§å“â€ï¼Œéƒ½æ˜¯åè¯ï¼›æˆ‘è¿™é‡Œæ²¡æœ‰ç”¨å¸¸ç”¨åœç”¨è¯å»å‰ªæï¼Œåç»­ä¹Ÿå¯ä»¥è€ƒè™‘ä½¿ç”¨ä¸€äº›å¸¸ç”¨çš„ä¸­æ–‡åœç”¨è¯å‰ªæï¼Œåº”è¯¥èƒ½ç¼©çŸ­è®­ç»ƒçš„æ—¶é—´ã€‚</p>

<h3 id="æ¨¡å‹æ•°æ®çš„ä¿å­˜ä¸åŠ è½½">æ¨¡å‹æ•°æ®çš„ä¿å­˜ä¸åŠ è½½</h3>

<p>è®­ç»ƒæ—¶ç»å¸¸è¦æ¶‰åŠåˆ°å‚æ•°çš„è°ƒæ•´ï¼Œå¦‚æœæ¯æ¬¡éƒ½è¦é‡æ–°è®­ç»ƒæ•°ä¸ªå°æ—¶æ¥æ£€éªŒæ˜¯å¦æœ‰é—®é¢˜çš„è¯æ—¶é—´å’Œç²¾åŠ›ä¸Šéƒ½æ˜¯éš¾ä»¥æ¥å—çš„ã€‚è¿™é‡Œæˆ‘å‚è€ƒ<a href="https://zhuanlan.zhihu.com/p/38056115">Pytorch ä¿å­˜æ¨¡å‹ä¸åŠ è½½æ¨¡å‹</a>ï¼Œå­¦ä¼šäº†ä½¿ç”¨<code class="highlighter-rouge">torch.save(model,path),torch.load(path)</code>æ¥ä¿å­˜è®­ç»ƒå¥½çš„æ¨¡å‹ã€‚</p>
:ET