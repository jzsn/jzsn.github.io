I"MÇ<p>ä½¿ç”¨ OpenGL å®ç°ç®€æ˜“çš„æ˜Ÿçƒæ—‹è½¬æ•ˆæœï¼Œå¦‚å›¾ 1ã€‚ç¨‹åºæ‰§è¡Œæ•ˆæœè§é™„å¸¦å‹ç¼©åŒ…çš„ EXE ç¨‹åºï¼ˆEXE æ–‡ä»¶ä¸º Win ç¨‹åºï¼Œä½¿ç”¨ Mac OS å’Œ Linux çš„åŒå­¦è¯·å‚ç…§ Win å¹³å°ä¸‹çš„æ‰§è¡Œæ•ˆæœï¼‰ ã€‚</p>

<h2 id="åŠŸèƒ½è¦æ±‚">åŠŸèƒ½è¦æ±‚</h2>

<ol>
  <li>ä½¿ç”¨ä¸åŒå°ºå¯¸çš„çº¿æ¡†çƒä½“ï¼ˆWire Sphereï¼‰è¡¨ç¤ºå¤§å°ä¸¤ä¸ªæ˜Ÿçƒ</li>
  <li>ä½¿ç”¨å¹³ç§»å’Œæ—‹è½¬æ“ä½œå®ç°å°æ˜Ÿçƒè‡ªè½¬å’Œç»•å¤§æ˜Ÿçƒæ—‹è½¬çš„åŠŸèƒ½ï¼Œé”®ç›˜äº‹ä»¶å“åº”å¦‚ä¸‹ï¼š d å’Œ shift+d: åˆ†åˆ«æ§åˆ¶å°æ˜Ÿçƒæ­£åä¸¤ä¸ªæ–¹å‘çš„è‡ªè½¬ï¼› y å’Œ shift+y: åˆ†åˆ«æ§åˆ¶å°æ˜Ÿçƒç»•å¤§æ˜Ÿçƒçš„æ­£æ–¹å‘å’Œåæ–¹å‘æ—‹è½¬</li>
  <li>è¯­è¨€ä¸é™ï¼Œå¼€å‘å¹³å°ä¸é™ã€‚å…·ä½“æ•ˆæœå±•ç¤ºå…è®¸ç•¥æœ‰å·®å¼‚ã€‚</li>
  <li>è¦æ±‚ä½¿ç”¨ OpenGL ç€è‰²å™¨ç¼–ç¨‹æ–¹å¼å®ç°ç¨‹åºã€‚</li>
</ol>

<h2 id="å®ç°æç¤º">å®ç°æç¤º</h2>

<p>æ­£æ–¹å‘æ—‹è½¬å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼æ±‚å¾—ï¼šd = (d + 10) % 360ï¼›åæ–¹å‘åˆ™ä¸º d = (d - 10) % 360</p>

<h2 id="project3">Project3</h2>

<p>ä¸€å¼€å§‹æˆ‘çš„å¼€å‘ç¯å¢ƒæ˜¯æ­åœ¨ Linux ç¯å¢ƒä¸‹çš„ï¼Œä½†æ˜¯è¿è¡Œæ—¶å‘ç”Ÿäº†å„ç§å¼‚å¸¸ï¼Œåœ¨å´é£šã€ç‹å¨ç­‰åŒå­¦è®¨è®ºä¹‹åï¼ˆæ„Ÿè°¢ä»–ä»¬ï¼‰ï¼Œé‡æ–°åœ¨ Windows ä¸‹ä½¿ç”¨ VS2019 å¼€å‘ã€‚ç›¸å…³é¡¹ç›®ç›®å½•æ˜¯<code class="highlighter-rouge">/Project3</code>ï¼Œæ‰“åŒ…å¥½çš„æˆå“æ˜¯<code class="highlighter-rouge">project3.exe</code>ã€‚</p>

<h3 id="è¿è¡Œæ•ˆæœ">è¿è¡Œæ•ˆæœ</h3>

<p>è¿™é‡Œä¸å¤ªä¼šç”»çº¿æ¡†çƒä½“ï¼Œäºæ˜¯ç”¨äºŒåä¸ªä¸‰è§’å½¢å»æ¨¡æ‹Ÿè¿™ä¸ªçƒä½“ã€‚</p>

<p>å¦å¤–ï¼Œé‡åˆ°å¾ˆè¿·çš„é—®é¢˜ï¼Œæ’æ˜Ÿæ²¡æœ‰æ˜¾ç¤ºå‡ºæ¥â€¦</p>

<p>æ‰“å¼€çš„æ•ˆæœå¦‚ä¸‹ã€‚</p>

<p><img src="/assets/image/2019-09-30-2.jpg" alt="2" /></p>

<p>æŒ‰äº†è‹¥å¹²ä¸‹ d å’Œ y ä¹‹åå¦‚å›¾ï¼Œè¡Œæ˜Ÿè½¬åˆ°äº†ä¸Šæ–¹ï¼Œå¹¶ä¸”å‘ç”Ÿäº†ä¸€å®šçš„è‡ªè½¬ï¼ˆæç‚¹ä½ç½®å˜åŠ¨äº†ï¼‰ã€‚</p>

<p><img src="/assets/image/2019-09-30-3.jpg" alt="3" /></p>

<h3 id="åŸç†">åŸç†</h3>

<h4 id="äºŒç»´åæ ‡ä¸‹ç»•åŸç‚¹è‡ªè½¬">äºŒç»´åæ ‡ä¸‹ç»•åŸç‚¹è‡ªè½¬</h4>

<p>è®°$\theta$æ˜¯è¦æ—‹è½¬çš„è§’åº¦ï¼Œè®°$dayd$æ˜¯å¹…è§’ä¸º$\theta$çš„å•ä½å‘é‡ã€‚è€ƒè™‘å¤æ•°çš„ä¹˜æ³•æ„ä¹‰ï¼šå¹…è§’ç›¸åŠ ã€æ¨¡é•¿ç›¸ä¹˜ï¼Œåªéœ€è¦å°†åŸæ¥çš„ç‚¹åœ¨å¤æ•°åŸŸä¸Šä¸<code class="highlighter-rouge">dayd</code>åšä¸€æ¬¡ä¹˜æ³•å³å¯ã€‚</p>

<p>$aPosâ€™=(aPos.x<em>dayd.x-aPos.y</em>dayd.y, aPos.y<em>dayd.x+aPos.x</em>dayd.y)$</p>

<h4 id="äºŒç»´åæ ‡ä¸‹ç»•åŸç‚¹å…¬è½¬">äºŒç»´åæ ‡ä¸‹ç»•åŸç‚¹å…¬è½¬</h4>

<p>å…¬è½¬ç›¸å¯¹å®¹æ˜“ï¼Œåªè¦ç®—å‡ºç°åœ¨ä½ç½®å’ŒåŸä½ç½®çš„å‘é‡å·®$yeard$å³å¯ã€‚</p>

<p>$aPosâ€™=aPos+yeard$</p>

<h3 id="æºä»£ç maincpp">æºä»£ç <code class="highlighter-rouge">main.cpp</code></h3>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;glad/glad.h&gt;
#include &lt;GLFW/glfw3.h&gt;
#include &lt;iostream&gt;
#include &lt;cmath&gt;
</span>
<span class="kt">int</span> <span class="n">year</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">day</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

<span class="kt">void</span> <span class="nf">framebuffer_size_callback</span><span class="p">(</span><span class="n">GLFWwindow</span><span class="o">*</span> <span class="n">window</span><span class="p">,</span> <span class="kt">int</span> <span class="n">width</span><span class="p">,</span> <span class="kt">int</span> <span class="n">height</span><span class="p">);</span>
<span class="kt">void</span> <span class="nf">processInput</span><span class="p">(</span><span class="n">GLFWwindow</span><span class="o">*</span> <span class="n">window</span><span class="p">);</span>

<span class="c1">// settings</span>
<span class="k">const</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">SCR_WIDTH</span> <span class="o">=</span> <span class="mi">1024</span><span class="p">;</span>
<span class="k">const</span> <span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">SCR_HEIGHT</span> <span class="o">=</span> <span class="mi">768</span><span class="p">;</span>

<span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">vertexShaderSource</span> <span class="o">=</span>
<span class="s">"#version 330 core</span><span class="se">\n</span><span class="s">"</span>
<span class="s">"layout (location = 0) in vec3 aPos;</span><span class="se">\n</span><span class="s">"</span>
<span class="s">"uniform vec2 yeard;</span><span class="se">\n</span><span class="s">"</span>
<span class="s">"uniform vec2 dayd;</span><span class="se">\n</span><span class="s">"</span>
<span class="s">"void main()</span><span class="se">\n</span><span class="s">"</span>
<span class="s">"{</span><span class="se">\n</span><span class="s">"</span>
<span class="s">"if(aPos.x*aPos.x+ aPos.y * aPos.y+ aPos.x * aPos.y&lt;0.06)</span><span class="se">\n</span><span class="s">"</span>
<span class="s">"   gl_Position = vec4(aPos.x*dayd.x-aPos.y*dayd.y+yeard.x, aPos.y*dayd.x+aPos.x*dayd.y+yeard.y, aPos.z, 1.0);</span><span class="se">\n</span><span class="s">"</span>
<span class="s">"else</span><span class="se">\n</span><span class="s">"</span>
<span class="s">"   gl_Position = vec4(aPos.x, aPos.y, aPos.z, 1.0);</span><span class="se">\n</span><span class="s">"</span>
<span class="s">"}</span><span class="se">\0</span><span class="s">"</span><span class="p">;</span>
<span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">fragmentShaderSource</span> <span class="o">=</span>
<span class="s">"#version 330 core</span><span class="se">\n</span><span class="s">"</span>
<span class="s">"out vec4 FragColor;</span><span class="se">\n</span><span class="s">"</span>
<span class="s">"void main()</span><span class="se">\n</span><span class="s">"</span>
<span class="s">"{</span><span class="se">\n</span><span class="s">"</span>
<span class="s">"   FragColor = vec4(1.0f, 0.5f, 0.2f, 1.0f);</span><span class="se">\n</span><span class="s">"</span>
<span class="s">"}</span><span class="se">\n\0</span><span class="s">"</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
	<span class="c1">//glfwåˆå§‹åŒ–</span>
	<span class="n">glfwInit</span><span class="p">();</span>
	<span class="n">glfwWindowHint</span><span class="p">(</span><span class="n">GLFW_CONTEXT_VERSION_MAJOR</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
	<span class="n">glfwWindowHint</span><span class="p">(</span><span class="n">GLFW_CONTEXT_VERSION_MINOR</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
	<span class="n">glfwWindowHint</span><span class="p">(</span><span class="n">GLFW_OPENGL_PROFILE</span><span class="p">,</span> <span class="n">GLFW_OPENGL_CORE_PROFILE</span><span class="p">);</span>
	<span class="c1">//glfwWindowHint(GLFW_OPENGL_FORWARD_COMPAT, GL_TRUE);//MacOS</span>

	<span class="c1">//glfw window creation</span>
	<span class="n">GLFWwindow</span><span class="o">*</span> <span class="n">window</span> <span class="o">=</span> <span class="n">glfwCreateWindow</span><span class="p">(</span><span class="n">SCR_WIDTH</span><span class="p">,</span> <span class="n">SCR_HEIGHT</span><span class="p">,</span> <span class="s">"17341163 WuK"</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">window</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Failed to create GLFW window"</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
		<span class="n">glfwTerminate</span><span class="p">();</span>
		<span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="n">glfwMakeContextCurrent</span><span class="p">(</span><span class="n">window</span><span class="p">);</span>
	<span class="n">glfwSetFramebufferSizeCallback</span><span class="p">(</span><span class="n">window</span><span class="p">,</span> <span class="n">framebuffer_size_callback</span><span class="p">);</span>

	<span class="c1">//glad: load all OpenGL function pointers</span>
	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">gladLoadGLLoader</span><span class="p">((</span><span class="n">GLADloadproc</span><span class="p">)</span><span class="n">glfwGetProcAddress</span><span class="p">))</span>
	<span class="p">{</span>
		<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Failed to initialize GLAD"</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
		<span class="k">return</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="c1">//build and compile ç€è‰²å™¨ç¨‹åº</span>

		<span class="c1">//é¡¶ç‚¹ç€è‰²å™¨</span>
	<span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">vertexShader</span><span class="p">;</span>
	<span class="n">vertexShader</span> <span class="o">=</span> <span class="n">glCreateShader</span><span class="p">(</span><span class="n">GL_VERTEX_SHADER</span><span class="p">);</span>
	<span class="n">glShaderSource</span><span class="p">(</span><span class="n">vertexShader</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">vertexShaderSource</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>
	<span class="n">glCompileShader</span><span class="p">(</span><span class="n">vertexShader</span><span class="p">);</span>
	<span class="c1">//æ£€æŸ¥é¡¶ç‚¹ç€è‰²å™¨æ˜¯å¦ç¼–è¯‘é”™è¯¯</span>
	<span class="kt">int</span>  <span class="n">success</span><span class="p">;</span>
	<span class="kt">char</span> <span class="n">infoLog</span><span class="p">[</span><span class="mi">512</span><span class="p">];</span>
	<span class="n">glGetShaderiv</span><span class="p">(</span><span class="n">vertexShader</span><span class="p">,</span> <span class="n">GL_COMPILE_STATUS</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">success</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">success</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="n">glGetShaderInfoLog</span><span class="p">(</span><span class="n">vertexShader</span><span class="p">,</span> <span class="mi">512</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="n">infoLog</span><span class="p">);</span>
		<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"ERROR::SHADER::VERTEX::COMPILATION_FAILED</span><span class="se">\n</span><span class="s">"</span> <span class="o">&lt;&lt;</span> <span class="n">infoLog</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="k">else</span> <span class="p">{</span>
		<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"vertexShader complie SUCCESS"</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="c1">//ç‰‡æ®µç€è‰²å™¨</span>
	<span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">fragmentShader</span><span class="p">;</span>
	<span class="n">fragmentShader</span> <span class="o">=</span> <span class="n">glCreateShader</span><span class="p">(</span><span class="n">GL_FRAGMENT_SHADER</span><span class="p">);</span>
	<span class="n">glShaderSource</span><span class="p">(</span><span class="n">fragmentShader</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">fragmentShaderSource</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">);</span>
	<span class="n">glCompileShader</span><span class="p">(</span><span class="n">fragmentShader</span><span class="p">);</span>
	<span class="c1">//æ£€æŸ¥ç‰‡æ®µç€è‰²å™¨æ˜¯å¦ç¼–è¯‘é”™è¯¯</span>
	<span class="n">glGetShaderiv</span><span class="p">(</span><span class="n">fragmentShader</span><span class="p">,</span> <span class="n">GL_LINK_STATUS</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">success</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">success</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">glGetShaderInfoLog</span><span class="p">(</span><span class="n">fragmentShader</span><span class="p">,</span> <span class="mi">512</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="n">infoLog</span><span class="p">);</span>
		<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"ERROR::SHADER::FRAGMENT::COMPILATION_FAILED</span><span class="se">\n</span><span class="s">"</span> <span class="o">&lt;&lt;</span> <span class="n">infoLog</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="k">else</span> <span class="p">{</span>
		<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"fragmentShader complie SUCCESS"</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="c1">//è¿æ¥åˆ°ç€è‰²å™¨ç¨‹åº</span>
	<span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">shaderProgram</span><span class="p">;</span>
	<span class="n">shaderProgram</span> <span class="o">=</span> <span class="n">glCreateProgram</span><span class="p">();</span>
	<span class="n">glAttachShader</span><span class="p">(</span><span class="n">shaderProgram</span><span class="p">,</span> <span class="n">vertexShader</span><span class="p">);</span>
	<span class="n">glAttachShader</span><span class="p">(</span><span class="n">shaderProgram</span><span class="p">,</span> <span class="n">fragmentShader</span><span class="p">);</span>
	<span class="n">glLinkProgram</span><span class="p">(</span><span class="n">shaderProgram</span><span class="p">);</span>
	<span class="c1">//æ£€æŸ¥ç‰‡æ®µç€è‰²å™¨æ˜¯å¦ç¼–è¯‘é”™è¯¯</span>
	<span class="n">glGetProgramiv</span><span class="p">(</span><span class="n">shaderProgram</span><span class="p">,</span> <span class="n">GL_LINK_STATUS</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">success</span><span class="p">);</span>
	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">success</span><span class="p">)</span> <span class="p">{</span>
		<span class="n">glGetProgramInfoLog</span><span class="p">(</span><span class="n">shaderProgram</span><span class="p">,</span> <span class="mi">512</span><span class="p">,</span> <span class="nb">NULL</span><span class="p">,</span> <span class="n">infoLog</span><span class="p">);</span>
		<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"ERROR::SHADER::PROGRAM::LINKING_FAILED</span><span class="se">\n</span><span class="s">"</span> <span class="o">&lt;&lt;</span> <span class="n">infoLog</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="k">else</span> <span class="p">{</span>
		<span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"shaderProgram complie SUCCESS"</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="c1">//è¿æ¥ååˆ é™¤</span>
	<span class="n">glDeleteShader</span><span class="p">(</span><span class="n">vertexShader</span><span class="p">);</span>
	<span class="n">glDeleteShader</span><span class="p">(</span><span class="n">fragmentShader</span><span class="p">);</span>

	<span class="k">const</span> <span class="kt">double</span> <span class="n">r1</span> <span class="o">=</span> <span class="mf">0.2</span><span class="p">,</span><span class="n">r2</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span><span class="n">r3</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span><span class="n">pi</span><span class="o">=</span><span class="n">acos</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
	<span class="k">const</span> <span class="kt">int</span> <span class="n">num</span> <span class="o">=</span> <span class="mi">9</span><span class="p">;</span>

	<span class="kt">float</span> <span class="n">vertices</span><span class="p">[(</span><span class="mi">2</span><span class="o">+</span><span class="n">num</span><span class="p">)</span><span class="o">*</span><span class="mi">3</span><span class="o">*</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
		<span class="mf">0.0</span><span class="n">f</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1</span><span class="n">f</span><span class="p">,</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">r1</span><span class="o">*</span><span class="n">r1</span><span class="o">-</span><span class="mf">0.01</span><span class="p">),</span>
		<span class="mf">0.0</span><span class="n">f</span><span class="p">,</span> <span class="mf">0.1</span><span class="n">f</span><span class="p">,</span> <span class="o">-</span><span class="n">sqrt</span><span class="p">(</span><span class="n">r1</span><span class="o">*</span><span class="n">r1</span><span class="o">-</span><span class="mf">0.01</span><span class="p">)</span>
	<span class="p">};</span>
	<span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">indices</span><span class="p">[</span><span class="n">num</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">*</span> <span class="mi">3</span> <span class="o">*</span> <span class="mi">2</span><span class="p">];</span>
	<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">num</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="n">vertices</span><span class="p">[</span><span class="n">i</span> <span class="o">*</span> <span class="mi">3</span> <span class="o">+</span> <span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="n">r1</span><span class="o">*</span><span class="n">cos</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="o">*</span><span class="n">i</span><span class="o">/</span><span class="n">num</span><span class="p">);</span>
		<span class="n">vertices</span><span class="p">[</span><span class="n">i</span> <span class="o">*</span> <span class="mi">3</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="n">r1</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">pi</span> <span class="o">*</span> <span class="n">i</span> <span class="o">/</span> <span class="n">num</span><span class="p">);</span>
		<span class="n">vertices</span><span class="p">[</span><span class="n">i</span> <span class="o">*</span> <span class="mi">3</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="p">}</span>
	<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="p">(</span><span class="mi">2</span> <span class="o">+</span> <span class="n">num</span><span class="p">)</span> <span class="o">*</span> <span class="mi">3</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
		<span class="n">vertices</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="p">(</span><span class="mi">2</span> <span class="o">+</span> <span class="n">num</span><span class="p">)</span> <span class="o">*</span> <span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="n">r2</span> <span class="o">/</span> <span class="n">r1</span> <span class="o">*</span> <span class="n">vertices</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
	<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">num</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="n">num</span><span class="p">;</span>
		<span class="n">indices</span><span class="p">[</span><span class="mi">2</span> <span class="o">*</span> <span class="n">i</span> <span class="o">*</span> <span class="mi">3</span><span class="p">]</span><span class="o">=</span> <span class="n">indices</span><span class="p">[</span><span class="mi">2</span> <span class="o">*</span> <span class="n">i</span> <span class="o">*</span> <span class="mi">3</span> <span class="o">+</span> <span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span><span class="o">+</span><span class="mi">2</span> <span class="p">;</span>
		<span class="n">indices</span><span class="p">[</span><span class="mi">2</span> <span class="o">*</span> <span class="n">i</span> <span class="o">*</span> <span class="mi">3</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">indices</span><span class="p">[</span><span class="mi">2</span> <span class="o">*</span> <span class="n">i</span> <span class="o">*</span> <span class="mi">3</span><span class="o">+</span> <span class="mi">4</span><span class="p">]</span><span class="o">=</span> <span class="n">j</span><span class="o">+</span><span class="mi">2</span><span class="p">;</span>
		<span class="n">indices</span><span class="p">[</span><span class="mi">2</span> <span class="o">*</span> <span class="n">i</span> <span class="o">*</span> <span class="mi">3</span> <span class="o">+</span> <span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span> <span class="p">;</span>
		<span class="n">indices</span><span class="p">[</span><span class="mi">2</span> <span class="o">*</span> <span class="n">i</span> <span class="o">*</span> <span class="mi">3</span> <span class="o">+</span> <span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span> <span class="p">;</span>

		<span class="n">indices</span><span class="p">[</span><span class="mi">2</span> <span class="o">*</span> <span class="n">i</span> <span class="o">*</span> <span class="mi">3</span><span class="o">+</span> <span class="n">num</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">*</span> <span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="n">indices</span><span class="p">[</span><span class="mi">2</span> <span class="o">*</span> <span class="n">i</span> <span class="o">*</span> <span class="mi">3</span> <span class="o">+</span> <span class="mi">3</span><span class="o">+</span> <span class="n">num</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">*</span> <span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">2</span><span class="o">+</span> <span class="p">(</span><span class="mi">2</span> <span class="o">+</span> <span class="n">num</span><span class="p">)</span> <span class="o">*</span> <span class="mi">3</span><span class="p">;</span>
		<span class="n">indices</span><span class="p">[</span><span class="mi">2</span> <span class="o">*</span> <span class="n">i</span> <span class="o">*</span> <span class="mi">3</span> <span class="o">+</span> <span class="mi">1</span><span class="o">+</span> <span class="n">num</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">*</span> <span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="n">indices</span><span class="p">[</span><span class="mi">2</span> <span class="o">*</span> <span class="n">i</span> <span class="o">*</span> <span class="mi">3</span> <span class="o">+</span> <span class="mi">4</span><span class="o">+</span> <span class="n">num</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">*</span> <span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="n">j</span> <span class="o">+</span> <span class="mi">2</span><span class="o">+</span> <span class="p">(</span><span class="mi">2</span> <span class="o">+</span> <span class="n">num</span><span class="p">)</span> <span class="o">*</span> <span class="mi">3</span><span class="p">;</span>
		<span class="n">indices</span><span class="p">[</span><span class="mi">2</span> <span class="o">*</span> <span class="n">i</span> <span class="o">*</span> <span class="mi">3</span> <span class="o">+</span> <span class="mi">2</span><span class="o">+</span> <span class="n">num</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">*</span> <span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="o">+</span> <span class="p">(</span><span class="mi">2</span> <span class="o">+</span> <span class="n">num</span><span class="p">)</span> <span class="o">*</span> <span class="mi">3</span><span class="p">;</span>
		<span class="n">indices</span><span class="p">[</span><span class="mi">2</span> <span class="o">*</span> <span class="n">i</span> <span class="o">*</span> <span class="mi">3</span> <span class="o">+</span> <span class="mi">5</span><span class="o">+</span> <span class="n">num</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">*</span> <span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="o">+</span> <span class="p">(</span><span class="mi">2</span> <span class="o">+</span> <span class="n">num</span><span class="p">)</span> <span class="o">*</span> <span class="mi">3</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">VBO</span><span class="p">;</span>
	<span class="n">glGenBuffers</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">VBO</span><span class="p">);</span>
	<span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">VAO</span><span class="p">;</span>
	<span class="n">glGenVertexArrays</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">VAO</span><span class="p">);</span>
	<span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">EBO</span><span class="p">;</span>
	<span class="n">glGenBuffers</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">EBO</span><span class="p">);</span>

	<span class="c1">//åˆå§‹åŒ–ä»£ç ï¼ˆåªè¿è¡Œä¸€æ¬¡ (é™¤éä½ çš„ç‰©ä½“é¢‘ç¹æ”¹å˜))</span>
		<span class="c1">// 1. ç»‘å®šVAO</span>
	<span class="n">glBindVertexArray</span><span class="p">(</span><span class="n">VAO</span><span class="p">);</span>
	<span class="c1">// 2. æŠŠæˆ‘ä»¬çš„é¡¶ç‚¹æ•°ç»„å¤åˆ¶åˆ°ä¸€ä¸ªé¡¶ç‚¹ç¼“å†²ä¸­ï¼Œä¾›OpenGLä½¿ç”¨</span>
	<span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="n">VBO</span><span class="p">);</span>
	<span class="n">glBufferData</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">vertices</span><span class="p">),</span> <span class="n">vertices</span><span class="p">,</span> <span class="n">GL_STATIC_DRAW</span><span class="p">);</span>
	<span class="c1">// 3. å¤åˆ¶æˆ‘ä»¬çš„ç´¢å¼•æ•°ç»„åˆ°ä¸€ä¸ªç´¢å¼•ç¼“å†²ä¸­ï¼Œä¾›OpenGLä½¿ç”¨</span>
	<span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ELEMENT_ARRAY_BUFFER</span><span class="p">,</span> <span class="n">EBO</span><span class="p">);</span>
	<span class="n">glBufferData</span><span class="p">(</span><span class="n">GL_ELEMENT_ARRAY_BUFFER</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">indices</span><span class="p">),</span> <span class="n">indices</span><span class="p">,</span> <span class="n">GL_STATIC_DRAW</span><span class="p">);</span>
	<span class="c1">// 4. è®¾å®šé¡¶ç‚¹å±æ€§æŒ‡é’ˆ</span>
	<span class="n">glVertexAttribPointer</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">GL_FLOAT</span><span class="p">,</span> <span class="n">GL_FALSE</span><span class="p">,</span> <span class="mi">3</span> <span class="o">*</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">float</span><span class="p">),</span> <span class="p">(</span><span class="kt">void</span><span class="o">*</span><span class="p">)</span><span class="mi">0</span><span class="p">);</span>
	<span class="n">glEnableVertexAttribArray</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>

	<span class="n">glBindBuffer</span><span class="p">(</span><span class="n">GL_ARRAY_BUFFER</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="n">glBindVertexArray</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>

	<span class="c1">//çº¿æ¡†æ¨¡å¼wireframe</span>
	<span class="n">glPolygonMode</span><span class="p">(</span><span class="n">GL_FRONT_AND_BACK</span><span class="p">,</span> <span class="n">GL_LINE</span><span class="p">);</span>

	<span class="c1">// æ¸²æŸ“å¾ªç¯</span>
	<span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="n">glfwWindowShouldClose</span><span class="p">(</span><span class="n">window</span><span class="p">))</span>
	<span class="p">{</span>
		<span class="c1">// è¾“å…¥</span>
		<span class="n">processInput</span><span class="p">(</span><span class="n">window</span><span class="p">);</span>

		<span class="c1">// æ¸²æŸ“æŒ‡ä»¤</span>
		<span class="n">glClearColor</span><span class="p">(</span><span class="mf">0.2</span><span class="n">f</span><span class="p">,</span> <span class="mf">0.3</span><span class="n">f</span><span class="p">,</span> <span class="mf">0.3</span><span class="n">f</span><span class="p">,</span> <span class="mf">1.0</span><span class="n">f</span><span class="p">);</span>
		<span class="n">glClear</span><span class="p">(</span><span class="n">GL_COLOR_BUFFER_BIT</span><span class="p">);</span>

		<span class="n">glUseProgram</span><span class="p">(</span><span class="n">shaderProgram</span><span class="p">);</span>
		<span class="n">glBindVertexArray</span><span class="p">(</span><span class="n">VAO</span><span class="p">);</span>
		<span class="n">glDrawElements</span><span class="p">(</span><span class="n">GL_TRIANGLES</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">indices</span><span class="p">)</span><span class="o">/</span><span class="k">sizeof</span><span class="p">(</span><span class="n">indices</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span> <span class="n">GL_UNSIGNED_INT</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>

		<span class="n">glUseProgram</span><span class="p">(</span><span class="n">shaderProgram</span><span class="p">);</span><span class="c1">//é€šè¿‡glUniform4få‡½æ•°è®¾ç½®uniformå€¼</span>
		<span class="n">glUniform2f</span><span class="p">(</span><span class="n">glGetUniformLocation</span><span class="p">(</span><span class="n">shaderProgram</span><span class="p">,</span> <span class="s">"yeard"</span><span class="p">),</span><span class="n">r3</span><span class="o">*</span><span class="n">cos</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="o">*</span><span class="n">year</span><span class="o">/</span><span class="mi">360</span><span class="p">),</span><span class="n">r3</span><span class="o">*</span><span class="n">sin</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">pi</span><span class="o">*</span><span class="n">year</span><span class="o">/</span><span class="mi">360</span><span class="p">));</span>
		<span class="n">glUniform2f</span><span class="p">(</span><span class="n">glGetUniformLocation</span><span class="p">(</span><span class="n">shaderProgram</span><span class="p">,</span> <span class="s">"dayd"</span><span class="p">),</span> <span class="n">cos</span><span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">pi</span> <span class="o">*</span> <span class="n">day</span> <span class="o">/</span> <span class="mi">360</span><span class="p">),</span><span class="n">sin</span><span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">pi</span> <span class="o">*</span> <span class="n">day</span> <span class="o">/</span> <span class="mi">360</span><span class="p">));</span>

		<span class="c1">// æ£€æŸ¥å¹¶è°ƒç”¨äº‹ä»¶ï¼Œäº¤æ¢ç¼“å†²</span>
		<span class="n">glfwSwapBuffers</span><span class="p">(</span><span class="n">window</span><span class="p">);</span>
		<span class="n">glfwPollEvents</span><span class="p">();</span>
	<span class="p">}</span>
	<span class="n">glDeleteVertexArrays</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">VAO</span><span class="p">);</span>
	<span class="n">glDeleteBuffers</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">VBO</span><span class="p">);</span>
	<span class="n">glDeleteBuffers</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">EBO</span><span class="p">);</span>

	<span class="n">glfwTerminate</span><span class="p">();</span>
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">framebuffer_size_callback</span><span class="p">(</span><span class="n">GLFWwindow</span><span class="o">*</span> <span class="n">window</span><span class="p">,</span> <span class="kt">int</span> <span class="n">width</span><span class="p">,</span> <span class="kt">int</span> <span class="n">height</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">glViewport</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">processInput</span><span class="p">(</span><span class="n">GLFWwindow</span><span class="o">*</span> <span class="n">window</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kt">int</span> <span class="n">dday</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">dyear</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">glfwGetKey</span><span class="p">(</span><span class="n">window</span><span class="p">,</span> <span class="n">GLFW_KEY_D</span><span class="p">)</span> <span class="o">==</span> <span class="n">GLFW_PRESS</span><span class="p">)</span>
		<span class="n">dday</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">glfwGetKey</span><span class="p">(</span><span class="n">window</span><span class="p">,</span> <span class="n">GLFW_KEY_Y</span><span class="p">)</span> <span class="o">==</span> <span class="n">GLFW_PRESS</span><span class="p">)</span>
		<span class="n">dyear</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">glfwGetKey</span><span class="p">(</span><span class="n">window</span><span class="p">,</span> <span class="n">GLFW_KEY_LEFT_SHIFT</span><span class="p">)</span> <span class="o">==</span> <span class="n">GLFW_PRESS</span><span class="o">||</span><span class="n">glfwGetKey</span><span class="p">(</span><span class="n">window</span><span class="p">,</span><span class="n">GLFW_KEY_RIGHT_SHIFT</span><span class="p">)</span> <span class="o">==</span> <span class="n">GLFW_PRESS</span><span class="p">)</span><span class="c1">//æ˜¯å¦æŒ‰ä¸‹äº†è¿”å›é”®</span>
		<span class="n">dday</span> <span class="o">=</span> <span class="mi">360</span> <span class="o">-</span> <span class="n">dday</span><span class="p">,</span> <span class="n">dyear</span> <span class="o">=</span> <span class="mi">360</span> <span class="o">-</span> <span class="n">dyear</span><span class="p">;</span>
	<span class="n">day</span> <span class="o">=</span> <span class="p">(</span><span class="n">day</span> <span class="o">+</span> <span class="n">dday</span><span class="p">)</span> <span class="o">%</span> <span class="mi">360</span><span class="p">;</span>
	<span class="n">year</span> <span class="o">=</span> <span class="p">(</span><span class="n">year</span> <span class="o">+</span> <span class="n">dyear</span><span class="p">)</span> <span class="o">%</span> <span class="mi">360</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="starc">star.c</h2>

<p>ä¸€å¼€å§‹æ²¡æœ‰ä»”ç»†é˜…è¯»è€å¸ˆè¦æ±‚ï¼ˆâ€œä½¿ç”¨ç€è‰²å™¨ç¼–ç¨‹â€ï¼‰ï¼Œå› æ­¤å…ˆç”¨ OpenGL çš„å›ºå®šç®¡çº¿å®ç°äº†è¦æ±‚ï¼ˆç®€å•äº†å¥½å¤šå•Šï¼‰ã€‚è¿™ä¸€ç‰ˆæ˜¯åœ¨ Linux ä¸‹å¼€å‘çš„ï¼Œå¾—åˆ°çš„ç”Ÿæˆæ–‡ä»¶æ˜¯<code class="highlighter-rouge">star.out</code>ã€‚åæ¥æˆ‘åœ¨ Windows ä¸‹é‡æ–°ç¼–è¯‘äº†è¿™æ®µä»£ç å¾—åˆ°äº†<code class="highlighter-rouge">star.exe</code>ã€‚</p>

<p>è¿è¡Œ<code class="highlighter-rouge">star.exe</code>ç»“æœå¦‚ä¸‹ã€‚</p>

<p><img src="/assets/image/2019-09-30-1.jpg" alt="è¿è¡Œç»“æœ" /></p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/*
gcc star.c -o star.exe -lGL -lGLU -lglut
./star.exe
*/</span>
<span class="cp">#include &lt;GL/glut.h&gt;
</span><span class="kt">int</span> <span class="n">year</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">day</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="kt">void</span> <span class="nf">display</span><span class="p">()</span>
<span class="p">{</span>
	<span class="n">glClear</span><span class="p">(</span><span class="n">GL_COLOR_BUFFER_BIT</span><span class="p">);</span> <span class="c1">//æ¸…ç©ºé¢œè‰²ç¼“å†²åŒº</span>
	<span class="n">glPushMatrix</span><span class="p">();</span>				  <span class="c1">//å‹æ ˆ</span>
	<span class="n">glColor3f</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>		  <span class="c1">//æ’æ˜Ÿæ˜¯æ©™é»„è‰²çš„</span>
	<span class="n">glutWireSphere</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">16</span><span class="p">);</span>	<span class="c1">//ç»˜åˆ¶æ’æ˜Ÿ</span>
	<span class="n">glRotatef</span><span class="p">(</span><span class="n">year</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>	 <span class="c1">//æ²¿yè½´æ—‹è½¬</span>
	<span class="n">glTranslatef</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>		  <span class="c1">//ç§»åŠ¨ç”»ç¬”ï¼Œç”»è¡Œæ˜Ÿ</span>
	<span class="n">glRotatef</span><span class="p">(</span><span class="n">day</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>	  <span class="c1">//æ²¿yè½´æ—‹è½¬</span>
	<span class="n">glColor3f</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">.</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>		  <span class="c1">//è¡Œæ˜Ÿæ˜¯è”šè“è‰²çš„</span>
	<span class="n">glutWireSphere</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">12</span><span class="p">);</span>	<span class="c1">//ç»˜åˆ¶è¡Œæ˜Ÿ</span>
	<span class="n">glPopMatrix</span><span class="p">();</span>				  <span class="c1">//å¼¹æ ˆï¼Œæ¢å¤ç»˜åˆ¶åæ ‡</span>
	<span class="n">glutSwapBuffers</span><span class="p">();</span>
	<span class="n">glFlush</span><span class="p">();</span> <span class="c1">//åˆ·æ–°çª—å£ä»¥æ˜¾ç¤ºå½“å‰ç»˜åˆ¶å›¾å½¢</span>
<span class="p">}</span>
<span class="kt">void</span> <span class="nf">reshape</span><span class="p">(</span><span class="kt">int</span> <span class="n">w</span><span class="p">,</span> <span class="kt">int</span> <span class="n">h</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">glViewport</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="p">(</span><span class="n">GLsizei</span><span class="p">)</span><span class="n">w</span><span class="p">,</span> <span class="p">(</span><span class="n">GLsizei</span><span class="p">)</span><span class="n">h</span><span class="p">);</span> <span class="c1">//è®¾ç½®æœºå£</span>
	<span class="n">glMatrixMode</span><span class="p">(</span><span class="n">GL_PROJECTION</span><span class="p">);</span>			  <span class="c1">//æŒ‡å®šå“ªä¸€ä¸ªçŸ©é˜µæ˜¯å½“å‰çŸ©é˜µ</span>
	<span class="n">glLoadIdentity</span><span class="p">();</span>
	<span class="n">gluPerspective</span><span class="p">(</span><span class="mi">60</span><span class="p">,</span> <span class="p">(</span><span class="n">GLfloat</span><span class="p">)</span><span class="n">w</span> <span class="o">/</span> <span class="p">(</span><span class="n">GLfloat</span><span class="p">)</span><span class="n">h</span><span class="p">,</span> <span class="mi">1</span><span class="p">.</span><span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">);</span> <span class="c1">//é€è§†æŠ•å½±çŸ©é˜µ(fovy,aspect,zNear,zFar);</span>
	<span class="n">glMatrixMode</span><span class="p">(</span><span class="n">GL_MODELVIEW</span><span class="p">);</span>
	<span class="n">glLoadIdentity</span><span class="p">();</span>
	<span class="n">gluLookAt</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span> <span class="c1">//è§‚å¯Ÿè€…ä½ç½®ï¼Œè§‚å¯Ÿè€…æœå‘çš„ä½ç½®ï¼Œè§‚å¯Ÿè€…å¤´é¡¶ä½ç½®</span>
<span class="p">}</span>
<span class="kt">void</span> <span class="nf">keyboard</span><span class="p">(</span><span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">key</span><span class="p">,</span> <span class="kt">int</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">y</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">key</span> <span class="o">==</span> <span class="sc">'d'</span><span class="p">)</span>
		<span class="n">day</span> <span class="o">=</span> <span class="p">(</span><span class="n">day</span> <span class="o">+</span> <span class="mi">10</span><span class="p">)</span> <span class="o">%</span> <span class="mi">360</span><span class="p">;</span>
	<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">key</span> <span class="o">==</span> <span class="sc">'D'</span><span class="p">)</span> <span class="c1">// å¤§å†™æƒ…å†µä¸‹æ˜¯é€†å‘çš„</span>
		<span class="n">day</span> <span class="o">=</span> <span class="p">(</span><span class="n">day</span> <span class="o">+</span> <span class="mi">350</span><span class="p">)</span> <span class="o">%</span> <span class="mi">360</span><span class="p">;</span>
	<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">key</span> <span class="o">==</span> <span class="sc">'y'</span><span class="p">)</span>
		<span class="n">year</span> <span class="o">=</span> <span class="p">(</span><span class="n">year</span> <span class="o">+</span> <span class="mi">10</span><span class="p">)</span> <span class="o">%</span> <span class="mi">360</span><span class="p">;</span>
	<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">key</span> <span class="o">==</span> <span class="sc">'Y'</span><span class="p">)</span> <span class="c1">// å¤§å†™æƒ…å†µä¸‹æ˜¯é€†å‘çš„</span>
		<span class="n">year</span> <span class="o">=</span> <span class="p">(</span><span class="n">year</span> <span class="o">+</span> <span class="mi">350</span><span class="p">)</span> <span class="o">%</span> <span class="mi">360</span><span class="p">;</span>
	<span class="k">else</span>
		<span class="k">return</span><span class="p">;</span>
	<span class="n">glutPostRedisplay</span><span class="p">();</span>
<span class="p">}</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">**</span><span class="n">argv</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">glutInit</span><span class="p">(</span><span class="o">&amp;</span><span class="n">argc</span><span class="p">,</span> <span class="n">argv</span><span class="p">);</span>
	<span class="n">glutInitDisplayMode</span><span class="p">(</span><span class="n">GLUT_RGB</span> <span class="o">|</span> <span class="n">GLUT_SINGLE</span><span class="p">);</span> <span class="c1">//ç¼“å­˜æ¨¡å¼</span>
	<span class="n">glutInitWindowSize</span><span class="p">(</span><span class="mi">600</span><span class="p">,</span> <span class="mi">600</span><span class="p">);</span>				 <span class="c1">//æ˜¾ç¤ºæ¡†çš„å¤§å°</span>
	<span class="n">glutInitWindowPosition</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>			 <span class="c1">//ç¡®å®šæ˜¾ç¤ºæ¡†å·¦ä¸Šè§’çš„ä½ç½®</span>
	<span class="n">glutCreateWindow</span><span class="p">(</span><span class="s">"17341163_å´å_CG_HW3"</span><span class="p">);</span>
	<span class="n">glClearColor</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span> <span class="c1">// åˆå§‹åŒ–</span>
	<span class="n">glShadeModel</span><span class="p">(</span><span class="n">GL_FLAT</span><span class="p">);</span>	<span class="c1">//é€‰æ‹©å¹³é¢æ˜æš—æ¨¡å¼æˆ–å…‰æ»‘æ˜æš—æ¨¡å¼</span>
	<span class="n">glutDisplayFunc</span><span class="p">(</span><span class="n">display</span><span class="p">);</span>
	<span class="n">glutReshapeFunc</span><span class="p">(</span><span class="n">reshape</span><span class="p">);</span>
	<span class="n">glutKeyboardFunc</span><span class="p">(</span><span class="n">keyboard</span><span class="p">);</span>
	<span class="n">glutMainLoop</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div></div>
:ET