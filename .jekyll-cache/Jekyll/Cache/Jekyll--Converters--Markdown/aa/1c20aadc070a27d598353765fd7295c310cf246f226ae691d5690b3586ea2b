I"É:<h2 id="å®éªŒç›®çš„">å®éªŒç›®çš„</h2>

<p>å­¦ä¹  Pandas æ•°æ®åˆ†æåŸºç¡€ï¼Œç»Ÿè®¡æè¿°åŠæ•°æ®å¯è§†åŒ–ç­‰</p>

<h2 id="å®éªŒç®€ä»‹">å®éªŒç®€ä»‹</h2>

<p>Pandas æ•°æ®å¯¼å…¥ï¼›æ•°æ®å˜æ¢å¤„ç†ï¼›ç»Ÿè®¡æ±‡æ€»æè¿°ï¼›å‡è®¾æ£€éªŒï¼›å¯è§†åŒ–ç­‰</p>

<h2 id="å®éªŒç¯å¢ƒ">å®éªŒç¯å¢ƒ</h2>

<h3 id="ç¡¬ä»¶">ç¡¬ä»¶</h3>

<p>æ‰€ç”¨æœºå™¨å‹å·ä¸º VAIO Z Flip 2016</p>

<ul>
  <li>Intel(R) Core(TM) i7-6567U CPU @3.30GHZ 3.31GHz</li>
  <li>8.00GB RAM</li>
</ul>

<h3 id="è½¯ä»¶">è½¯ä»¶</h3>

<ul>
  <li>Windows 10, 64-bit (Build 17763) 10.0.17763</li>
  <li>Windows Subsystem for Linux [Ubuntu 18.04.2 LTS]ï¼šWSL æ˜¯ä»¥è½¯ä»¶çš„å½¢å¼è¿è¡Œåœ¨ Windows ä¸‹çš„ Linux å­ç³»ç»Ÿï¼Œæ˜¯è¿‘äº›å¹´å¾®è½¯æ¨å‡ºæ¥çš„æ–°å·¥å…·ï¼Œå¯ä»¥åœ¨ Windows ç³»ç»Ÿä¸ŠåŸç”Ÿè¿è¡Œ Linuxã€‚</li>
  <li>Python 3.7.4 64-bit (â€˜anaconda3â€™:virtualenv)</li>
  <li>juyter nootbooks</li>
</ul>

<h2 id="å®éªŒæ­¥éª¤ä»£ç ç»“æœä¸åˆ†æ">å®éªŒæ­¥éª¤ã€ä»£ç ã€ç»“æœä¸åˆ†æ</h2>

<h3 id="å¯¼å…¥æ•°æ®å°†-dfdataframe-è½¬æ¢æˆ-numpy-æ•°æ®ç±»å‹">å¯¼å…¥æ•°æ®ï¼Œå°† df.DataFrame è½¬æ¢æˆ Numpy æ•°æ®ç±»å‹</h3>

<h4 id="input">input</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="n">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s">"anscombe.csv"</span><span class="p">)</span>
<span class="n">np</span><span class="p">.</span><span class="n">array</span><span class="p">(</span><span class="n">df</span><span class="p">)</span> <span class="c1"># å°† df.DataFrame è½¬æ¢æˆ Numpy æ•°æ®ç±»å‹
</span></code></pre></div></div>

<h4 id="output">output</h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">array</span><span class="p">([[</span><span class="s">'I'</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">,</span> <span class="mf">8.04</span><span class="p">],</span>
       <span class="p">[</span><span class="s">'I'</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">,</span> <span class="mf">6.95</span><span class="p">],</span>
       <span class="p">[</span><span class="s">'I'</span><span class="p">,</span> <span class="mf">13.0</span><span class="p">,</span> <span class="mf">7.58</span><span class="p">],</span>
       <span class="p">[</span><span class="s">'I'</span><span class="p">,</span> <span class="mf">9.0</span><span class="p">,</span> <span class="mf">8.81</span><span class="p">],</span>
       <span class="p">[</span><span class="s">'I'</span><span class="p">,</span> <span class="mf">11.0</span><span class="p">,</span> <span class="mf">8.33</span><span class="p">],</span>
       <span class="p">[</span><span class="s">'I'</span><span class="p">,</span> <span class="mf">14.0</span><span class="p">,</span> <span class="mf">9.96</span><span class="p">],</span>
       <span class="p">[</span><span class="s">'I'</span><span class="p">,</span> <span class="mf">6.0</span><span class="p">,</span> <span class="mf">7.24</span><span class="p">],</span>
       <span class="p">[</span><span class="s">'I'</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">,</span> <span class="mf">4.26</span><span class="p">],</span>
       <span class="p">[</span><span class="s">'I'</span><span class="p">,</span> <span class="mf">12.0</span><span class="p">,</span> <span class="mf">10.84</span><span class="p">],</span>
       <span class="p">[</span><span class="s">'I'</span><span class="p">,</span> <span class="mf">7.0</span><span class="p">,</span> <span class="mf">4.82</span><span class="p">],</span>
       <span class="p">[</span><span class="s">'I'</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">5.68</span><span class="p">],</span>
       <span class="p">[</span><span class="s">'II'</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">,</span> <span class="mf">9.14</span><span class="p">],</span>
       <span class="p">[</span><span class="s">'II'</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">,</span> <span class="mf">8.14</span><span class="p">],</span>
       <span class="p">[</span><span class="s">'II'</span><span class="p">,</span> <span class="mf">13.0</span><span class="p">,</span> <span class="mf">8.74</span><span class="p">],</span>
       <span class="p">[</span><span class="s">'II'</span><span class="p">,</span> <span class="mf">9.0</span><span class="p">,</span> <span class="mf">8.77</span><span class="p">],</span>
       <span class="p">[</span><span class="s">'II'</span><span class="p">,</span> <span class="mf">11.0</span><span class="p">,</span> <span class="mf">9.26</span><span class="p">],</span>
       <span class="p">[</span><span class="s">'II'</span><span class="p">,</span> <span class="mf">14.0</span><span class="p">,</span> <span class="mf">8.1</span><span class="p">],</span>
       <span class="p">[</span><span class="s">'II'</span><span class="p">,</span> <span class="mf">6.0</span><span class="p">,</span> <span class="mf">6.13</span><span class="p">],</span>
       <span class="p">[</span><span class="s">'II'</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">,</span> <span class="mf">3.1</span><span class="p">],</span>
       <span class="p">[</span><span class="s">'II'</span><span class="p">,</span> <span class="mf">12.0</span><span class="p">,</span> <span class="mf">9.13</span><span class="p">],</span>
       <span class="p">[</span><span class="s">'II'</span><span class="p">,</span> <span class="mf">7.0</span><span class="p">,</span> <span class="mf">7.26</span><span class="p">],</span>
       <span class="p">[</span><span class="s">'II'</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">4.74</span><span class="p">],</span>
       <span class="p">[</span><span class="s">'III'</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">,</span> <span class="mf">7.46</span><span class="p">],</span>
       <span class="p">[</span><span class="s">'III'</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">,</span> <span class="mf">6.77</span><span class="p">],</span>
       <span class="p">[</span><span class="s">'III'</span><span class="p">,</span> <span class="mf">13.0</span><span class="p">,</span> <span class="mf">12.74</span><span class="p">],</span>
       <span class="p">[</span><span class="s">'III'</span><span class="p">,</span> <span class="mf">9.0</span><span class="p">,</span> <span class="mf">7.11</span><span class="p">],</span>
       <span class="p">[</span><span class="s">'III'</span><span class="p">,</span> <span class="mf">11.0</span><span class="p">,</span> <span class="mf">7.81</span><span class="p">],</span>
       <span class="p">[</span><span class="s">'III'</span><span class="p">,</span> <span class="mf">14.0</span><span class="p">,</span> <span class="mf">8.84</span><span class="p">],</span>
       <span class="p">[</span><span class="s">'III'</span><span class="p">,</span> <span class="mf">6.0</span><span class="p">,</span> <span class="mf">6.08</span><span class="p">],</span>
       <span class="p">[</span><span class="s">'III'</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">,</span> <span class="mf">5.39</span><span class="p">],</span>
       <span class="p">[</span><span class="s">'III'</span><span class="p">,</span> <span class="mf">12.0</span><span class="p">,</span> <span class="mf">8.15</span><span class="p">],</span>
       <span class="p">[</span><span class="s">'III'</span><span class="p">,</span> <span class="mf">7.0</span><span class="p">,</span> <span class="mf">6.42</span><span class="p">],</span>
       <span class="p">[</span><span class="s">'III'</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">5.73</span><span class="p">],</span>
       <span class="p">[</span><span class="s">'IV'</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">,</span> <span class="mf">6.58</span><span class="p">],</span>
       <span class="p">[</span><span class="s">'IV'</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">,</span> <span class="mf">5.76</span><span class="p">],</span>
       <span class="p">[</span><span class="s">'IV'</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">,</span> <span class="mf">7.71</span><span class="p">],</span>
       <span class="p">[</span><span class="s">'IV'</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">,</span> <span class="mf">8.84</span><span class="p">],</span>
       <span class="p">[</span><span class="s">'IV'</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">,</span> <span class="mf">8.47</span><span class="p">],</span>
       <span class="p">[</span><span class="s">'IV'</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">,</span> <span class="mf">7.04</span><span class="p">],</span>
       <span class="p">[</span><span class="s">'IV'</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">,</span> <span class="mf">5.25</span><span class="p">],</span>
       <span class="p">[</span><span class="s">'IV'</span><span class="p">,</span> <span class="mf">19.0</span><span class="p">,</span> <span class="mf">12.5</span><span class="p">],</span>
       <span class="p">[</span><span class="s">'IV'</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">,</span> <span class="mf">5.56</span><span class="p">],</span>
       <span class="p">[</span><span class="s">'IV'</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">,</span> <span class="mf">7.91</span><span class="p">],</span>
       <span class="p">[</span><span class="s">'IV'</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">,</span> <span class="mf">6.89</span><span class="p">]],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">object</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="æ“ä½œè¯´æ˜-pandas-æ•°æ®ç¼ºå¤±å€¼å¤„ç†reindexdropnafillnaisnull">æ“ä½œè¯´æ˜ pandas æ•°æ®ç¼ºå¤±å€¼å¤„ç†ï¼šreindex()ï¼Œdropna()ï¼Œfillna()ï¼Œisnull()</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">df</span><span class="p">.</span><span class="n">reindex</span><span class="p">([</span><span class="s">'a'</span><span class="p">,</span><span class="s">'b'</span><span class="p">,</span><span class="s">'c'</span><span class="p">])</span>
</code></pre></div></div>

<p>åŸå›¾çš„åˆ—ä¸‹æ ‡æ¢æˆäº†<code class="highlighter-rouge">['a','b','c']</code>ã€‚</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">df</span><span class="p">.</span><span class="n">reindex</span><span class="p">([</span><span class="s">'a'</span><span class="p">,</span><span class="s">'b'</span><span class="p">,</span><span class="s">'c'</span><span class="p">]).</span><span class="n">dropna</span><span class="p">()</span>
</code></pre></div></div>

<p>åœ¨ä¸Šä¸€æ­¥çš„åŸºç¡€ä¸Šåˆ å»äº†æ‰€æœ‰ NaN å€¼ï¼Œäºæ˜¯è¾“å‡ºäº†ä¸€å¼ ç©ºè¡¨ã€‚</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">df</span><span class="p">.</span><span class="n">reindex</span><span class="p">([</span><span class="s">'a'</span><span class="p">,</span><span class="s">'b'</span><span class="p">,</span><span class="s">'c'</span><span class="p">]).</span><span class="n">fillna</span><span class="p">(</span><span class="mi">17341163</span><span class="p">)</span>
</code></pre></div></div>

<p>åœ¨ç¬¬ä¸€æ­¥çš„åŸºç¡€ä¸ŠæŠŠæ‰€æœ‰ NaN æ¢æˆäº†æˆ‘çš„å­¦å·<code class="highlighter-rouge">17341163</code>ã€‚</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">df</span><span class="p">.</span><span class="n">isnull</span><span class="p">()</span>
</code></pre></div></div>

<p>ç”¨å¸ƒå°”å€¼å¡«å……åŸè¡¨ã€‚</p>

<h3 id="æ¢ç´¢-pandas-ä¸­çš„å¯è§†åŒ–å·¥å…·æŠ˜çº¿å›¾é¥¼çŠ¶å›¾ç­‰å¯¹è¯¥æ•°æ®é›†è¿›è¡Œæ·±å…¥åˆ†æ">æ¢ç´¢ pandas ä¸­çš„å¯è§†åŒ–å·¥å…·ï¼ˆæŠ˜çº¿å›¾ã€é¥¼çŠ¶å›¾ç­‰ï¼‰å¯¹è¯¥æ•°æ®é›†è¿›è¡Œæ·±å…¥åˆ†æ</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">matplotlib</span>
<span class="n">matplotlib</span><span class="p">.</span><span class="n">pyplot</span><span class="p">.</span><span class="n">show</span><span class="p">(</span><span class="n">df</span><span class="p">.</span><span class="n">mean</span><span class="p">().</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span> <span class="o">=</span> <span class="s">'line'</span><span class="p">))</span> <span class="c1"># æŠ˜çº¿å›¾
</span></code></pre></div></div>

<p>å¦‚å›¾ï¼ˆè§é™„ä»¶<code class="highlighter-rouge">å´å(17341163)_lab4_1.ipynb</code>ï¼‰ï¼ŒåŸæ•°æ®é›†çš„å‡å€¼å…ˆå¢åå‡ã€‚</p>

<h3 id="æ¢ç´¢-pandas-ä¸­åˆ†ç»„åŠç»Ÿè®¡æ“ä½œåˆ©ç”¨-pandas-æˆ–-numpy-ç»Ÿè®¡å‡½æ•°è®¡ç®—-anscombe-æ•°æ®çš„ç»Ÿè®¡å€¼">æ¢ç´¢ pandas ä¸­åˆ†ç»„åŠç»Ÿè®¡æ“ä½œã€‚åˆ©ç”¨ pandas æˆ– numpy ç»Ÿè®¡å‡½æ•°ï¼Œè®¡ç®— Anscombe æ•°æ®çš„ç»Ÿè®¡å€¼</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">df</span><span class="p">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s">"dataset"</span><span class="p">).</span><span class="n">mean</span><span class="p">()</span>
</code></pre></div></div>

<h2 id="å®éªŒæ€»ç»“">å®éªŒæ€»ç»“</h2>

<p>ä¸€äº› Pandas çš„åŸºç¡€æ“ä½œï¼Œè¿˜æ˜¯ç›¸å¯¹æ¯”è¾ƒç®€å•ï¼Œæ²¡æœ‰é‡åˆ°å¤šå¤§é—®é¢˜ã€‚</p>

<h2 id="ä½¿ç”¨çš„æ•°æ®é›†anscombecsv">ä½¿ç”¨çš„æ•°æ®é›†<code class="highlighter-rouge">anscombe.csv</code></h2>

<pre><code class="language-csv">dataset,x,y
I,10.0,8.04
I,8.0,6.95
I,13.0,7.58
I,9.0,8.81
I,11.0,8.33
I,14.0,9.96
I,6.0,7.24
I,4.0,4.26
I,12.0,10.84
I,7.0,4.82
I,5.0,5.68
II,10.0,9.14
II,8.0,8.14
II,13.0,8.74
II,9.0,8.77
II,11.0,9.26
II,14.0,8.1
II,6.0,6.13
II,4.0,3.1
II,12.0,9.13
II,7.0,7.26
II,5.0,4.74
III,10.0,7.46
III,8.0,6.77
III,13.0,12.74
III,9.0,7.11
III,11.0,7.81
III,14.0,8.84
III,6.0,6.08
III,4.0,5.39
III,12.0,8.15
III,7.0,6.42
III,5.0,5.73
IV,8.0,6.58
IV,8.0,5.76
IV,8.0,7.71
IV,8.0,8.84
IV,8.0,8.47
IV,8.0,7.04
IV,8.0,5.25
IV,19.0,12.5
IV,8.0,5.56
IV,8.0,7.91
IV,8.0,6.89
</code></pre>
:ET