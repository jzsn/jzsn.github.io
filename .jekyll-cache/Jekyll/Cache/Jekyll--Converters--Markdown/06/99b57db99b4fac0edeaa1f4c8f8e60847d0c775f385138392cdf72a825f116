I"7<h2 id="othello">Othello</h2>

<p>Othello (or Reversi) is a strategy board game for two players, played on an 8Ã—8 uncheckered board.</p>

<p>There are sixty-four identical game pieces called disks (often spelled â€discsâ€), which are light on oneside and dark on the other.</p>

<p>Please see figure 1. Players take turns placing disks on the board with their assigned color facing up.</p>

<p>During a play,any disks of the opponentâ€™s color that are in a straight line and bounded by the disk just placed andanother disk of the current playerâ€™s color are turned over to the current playerâ€™s color.</p>

<p>The object of the game is to have the majority of disks turned to display your color when thelast playable empty square is filled.</p>

<p>You can refer to <a href="http://www.tothello.com/html/guideline_of_reversed_othello.htmlformore">http://www.tothello.com/html/guideline_of_reversed_othello.htmlformore</a> information of guideline, meanwhile, you can download the software to have a try from <a href="http://www.tothello.com/html/download.html">http://www.tothello.com/html/download.html</a>.</p>

<p>The game installertothellotrialsetup.execanalso be found in the current folder.</p>

<h2 id="tasks">Tasks</h2>

<ol>
  <li>In order to reduce the complexity of the game, we think the board is 6Ã—6.</li>
  <li>There are several evaluation functions that involve many aspects, you can turn to <a href="http://blog.sina.com.cn/s/blog_53ebdba00100cpy2.html">http://blog.sina.com.cn/s/blog_53ebdba00100cpy2.html</a> for help. In order to reduce the difficulty ofthe task, I have gaven you some hints of evaluation function in the fileHeuristic Functionfor Reversi (Othello).cpp.2</li>
  <li>Please choose an appropriate evaluation function and use min-max and $\alpha - \beta$ prunning to implement the Othello game. The framework file you can refer to isOthello.cpp. Of course,I wish your program can beat the computer.</li>
</ol>

<h2 id="codes">Codes</h2>

<p>ä¸‹è¿°ä»£ç åœ¨<a href="https://vjudge.net/problem/UVA-220">Othello - UVa - 220</a>çš„åŸºç¡€ä¸Šä¿®æ”¹ã€‚ä½¿ç”¨æ—¶æŒ‰ç…§å¦‚ä¸‹æ ¼å¼ï¼š</p>

<ol>
  <li>è¾“å…¥çš„ç¬¬ä¸€ä¸ªå‚æ•° tï¼Œä»£è¡¨æ¸¸æˆè¿›è¡Œçš„æ¬¡æ•°ï¼›</li>
  <li>å¯¹äºæ¯ä¸€æ¬¡æ¸¸æˆ
    <ol>
      <li>è¯»å…¥ä¸€ä¸ª 6*6 çš„æ£‹ç›˜ï¼Œç”¨<code class="highlighter-rouge">B</code>ä»£è¡¨é»‘æ£‹ï¼Œ<code class="highlighter-rouge">W</code>ä»£è¡¨ç™½æ£‹ï¼Œ<code class="highlighter-rouge">-</code>ä»£è¡¨ç©ºä½</li>
      <li>è¯»å…¥å½“å‰è½®åˆ°è°ä¸‹å­ï¼ˆä¹Ÿå°±æ˜¯è¯´è¿™ä¸ªæ¡†æ¶æ”¯æŒè¯»æ¡£åŠŸèƒ½ï¼‰</li>
      <li>æ¥ä¸‹æ¥è¿›å…¥æ¸¸æˆçŠ¶æ€ï¼Œæ¯æ¬¡å¯ä»¥æ¥å—å¦‚ä¸‹æŒ‡ä»¤
        <ul>
          <li><code class="highlighter-rouge">S</code>ï¼šæ˜¾ç¤ºå½“å‰æ£‹ç›˜çŠ¶æ€ã€åŒæ–¹å¾—åˆ†ï¼Œä»¥åŠè½®åˆ°è°è½å­</li>
          <li><code class="highlighter-rouge">L</code>ï¼šæ˜¾ç¤ºå½“å‰è½å­æ–¹å¯ä¸‹çš„ä½ç½®ã€‚ä¸å­˜åœ¨æ—¶ï¼Œè¿”å›<code class="highlighter-rouge">No legal move.</code></li>
          <li><code class="highlighter-rouge">M&lt;r&gt;&lt;c&gt;</code>ï¼Œåœ¨ r è¡Œ c åˆ—ä¸‹ä¸€å­ï¼Œéœ€ä¿è¯æ­¤ä½ç½®åˆæ³•ã€‚å½“è‡ªå·±ä¸èƒ½ä¸‹è¿™ä¸ªä½ç½®æ—¶ï¼Œä¼šè®©å¯¹æ‰‹ä¸‹è¿™ä¸ªä½ç½®ã€‚</li>
          <li><code class="highlighter-rouge">Q</code>ï¼šæ‰“å°ç›˜é¢å¹¶é€€å‡º</li>
          <li><code class="highlighter-rouge">A</code>ï¼šæœ¬æ¬¡ä½œä¸šå®ç°çš„å¯¹è±¡ï¼Œä½¿ç”¨ Alpha-Beta å‰ªæå®ç°çš„ AI æ¥ä¸‹è¿™ä¸€æ­¥</li>
          <li>æŒ‡ä»¤æ˜¯å¯ä»¥æ‰¹å¤„ç†çš„ï¼Œä¹‹é—´ç”¨ç©ºæ ¼åˆ†å¼€ã€‚ä¾‹å¦‚<code class="highlighter-rouge">A S A S</code>å°±æ˜¯åŒæ–¹å„è®© AI ä¸‹ä¸€æ­¥ï¼Œå¹¶åˆ†åˆ«æ‰“å°ç›˜é¢ã€‚</li>
        </ul>
      </li>
    </ol>
  </li>
</ol>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;stdio.h&gt;
</span><span class="k">struct</span> <span class="n">State</span>
<span class="p">{</span>
	<span class="kt">int</span> <span class="n">cnt</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
	<span class="kt">char</span> <span class="n">a</span><span class="p">[</span><span class="mi">15</span><span class="p">][</span><span class="mi">15</span><span class="p">];</span>
<span class="p">}</span> <span class="n">now</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">work</span><span class="p">(</span><span class="kt">int</span> <span class="n">r</span><span class="p">,</span> <span class="kt">int</span> <span class="n">c</span><span class="p">,</span> <span class="kt">char</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">fill</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">now</span><span class="p">.</span><span class="n">a</span><span class="p">[</span><span class="n">r</span><span class="p">][</span><span class="n">c</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'B'</span> <span class="o">||</span> <span class="n">now</span><span class="p">.</span><span class="n">a</span><span class="p">[</span><span class="n">r</span><span class="p">][</span><span class="n">c</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'W'</span><span class="p">)</span>
		<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
	<span class="kt">char</span> <span class="n">y</span> <span class="o">=</span> <span class="n">x</span> <span class="o">==</span> <span class="sc">'B'</span> <span class="o">?</span> <span class="sc">'W'</span> <span class="o">:</span> <span class="sc">'B'</span><span class="p">,</span> <span class="n">ok</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">dr</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">},</span> <span class="n">dc</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">};</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">8</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
		<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">rr</span> <span class="o">=</span> <span class="n">r</span> <span class="o">+</span> <span class="n">dr</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">cc</span> <span class="o">=</span> <span class="n">c</span> <span class="o">+</span> <span class="n">dc</span><span class="p">[</span><span class="n">i</span><span class="p">];</span> <span class="n">now</span><span class="p">.</span><span class="n">a</span><span class="p">[</span><span class="n">rr</span><span class="p">][</span><span class="n">cc</span><span class="p">]</span> <span class="o">==</span> <span class="n">y</span><span class="p">;)</span>
			<span class="k">if</span> <span class="p">(</span><span class="n">now</span><span class="p">.</span><span class="n">a</span><span class="p">[</span><span class="n">rr</span> <span class="o">+=</span> <span class="n">dr</span><span class="p">[</span><span class="n">i</span><span class="p">]][</span><span class="n">cc</span> <span class="o">+=</span> <span class="n">dc</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span> <span class="o">==</span> <span class="n">x</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">fill</span><span class="p">)</span>
					<span class="k">return</span> <span class="mi">1</span><span class="p">;</span>
				<span class="k">for</span> <span class="p">(</span><span class="n">ok</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="o">--</span><span class="n">now</span><span class="p">.</span><span class="n">cnt</span><span class="p">[</span><span class="n">x</span> <span class="o">==</span> <span class="sc">'W'</span><span class="p">],</span> <span class="o">++</span><span class="n">now</span><span class="p">.</span><span class="n">cnt</span><span class="p">[</span><span class="n">x</span> <span class="o">==</span> <span class="sc">'B'</span><span class="p">];</span> <span class="n">rr</span> <span class="o">!=</span> <span class="n">r</span> <span class="o">||</span> <span class="n">cc</span> <span class="o">!=</span> <span class="n">c</span><span class="p">;</span> <span class="n">rr</span> <span class="o">-=</span> <span class="n">dr</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">cc</span> <span class="o">-=</span> <span class="n">dc</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
					<span class="n">now</span><span class="p">.</span><span class="n">a</span><span class="p">[</span><span class="n">rr</span><span class="p">][</span><span class="n">cc</span><span class="p">]</span> <span class="o">=</span> <span class="n">x</span><span class="p">,</span> <span class="o">++</span><span class="n">now</span><span class="p">.</span><span class="n">cnt</span><span class="p">[</span><span class="n">x</span> <span class="o">==</span> <span class="sc">'W'</span><span class="p">],</span> <span class="o">--</span><span class="n">now</span><span class="p">.</span><span class="n">cnt</span><span class="p">[</span><span class="n">x</span> <span class="o">==</span> <span class="sc">'B'</span><span class="p">];</span>
				<span class="k">break</span><span class="p">;</span>
			<span class="p">}</span>
	<span class="k">if</span> <span class="p">(</span><span class="n">ok</span><span class="p">)</span>
		<span class="n">now</span><span class="p">.</span><span class="n">a</span><span class="p">[</span><span class="n">r</span><span class="p">][</span><span class="n">c</span><span class="p">]</span> <span class="o">=</span> <span class="n">x</span><span class="p">,</span> <span class="o">++</span><span class="n">now</span><span class="p">.</span><span class="n">cnt</span><span class="p">[</span><span class="n">x</span> <span class="o">==</span> <span class="sc">'W'</span><span class="p">];</span>
	<span class="k">return</span> <span class="n">ok</span><span class="p">;</span>
<span class="p">}</span>
<span class="kt">void</span> <span class="nf">showTable</span><span class="p">()</span>
<span class="p">{</span>
	<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">now</span><span class="p">.</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">];</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
		<span class="n">puts</span><span class="p">(</span><span class="n">now</span><span class="p">.</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
<span class="p">}</span>
<span class="kt">int</span> <span class="nf">dfs</span><span class="p">(</span><span class="kt">char</span> <span class="n">x</span><span class="p">,</span> <span class="kt">int</span> <span class="n">dep</span><span class="p">,</span> <span class="kt">int</span> <span class="n">alpha</span><span class="p">,</span> <span class="kt">int</span> <span class="n">beta</span><span class="p">,</span> <span class="kt">int</span> <span class="o">*</span><span class="n">ansr</span><span class="p">,</span> <span class="kt">int</span> <span class="o">*</span><span class="n">ansc</span><span class="p">)</span>
<span class="p">{</span>
	<span class="o">*</span><span class="n">ansr</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">*</span><span class="n">ansc</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">dep</span><span class="p">)</span> <span class="c1">//å±€é¢è¯„ä¼°å‡½æ•°ï¼Œè¿™é‡Œæ˜¯è‡ªå·±çš„é¢œè‰²å‡å»å¯¹æ‰‹çš„é¢œè‰²æ•°</span>
		<span class="k">return</span> <span class="n">now</span><span class="p">.</span><span class="n">cnt</span><span class="p">[</span><span class="n">x</span> <span class="o">==</span> <span class="sc">'W'</span><span class="p">]</span> <span class="o">-</span> <span class="n">now</span><span class="p">.</span><span class="n">cnt</span><span class="p">[</span><span class="n">x</span> <span class="o">==</span> <span class="sc">'B'</span><span class="p">];</span>
	<span class="kt">int</span> <span class="n">ok</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="k">struct</span> <span class="n">State</span> <span class="n">tp</span> <span class="o">=</span> <span class="n">now</span><span class="p">;</span> <span class="c1">// å¤‡ä»½å½“å‰çŠ¶æ€</span>
	<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">now</span><span class="p">.</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">];</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
		<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">now</span><span class="p">.</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">];</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span>
			<span class="k">if</span> <span class="p">(</span><span class="n">work</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span> <span class="c1">//å¦‚æœè¿™ä¸ªä½ç½®å¯ä»¥ä¸‹ï¼ˆå¡«å……è¿›å»ï¼‰</span>
			<span class="p">{</span>
				<span class="n">ok</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
				<span class="kt">int</span> <span class="n">tmpr</span><span class="p">,</span> <span class="n">tmpc</span><span class="p">,</span> <span class="n">tmp</span> <span class="o">=</span> <span class="o">-</span><span class="n">dfs</span><span class="p">(</span><span class="n">x</span> <span class="o">==</span> <span class="sc">'B'</span> <span class="o">?</span> <span class="sc">'W'</span> <span class="o">:</span> <span class="sc">'B'</span><span class="p">,</span> <span class="n">dep</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="n">beta</span><span class="p">,</span> <span class="o">-</span><span class="n">alpha</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">tmpr</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">tmpc</span><span class="p">);</span>
				<span class="n">now</span> <span class="o">=</span> <span class="n">tp</span><span class="p">;</span> <span class="c1">//ï¼ˆå›æº¯ï¼Œæ¢å¤åŸçŠ¶æ€ï¼‰</span>
				<span class="k">if</span> <span class="p">(</span><span class="n">alpha</span> <span class="o">&lt;</span> <span class="n">tmp</span><span class="p">)</span>
				<span class="p">{</span>
					<span class="o">*</span><span class="n">ansr</span> <span class="o">=</span> <span class="n">i</span><span class="p">,</span> <span class="o">*</span><span class="n">ansc</span> <span class="o">=</span> <span class="n">j</span><span class="p">,</span> <span class="n">alpha</span> <span class="o">=</span> <span class="n">tmp</span><span class="p">;</span>
					<span class="k">if</span> <span class="p">(</span><span class="n">alpha</span> <span class="o">&gt;=</span> <span class="n">beta</span><span class="p">)</span> <span class="c1">// å¯ä»¥å‡æ</span>
						<span class="k">break</span><span class="p">;</span>
				<span class="p">}</span>
			<span class="p">}</span>
	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">ok</span><span class="p">)</span> <span class="c1">//æ— å¯ä¸‹å­ï¼Œä¸¢ç»™å¯¹æ‰‹å†³å®š</span>
	<span class="p">{</span>
		<span class="kt">int</span> <span class="n">tmpr</span><span class="p">,</span> <span class="n">tmpc</span><span class="p">;</span>
		<span class="k">return</span> <span class="o">-</span><span class="n">dfs</span><span class="p">(</span><span class="n">x</span> <span class="o">==</span> <span class="sc">'B'</span> <span class="o">?</span> <span class="sc">'W'</span> <span class="o">:</span> <span class="sc">'B'</span><span class="p">,</span> <span class="n">dep</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="n">beta</span><span class="p">,</span> <span class="o">-</span><span class="n">alpha</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">tmpr</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">tmpc</span><span class="p">);</span>
	<span class="p">}</span>
	<span class="k">return</span> <span class="n">alpha</span><span class="p">;</span>
<span class="p">}</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
	<span class="kt">int</span> <span class="n">t</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span>
	<span class="k">for</span> <span class="p">(</span><span class="n">scanf</span><span class="p">(</span><span class="s">"%d"</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">t</span><span class="p">);</span> <span class="n">t</span><span class="o">--</span><span class="p">;</span> <span class="n">printf</span><span class="p">(</span><span class="n">t</span> <span class="o">?</span> <span class="s">"</span><span class="se">\n</span><span class="s">"</span> <span class="o">:</span> <span class="s">""</span><span class="p">))</span>
	<span class="p">{</span>
		<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="n">scanf</span><span class="p">(</span><span class="s">"%s"</span><span class="p">,</span> <span class="n">now</span><span class="p">.</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
			<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">now</span><span class="p">.</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">];</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="k">if</span> <span class="p">(</span><span class="n">now</span><span class="p">.</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'B'</span><span class="p">)</span>
					<span class="o">++</span><span class="n">now</span><span class="p">.</span><span class="n">cnt</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
				<span class="k">if</span> <span class="p">(</span><span class="n">now</span><span class="p">.</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'W'</span><span class="p">)</span>
					<span class="o">++</span><span class="n">now</span><span class="p">.</span><span class="n">cnt</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
			<span class="p">}</span>
		<span class="p">}</span>
		<span class="kt">char</span> <span class="n">cur</span><span class="p">,</span> <span class="n">cmd</span><span class="p">[</span><span class="mi">9</span><span class="p">];</span>
		<span class="k">for</span> <span class="p">(</span><span class="n">scanf</span><span class="p">(</span><span class="s">"%s"</span><span class="p">,</span> <span class="n">cmd</span><span class="p">),</span> <span class="n">cur</span> <span class="o">=</span> <span class="n">cmd</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span> <span class="n">scanf</span><span class="p">(</span><span class="s">"%s"</span><span class="p">,</span> <span class="n">cmd</span><span class="p">)</span> <span class="o">!=</span> <span class="n">EOF</span><span class="p">;)</span>
		<span class="p">{</span>
			<span class="k">if</span> <span class="p">(</span><span class="n">cmd</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'L'</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="kt">int</span> <span class="n">cnt</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
				<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
					<span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="n">n</span><span class="p">;</span> <span class="o">++</span><span class="n">j</span><span class="p">)</span>
						<span class="k">if</span> <span class="p">(</span><span class="n">work</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">cur</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
							<span class="n">printf</span><span class="p">(</span><span class="s">"%s(%d,%d)"</span><span class="p">,</span> <span class="n">cnt</span><span class="o">++</span> <span class="o">?</span> <span class="s">" "</span> <span class="o">:</span> <span class="s">""</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">);</span>
				<span class="n">printf</span><span class="p">(</span><span class="n">cnt</span> <span class="o">?</span> <span class="s">"</span><span class="se">\n</span><span class="s">"</span> <span class="o">:</span> <span class="s">"No legal move.</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
			<span class="p">}</span>
			<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">cmd</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'M'</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="kt">int</span> <span class="n">r</span> <span class="o">=</span> <span class="n">cmd</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="sc">'0'</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="n">cmd</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="sc">'0'</span><span class="p">;</span>
				<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">work</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">cur</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
					<span class="n">cur</span> <span class="o">=</span> <span class="n">cur</span> <span class="o">==</span> <span class="sc">'B'</span> <span class="o">?</span> <span class="sc">'W'</span> <span class="o">:</span> <span class="sc">'B'</span><span class="p">;</span>
				<span class="n">work</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">cur</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
				<span class="n">cur</span> <span class="o">=</span> <span class="n">cur</span> <span class="o">==</span> <span class="sc">'B'</span> <span class="o">?</span> <span class="sc">'W'</span> <span class="o">:</span> <span class="sc">'B'</span><span class="p">;</span>
				<span class="n">printf</span><span class="p">(</span><span class="s">"Black - %2d White - %2d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">now</span><span class="p">.</span><span class="n">cnt</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">now</span><span class="p">.</span><span class="n">cnt</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
			<span class="p">}</span>
			<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">cmd</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'Q'</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="n">showTable</span><span class="p">();</span>
				<span class="k">break</span><span class="p">;</span>
			<span class="p">}</span>
			<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">cmd</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'S'</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="n">printf</span><span class="p">(</span><span class="s">"Black - %2d White - %2d</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">now</span><span class="p">.</span><span class="n">cnt</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">now</span><span class="p">.</span><span class="n">cnt</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
				<span class="n">printf</span><span class="p">(</span><span class="s">"Cur - %c</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">cur</span><span class="p">);</span>
				<span class="n">showTable</span><span class="p">();</span>
			<span class="p">}</span>
			<span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">cmd</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'A'</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="kt">int</span> <span class="n">r</span><span class="p">,</span> <span class="n">c</span><span class="p">;</span>
				<span class="n">dfs</span><span class="p">(</span><span class="n">cur</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="o">-</span><span class="mf">1e9</span><span class="p">,</span> <span class="mf">1e9</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">r</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">c</span><span class="p">);</span>
				<span class="k">if</span> <span class="p">(</span><span class="n">r</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">c</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
					<span class="n">work</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">cur</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
				<span class="n">cur</span> <span class="o">=</span> <span class="n">cur</span> <span class="o">==</span> <span class="sc">'B'</span> <span class="o">?</span> <span class="sc">'W'</span> <span class="o">:</span> <span class="sc">'B'</span><span class="p">;</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="p">}</span>
<span class="p">}</span>
<span class="cm">/*
1
------
------
--WB--
--BW--
------
------
W
A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S
*/</span>
</code></pre></div></div>

<h2 id="results">Results</h2>

<p>ä»¥ä¸‹æ˜¯å¯¹å±€çš„è¯¦ç»†è®°å½•ã€‚ç™½æ£‹å…ˆæ‰‹ï¼Œæœ€åé»‘-20 ç™½-16ï¼Œé»‘èƒœã€‚</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>./othello.out
1
<span class="nt">------</span>
<span class="nt">------</span>
<span class="nt">--WB--</span>
<span class="nt">--BW--</span>
<span class="nt">------</span>
<span class="nt">------</span>
W
A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S A S
Black -  1 White -  4
Cur - B
<span class="nt">------</span>
<span class="nt">---W--</span>
<span class="nt">--WW--</span>
<span class="nt">--BW--</span>
<span class="nt">------</span>
<span class="nt">------</span>
Black -  3 White -  3
Cur - W
<span class="nt">------</span>
<span class="nt">---W--</span>
<span class="nt">--WW--</span>
<span class="nt">--BBB-</span>
<span class="nt">------</span>
<span class="nt">------</span>
Black -  2 White -  5
Cur - B
<span class="nt">------</span>
<span class="nt">---W--</span>
<span class="nt">--WW--</span>
<span class="nt">--WBB-</span>
<span class="nt">--W---</span>
<span class="nt">------</span>
Black -  5 White -  3
Cur - W
<span class="nt">---B--</span>
<span class="nt">---B--</span>
<span class="nt">--WB--</span>
<span class="nt">--WBB-</span>
<span class="nt">--W---</span>
<span class="nt">------</span>
Black -  4 White -  5
Cur - B
<span class="nt">---BW-</span>
<span class="nt">---W--</span>
<span class="nt">--WB--</span>
<span class="nt">--WBB-</span>
<span class="nt">--W---</span>
<span class="nt">------</span>
Black -  6 White -  4
Cur - W
<span class="nt">---BBB</span>
<span class="nt">---W--</span>
<span class="nt">--WB--</span>
<span class="nt">--WBB-</span>
<span class="nt">--W---</span>
<span class="nt">------</span>
Black -  4 White -  7
Cur - B
<span class="nt">---BBB</span>
<span class="nt">---W--</span>
<span class="nt">--WB--</span>
<span class="nt">--WWWW</span>
<span class="nt">--W---</span>
<span class="nt">------</span>
Black -  6 White -  6
Cur - W
<span class="nt">---BBB</span>
<span class="nt">---W--</span>
<span class="nt">--WB--</span>
<span class="nt">--BWWW</span>
<span class="nt">-BW---</span>
<span class="nt">------</span>
Black -  5 White -  8
Cur - B
<span class="nt">---BBB</span>
<span class="nt">---W--</span>
<span class="nt">--WB--</span>
<span class="nt">-WWWWW</span>
<span class="nt">-BW---</span>
<span class="nt">------</span>
Black -  9 White -  5
Cur - W
<span class="nt">---BBB</span>
<span class="nt">---B--</span>
<span class="nt">--BB--</span>
<span class="nt">-BWWWW</span>
BBW---
<span class="nt">------</span>
Black -  8 White -  7
Cur - B
<span class="nt">---BBB</span>
<span class="nt">---B--</span>
<span class="nt">--BB--</span>
WWWWWW
BBW---
<span class="nt">------</span>
Black - 11 White -  5
Cur - W
<span class="nt">---BBB</span>
<span class="nt">---B--</span>
<span class="nt">--BB--</span>
WWWBWW
BBBB--
<span class="nt">------</span>
Black -  9 White -  8
Cur - B
<span class="nt">---BBB</span>
<span class="nt">---B--</span>
<span class="nt">--BB--</span>
WWWBWW
WWBB--
W-----
Black - 11 White -  7
Cur - W
<span class="nt">---BBB</span>
<span class="nt">---B--</span>
<span class="nt">--BB-B</span>
WWWBBW
WWBB--
W-----
Black - 10 White -  9
Cur - B
<span class="nt">---BBB</span>
<span class="nt">---B--</span>
<span class="nt">--BB-B</span>
WWWBBW
WWWB--
W--W--
Black - 12 White -  8
Cur - W
<span class="nt">---BBB</span>
<span class="nt">---B--</span>
<span class="nt">-BBB-B</span>
WWBBBW
WWWB--
W--W--
Black - 11 White - 10
Cur - B
<span class="nt">---BBB</span>
<span class="nt">---B--</span>
<span class="nt">-BBBWB</span>
WWBWBW
WWWB--
W--W--
Black - 13 White -  9
Cur - W
<span class="nt">---BBB</span>
<span class="nt">---B--</span>
<span class="nt">-BBBWB</span>
WWBBBW
WWWBB-
W--W--
Black - 10 White - 13
Cur - B
<span class="nt">---BBB</span>
<span class="nt">---B--</span>
WWWWWB
WWBBBW
WWWBB-
W--W--
Black - 13 White - 11
Cur - W
<span class="nt">---BBB</span>
<span class="nt">--BB--</span>
WWBBWB
WWBBBW
WWWBB-
W--W--
Black -  9 White - 16
Cur - B
<span class="nt">--WBBB</span>
<span class="nt">--WW--</span>
WWWBWB
WWWBBW
WWWBB-
W--W--
Black - 11 White - 15
Cur - W
<span class="nt">--WBBB</span>
<span class="nt">-BWW--</span>
WWBBWB
WWWBBW
WWWBB-
W--W--
Black - 10 White - 17
Cur - B
<span class="nt">--WBBB</span>
WWWW--
WWBBWB
WWWBBW
WWWBB-
W--W--
Black - 12 White - 16
Cur - W
<span class="nt">--WBBB</span>
WWWW--
WWBBWB
WWWBBB
WWWBBB
W--W--
Black -  9 White - 20
Cur - B
<span class="nt">--WBBB</span>
WWWW--
WWWBWB
WWWWBB
WWWBWB
W--W-W
Black - 11 White - 19
Cur - W
<span class="nt">--WBBB</span>
WWWW--
WWWBWB
WWWWBB
WWWBBB
W--WBW
Black - 10 White - 21
Cur - B
<span class="nt">--WBBB</span>
WWWWW-
WWWWWB
WWWWBB
WWWBBB
W--WBW
Black - 14 White - 18
Cur - W
<span class="nt">-BBBBB</span>
WWBWW-
WWWBWB
WWWWBB
WWWBBB
W--WBW
Black - 11 White - 22
Cur - B
<span class="nt">-BBBBB</span>
WWBWWW
WWWBWW
WWWWBW
WWWBBW
W--WBW
Black - 15 White - 19
Cur - W
BBBBBB
WBBWWW
WWBBWW
WWWBBW
WWWBBW
W--WBW
Black - 13 White - 22
Cur - B
BBBBBB
WBBWWW
WWBBWW
WWWBWW
WWWWBW
W-WWBW
Black - 20 White - 16
Cur - W
BBBBBB
WBBWWW
WBBBWW
WBWBWW
WBBWBW
WBBBBW
</code></pre></div></div>
:ET